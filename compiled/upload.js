!function(e){var t={};function n(r){if(t[r])return t[r].exports;var u=t[r]={i:r,l:!1,exports:{}};return e[r].call(u.exports,u,u.exports,n),u.l=!0,u.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var u in e)n.d(r,u,function(t){return e[t]}.bind(null,u));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=66)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6);function u(e,t){t instanceof Array||(t=[t]);for(const n of t)if(e instanceof n||null!=e&&e.constructor===n)return;throw new TypeError(r.inspect(e)+" is not an instance of "+t.map(({name:e})=>e).join(" or "))}function s(e){if(u(e,Number),!Number.isSafeInteger(e))throw new RangeError(r.inspect(e)+" is not an integer")}function a(e,t,n,r){if(t<e||t>=n){const u=`${t} is not in [${e},${n})`;throw new RangeError(r?`${r} (${u})`:u)}}t.instanceOf=u,t.integer=s,t.between=a,t.byteUnsignedInteger=function(e){s(e),a(0,e,256)},t.equal={buffers(e,t){if(e.byteLength!==t.byteLength)return!1;const n=new Uint8Array(e),r=new Uint8Array(t);for(let e=0;e<n.length;e++)if(n[e]!==r[e])return!1;return!0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(19),u=n(4),s=n(10),a=n(6),o=n(20),i=n(22),f=n(23),l=n(12),c=n(24);t.NOT_LONG_ENOUGH="Buffer is not long enough",t.makeBaseValue=function(e,t){switch(e.constructor){case o.ArrayType:return new Array(t);case c.TupleType:return new Array(e.length);case i.MapType:return new Map;case f.SetType:return new Set;case l.StructType:return{};default:throw new Error("Invalid type for base value: "+a.inspect(e))}},t.readBooleanByte=function(e,n){if(e.byteLength<=n)throw new Error(t.NOT_LONG_ENOUGH);let r;const u=new Uint8Array(e)[n];switch(u){case 0:case 255:r=!!u;break;default:throw new Error(`0x${a.hexByte(u)} is an invalid Boolean value`)}return{value:r,length:1}},t.readBooleans=function({buffer:e,offset:n,count:u}){const s=new Array(u),a=r.modEight(u),o=r.dividedByEight(u),i=a?o+1:o;if(e.byteLength<n+i)throw new Error(t.NOT_LONG_ENOUGH);const f=new Uint8Array(e,n);for(let e=0;e<i;e++){const t=f[e];for(let n=0;n<8;n++){const a=r.timesEight(e)|n;if(a===u)break;s[a]=Boolean(t&1<<7-n)}}return{value:s,length:i}},t.readFlexInt=function(e,n){if(e.byteLength<=n)throw new Error(t.NOT_LONG_ENOUGH);const r=new Uint8Array(e,n),s=u.getByteCount(r[0]);if(e.byteLength<n+s)throw new Error(t.NOT_LONG_ENOUGH);return{value:u.readValueBuffer(r.slice(0,s).buffer),length:s}},t.readLong=function(e,n){if(e.byteLength<n+8)throw new Error(t.NOT_LONG_ENOUGH);const r=new DataView(e,n),u=r.getInt32(0),a=r.getUint32(4);return{value:s.add(s.mul(`${u}`,s.LONG_UPPER_SHIFT),`${a}`),length:8}},t.readNumber=function({func:e,type:n}){const r=n.BYTES_PER_ELEMENT;return(n,u)=>{if(n.byteLength<u+r)throw new Error(t.NOT_LONG_ENOUGH);return{value:new DataView(n)[e](u),length:r}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3);t.default=class extends r.default{}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(11),u=n(31),s=n(33),a=n(16),o=n(0),i=n(29),f=n(4),l=n(17),c=n(18);t.default=class{static get _value(){throw new Error("Generic Type has no value byte")}addToBuffer(e){if(this.isBuffer(e),this.cachedTypeLocations){if(!c.get(e)){const t=this.cachedTypeLocations.get(e);if(void 0!==t)return e.add(i.REPEATED_TYPE).addAll(f.makeValueBuffer(e.length-t)),!1}}else this.cachedTypeLocations=new Map;return this.cachedTypeLocations.set(e,e.length),e.add(this.constructor._value),!0}toBuffer(){return this.cachedBuffer||(this.cachedBuffer=this._toBuffer()),this.cachedBuffer}getHash(){return this.cachedHash||(this.cachedHash=this._getHash()),this.cachedHash}getSignature(){return this.cachedSignature||(this.cachedSignature=this._getSignature()),this.cachedSignature}valueBuffer(e){const t=new l.default;return this.writeValue(t,e),t.toBuffer()}readValue(e,t=0){o.instanceOf(e,ArrayBuffer),o.instanceOf(t,Number);const{value:n,length:r}=this.consumeValue(e,t);if(t+r!==e.byteLength)throw new Error("Did not consume all of buffer");return n}equals(e){return!!e&&e.constructor===this.constructor}isBuffer(e){o.instanceOf(e,a.default)}_toBuffer(){const e=new l.default;return this.addToBuffer(e),e.toBuffer()}_getHash(){const e=new Uint8Array(u.default(this.toBuffer()));return r.fromByteArray(e)}_getSignature(){return s.VERSION_STRING+this.getHash()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);function u(e){const t=7*e;return Math.pow(2,t)}const s=(new Map).set(0,0),a=new Map,o=new Map;{let e=1,t=0,n=-256;for(;t<=Number.MAX_SAFE_INTEGER;)t+=u(e),s.set(e,t),a.set(e,255&n),o.set(e-1,e),n>>=1,e++}t.makeValueBuffer=function(e){if(r.integer(e),e<0)throw new RangeError(`${e} is negative`);const t=(()=>{for(const[t,n]of s)if(n>e)return t;throw new Error(`Cannot represent ${e}`)})();let n=e-s.get(t-1);const u=new Uint8Array(t);for(let e=t-1;e>=0;e--)u[e]=255&n,n=Math.floor(n/256);return u[0]|=a.get(t),u.buffer},t.getByteCount=function(e){const t=Math.clz32(~e<<24),n=o.get(t);if(!n)throw new Error("Invalid number of bytes");return n},t.readValueBuffer=function(e){r.instanceOf(e,ArrayBuffer);const t=e.byteLength;if(!t)throw new Error("Empty flex int buffer");const n=new Uint8Array(e);let u=n[0]^a.get(t);for(let e=1;e<t;e++)u=256*u+n[e];return s.get(t-1)+u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=(e=>{if(e&&e.constructor===String){const t=Number(e);if(!isNaN(t)||"NaN"===e)return t}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=new Set([String,Number,Boolean,Date]);t.hexByte=(e=>(e<16?"0":"")+e.toString(16)),t.inspect=function(e){return function e(n,u){if(void 0===n)return"undefined";if(null===n||r.has(n.constructor))return JSON.stringify(n);if(n instanceof ArrayBuffer){const e=new Uint8Array(n);let r="[";for(let n=0;n<e.length;n++)n&&(r+=", "),r+="0x"+t.hexByte(e[n]);return r+"]"}if("undefined"!=typeof Buffer&&n instanceof Buffer){let e="<Buffer";for(const r of n)e+=" "+t.hexByte(r);return e+">"}if(n instanceof Function)return"Function "+n.name;if(u.has(n))return"[Circular]";u.add(n);let s=!0;if(n instanceof Set){let t="Set {";for(const r of n)s?s=!1:t+=", ",t+=e(r,u);return u.delete(n),t+"}"}if(n instanceof Map){let t="Map {";for(const[r,a]of n)s?s=!1:t+=", ",t+=e(r,u)+" => "+e(a,u);return u.delete(n),t+"}"}if(n instanceof Array){const t=`[${n.map(t=>e(t,u)).join(", ")}]`;return u.delete(n),t}const{name:a}=n.constructor;let o=`${a&&"Object"!==a?a+" ":""}{`;for(const t in n)({}).hasOwnProperty.call(n,t)&&(s?s=!1:o+=", ",o+=t+": "+e(n[t],u));return u.delete(n),o+"}"}(e,new Set)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(17),s=4096;t.toString=function(e){r.instanceOf(e,Uint8Array);const t=[];for(let n=0;n<e.length;){const r=e[n];let u,s=r>239?4:r>223?3:r>191?2:1;if(n+s<=e.length){let t,a,o,i;switch(s){case 1:r<128&&(u=r);break;case 2:128==(192&(t=e[n+1]))&&(i=(31&r)<<6|63&t)>127&&(u=i);break;case 3:t=e[n+1],a=e[n+2],128==(192&t)&&128==(192&a)&&(i=(15&r)<<12|(63&t)<<6|63&a)>2047&&(i<55296||i>57343)&&(u=i);break;case 4:t=e[n+1],a=e[n+2],o=e[n+3],128==(192&t)&&128==(192&a)&&128==(192&o)&&(i=(15&r)<<18|(63&t)<<12|(63&a)<<6|63&o)>65535&&i<1114112&&(u=i)}}void 0===u?(u=65533,s=1):u>65535&&(u-=65536,t.push(u>>>10&1023|55296),u=56320|1023&u),t.push(u),n+=s}let n="";for(let e=0;e<t.length;e+=s)n+=String.fromCharCode(...t.slice(e,e+s));return n},t.fromString=function(e){r.instanceOf(e,String);const t=new u.default;for(const n of e){let e=n.charCodeAt(0);e<128?t.add(e):e<2048?t.add(192|e>>6).add(128|63&e):e<55296||e>=57344?t.add(224|e>>12).add(128|e>>6&63).add(128|63&e):(e=65536+((1023&e)<<10|1023&e),t.add(240|e>>18).add(128|e>>12&63).add(128|e>>6&63).add(128|63&e))}return t.toBuffer()},t.toBinaryString=function(e){r.instanceOf(e,ArrayBuffer);let t="";const n=new Uint8Array(e);for(let e=0;e<n.length;e+=s)t+=String.fromCharCode(...n.subarray(e,e+s));return t},t.fromBinaryString=function(e){r.instanceOf(e,String);const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e[n].charCodeAt(0);return t.buffer}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);t.default=class extends r.default{}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);t.default=class extends r.default{}},function(e,t,n){"use strict";function r(e,t){if(N(e),N(t),!g(e,t))throw new Error("x must be greater or equal to y");for(var n=Math.max(e.length,t.length),r="",u=0,s=0,a=0;a<n;a++){var o=Number(V(e,a))-u;u=0;for(var i=Number(V(t,a));o<i;)o+=10,u++;var f=String(o-i);"0"!==f?(r=f+O(r,s),s=0):s++}return 0===r.length?"0":r}function u(e,t){if(N(e),N(t),c(e,"0")&&c(t,"0"))return"0";for(var n=Math.max(e.length,t.length),r="",u=0,s=0,a=0;a<n;a++){var o=Number(V(e,a))+Number(V(t,a))+u;for(u=0;o>=10;)o-=10,u++;0===o?s++:(r=String(o)+O(r,s),s=0)}return u>0&&(r=String(u)+O(r,s)),r}function s(e,t){if(M(e),M(t),A(e)&&A(t))return u(e,t);if(p(e)&&p(t))return B(u(w(e),w(t)));if(h(w(e),w(t))){var n=e;e=t,t=n}var s=r(w(e),w(t));return A(e)?s:B(s)}function a(e,t){return M(e),M(t),s(e,B(t))}function o(e,t){N(e),U(t);for(var n="",r=I(e),u=0,s=0,a=0;a<r;a++){var o=Number(V(e,a))*t+u;for(u=0;o>=10;)o-=10,u++;0===o?s++:(n=String(o)+O(n,s),s=0)}return u>0&&(n=String(u)+O(n,s)),0===n.length?"0":n}function i(e,t){N(e),N(t);for(var n="0",r=I(t),s=0;s<r;s++){var a=o(e,Number(V(t,s)));n=u(n,a=T(a,s))}return n}function f(e,t){if(M(e),M(t),c(e,"0")||c(t,"0"))return"0";var n=i(w(e),w(t));return v(e,t)?n:B(n)}function l(e,t){if(N(e),N(t),c(e,t))return["1","0"];if(y(t,e))return["0",m(e)];for(var n="0",r=e.length-t.length;;){for(var u=e.slice(0,e.length-r);g(u,t);)u=a(u,t),n=s(n,"1");if(y(t,e=u+e.slice(e.length-r)))return[n=T(n,r),m(e)];if(r--,n=T(n,1),r<0)throw new Error("Illegal state")}}function c(e,t){return m(e)===m(t)}function d(e,t){if(p(e)||p(t))throw new Error("Both operands must be positive: "+e+" "+t);var n=Math.max(e.length,t.length);return E(e,n)<E(t,n)}function h(e,t){return!(!p(e)||!A(t))||(!A(e)||!p(t))&&(p(e)&&p(t)?!c(e,t)&&!d(w(e),w(t)):d(e,t))}function g(e,t){return!h(e,t)}function y(e,t){return!c(e,t)&&g(e,t)}function p(e){return M(e),0===e.indexOf("-")}function A(e){return!p(e)}function w(e){return p(e)?B(e):e}function v(e,t){return A(e)===A(t)}function B(e){return"0"===e?"0":p(e)?e.slice(1):"-"+e}Object.defineProperty(t,"__esModule",{value:!0}),t.subPositive=r,t.add=s,t.sub=a,t.timesDigit=o,t.mulPositive=i,t.mul=f,t.quotientRemainderPositive=l,t.div=function(e,t,n=!1){M(e),M(t);var r=l(w(e),w(t))[0];return v(e,t)||(r=B(r)),!n||c(f(r,t),e)||v(e,t)||(r=a(r,"1")),r},t.eq=c,t.lt=h,t.ge=g,t.gt=y,t.isNegative=p,t.isPositive=A,t.abs=w,t.negate=B;var _=/^(-?)0*([1-9][0-9]*)$/,b=/^0+$/;function m(e){if(b.test(e))return"0";var t=_.exec(e);if(!t)throw new Error("Illegal strint format: "+e);return t[1]+t[2]}function E(e,t){return N(e),P(t),O(e,t-e.length)}function O(e,t){N(e),P(t);for(var n=e,r=0;r<t;r++)n="0"+n;return n}function T(e,t){for(;t>0;)e+="0",t--;return e}function V(e,t){return M(e),U(t),t>=I(e)?"0":e.charAt(e.length-t-1)}function I(e){return p(e)?e.length-1:e.length}function M(e){S(e,"string")}function N(e){M(e),function(e,t,n){if(!t.call(null,e))throw new Error("Condition "+n+" failed for value "+e)}(e,A,"isPositive")}function U(e){S(e,"number")}function P(e){if(S(e,"number"),e<0)throw new Error("Expected a positive number: "+e)}function S(e,t){if(typeof e!==t)throw new Error("Not a "+t+": "+e)}t.normalize=m,t.LONG_UPPER_SHIFT="4294967296",t.BYTE_SHIFT="256"},function(e,t,n){"use strict";t.byteLength=function(e){var t=f(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){for(var t,n=f(e),r=n[0],a=n[1],o=new s(function(e,t,n){return 3*(t+n)/4-n}(0,r,a)),i=0,l=a>0?r-4:r,c=0;c<l;c+=4)t=u[e.charCodeAt(c)]<<18|u[e.charCodeAt(c+1)]<<12|u[e.charCodeAt(c+2)]<<6|u[e.charCodeAt(c+3)],o[i++]=t>>16&255,o[i++]=t>>8&255,o[i++]=255&t;2===a&&(t=u[e.charCodeAt(c)]<<2|u[e.charCodeAt(c+1)]>>4,o[i++]=255&t);1===a&&(t=u[e.charCodeAt(c)]<<10|u[e.charCodeAt(c+1)]<<4|u[e.charCodeAt(c+2)]>>2,o[i++]=t>>8&255,o[i++]=255&t);return o},t.fromByteArray=function(e){for(var t,n=e.length,u=n%3,s=[],a=0,o=n-u;a<o;a+=16383)s.push(l(e,a,a+16383>o?o:a+16383));1===u?(t=e[n-1],s.push(r[t>>2]+r[t<<4&63]+"==")):2===u&&(t=(e[n-2]<<8)+e[n-1],s.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return s.join("")};for(var r=[],u=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,i=a.length;o<i;++o)r[o]=a[o],u[a.charCodeAt(o)]=o;function f(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var u,s,a=[],o=t;o<n;o+=3)u=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),a.push(r[(s=u)>>18&63]+r[s>>12&63]+r[s>>6&63]+r[63&s]);return a.join("")}u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(7),s=n(1),a=n(6),o=n(2),i=n(3);t.StructType=class extends o.default{constructor(e){super(),r.instanceOf(e,Object);const t=Object.keys(e).length;try{r.byteUnsignedInteger(t)}catch(e){throw new Error(`${t} fields is too many`)}this.fields=new Array(t);let n=0;for(const t in e){if(!{}.hasOwnProperty.call(e,t))continue;const s=u.fromString(t);try{r.byteUnsignedInteger(s.byteLength)}catch(e){throw new Error(`Field name ${t} is too long`)}const o=e[t];try{r.instanceOf(o,i.default)}catch(e){throw new Error(a.inspect(o)+" is not a valid field type")}this.fields[n]={name:t,type:o,nameBuffer:s},n++}this.fields.sort((e,t)=>e.name<t.name?-1:e.name>t.name?1:0)}static get _value(){return 81}addToBuffer(e){if(super.addToBuffer(e)){e.add(this.fields.length);for(const t of this.fields){const{nameBuffer:n}=t;e.add(n.byteLength).addAll(n),t.type.addToBuffer(e)}return!0}return!1}writeValue(e,t){this.isBuffer(e),r.instanceOf(t,Object);for(const n of this.fields){const r=t[n.name];try{n.type.writeValue(e,r)}catch(e){throw void 0===r?new Error(`Value for field "${n.name}" missing`):e}}}consumeValue(e,t,n){let r=0;const u=n||s.makeBaseValue(this);for(const n of this.fields){const s=n.type.consumeValue(e,t+r);u[n.name]=s.value,r+=s.length}return{value:u,length:r}}equals(e){if(!super.equals(e))return!1;const t=e;if(this.fields.length!==t.fields.length)return!1;for(let e=0;e<this.fields.length;e++){const n=this.fields[e],r=t.fields[e];if(!n.type.equals(r.type))return!1;if(n.name!==r.name)return!1}return!0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);t.default=class extends r.default{}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(35)),r(n(36)),r(n(37)),r(n(38)),r(n(39)),r(n(40)),r(n(41)),r(n(42)),r(n(43)),r(n(44)),r(n(45)),r(n(46)),r(n(47)),r(n(48)),r(n(49)),r(n(50)),r(n(51)),r(n(52)),r(n(53)),r(n(54)),r(n(55)),r(n(56)),r(n(57)),r(n(24)),r(n(12)),r(n(20)),r(n(23)),r(n(22)),r(n(58)),r(n(59)),r(n(60)),r(n(61)),r(n(62)),r(n(63)),r(n(64))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(14),s=new Map;function a(e){return s.has(e)}t.registerType=function({type:e,name:t}){if(r.instanceOf(e,[u.ArrayType,u.MapType,u.SetType,u.StructType,u.TupleType]),r.instanceOf(t,String),a(t))throw new Error(`"${t}" is already a registered type`);s.set(t,e)},t.getType=function(e){r.instanceOf(e,String);const t=s.get(e);if(!t)throw new Error(`"${e}" is not a registered type`);return t},t.isRegistered=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(16),u=n(0),s=10;t.default=class extends r.default{constructor(e=s){super();try{if(u.integer(e),e<0)throw new Error}catch(t){throw new RangeError(`${e} is not a valid buffer length`)}this.buffer=new ArrayBuffer(e),this.size=0,this.pausePoints=[]}get length(){return this.size}grow(e){if(u.integer(e),e>this.buffer.byteLength){const t=new ArrayBuffer(e<<1);new Uint8Array(t).set(new Uint8Array(this.buffer).subarray(0,this.size)),this.buffer=t}return this}add(e){return u.integer(e),u.between(0,e,256,`Not a byte: ${e}`),this.addAll(new Uint8Array([e]).buffer)}addAll(e){u.instanceOf(e,ArrayBuffer);const t=this.size,n=this.size+e.byteLength;return this.grow(n),this.size=n,new Uint8Array(this.buffer).set(new Uint8Array(e),t),this}get rawBuffer(){return this.buffer}toBuffer(){let e;return this.pausePoints.length?[e]=this.pausePoints:e=this.size,e===this.buffer.byteLength?this.buffer:this.buffer.slice(0,e)}pause(){return this.pausePoints.push(this.size),this}resume(){if(!this.pausePoints.length)throw new Error("Was not paused");return this.pausePoints.pop(),this}reset(){if(!this.pausePoints.length)throw new Error("Was not paused");const e=this.pausePoints[this.pausePoints.length-1];return this.size=e,this}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=new WeakMap;t.increment=function(e){const t=r.get(e)||0;r.set(e,t+1)},t.decrement=function(e){const t=r.get(e);r.set(e,t-1)},t.get=function(e){return r.get(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dividedByEight=function(e){return e>>>3},t.modEight=function(e){return 7&e},t.timesEight=function(e){return e<<3}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(1),s=n(21),a=n(2),o=n(3);t.ArrayType=class extends a.default{constructor(e){super(),r.instanceOf(e,o.default),this.type=e}static get _value(){return 82}addToBuffer(e){return!!super.addToBuffer(e)&&(this.type.addToBuffer(e),!0)}writeValue(e,t){this.isBuffer(e),r.instanceOf(t,Array),s.default({type:this.type,buffer:e,value:t,length:t.length})}consumeValue(e,t,n){const r=u.readFlexInt(e,t),s=r.value;let{length:a}=r;const o=n||u.makeBaseValue(this,s);for(let n=0;n<s;n++){const r=this.type.consumeValue(e,t+a);a+=r.length,o[n]=r.value}return{value:o,length:a}}equals(e){return super.equals(e)&&this.type.equals(e.type)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4);t.default=(({type:e,buffer:t,value:n,length:u})=>{t.addAll(r.makeValueBuffer(u));for(const r of n)e.writeValue(t,r)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(4),s=n(1),a=n(2),o=n(3);t.MapType=class extends a.default{constructor(e,t){super(),r.instanceOf(e,o.default),r.instanceOf(t,o.default),this.keyType=e,this.valueType=t}static get _value(){return 84}addToBuffer(e){return!!super.addToBuffer(e)&&(this.keyType.addToBuffer(e),this.valueType.addToBuffer(e),!0)}writeValue(e,t){this.isBuffer(e),r.instanceOf(t,Map),e.addAll(u.makeValueBuffer(t.size));for(const[n,r]of t)this.keyType.writeValue(e,n),this.valueType.writeValue(e,r)}consumeValue(e,t,n){const r=s.readFlexInt(e,t);let{length:u}=r;const a=n||s.makeBaseValue(this);for(let n=0;n<r.value;n++){const n=this.keyType.consumeValue(e,t+u);u+=n.length;const r=this.valueType.consumeValue(e,t+u);u+=r.length,a.set(n.value,r.value)}return{value:a,length:u}}equals(e){return super.equals(e)&&this.keyType.equals(e.keyType)&&this.valueType.equals(e.valueType)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(1),s=n(21),a=n(2),o=n(3);t.SetType=class extends a.default{constructor(e){super(),r.instanceOf(e,o.default),this.type=e}static get _value(){return 83}addToBuffer(e){return!!super.addToBuffer(e)&&(this.type.addToBuffer(e),!0)}writeValue(e,t){this.isBuffer(e),r.instanceOf(t,Set),s.default({type:this.type,buffer:e,value:t,length:t.size})}consumeValue(e,t,n){const r=u.readFlexInt(e,t);let{length:s}=r;const a=n||u.makeBaseValue(this);for(let n=0;n<r.value;n++){const n=this.type.consumeValue(e,t+s);s+=n.length,a.add(n.value)}return{value:a,length:s}}equals(e){return super.equals(e)&&this.type.equals(e.type)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(1),s=n(2),a=n(3);t.TupleType=class extends s.default{constructor({type:e,length:t}){super(),r.instanceOf(e,a.default),r.byteUnsignedInteger(t),this.type=e,this.length=t}static get _value(){return 80}addToBuffer(e){return!!super.addToBuffer(e)&&(this.type.addToBuffer(e),e.add(this.length),!0)}writeValue(e,t){if(this.isBuffer(e),r.instanceOf(t,Array),t.length!==this.length)throw new Error(`Length does not match: expected ${this.length} but got ${t.length}`);for(const n of t)this.type.writeValue(e,n)}consumeValue(e,t,n){let r=0;const s=n||u.makeBaseValue(this);for(let n=0;n<this.length;n++){const u=this.type.consumeValue(e,t+r);r+=u.length,s[n]=u.value}return{value:s,length:r}}equals(e){return super.equals(e)&&this.type.equals(e.type)&&this.length===e.length}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(10);t.default=((e,t)=>{if(r.instanceOf(t,String),u.gt(t,"9223372036854775807")||u.lt(t,"-9223372036854775808"))throw new RangeError("Value out of range");const n=u.div(t,u.LONG_UPPER_SHIFT,!0),s=u.sub(t,u.mul(n,u.LONG_UPPER_SHIFT)),a=new ArrayBuffer(8),o=new DataView(a);o.setInt32(0,Number(n)),o.setUint32(4,Number(s)),e.addAll(a)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MILLIS_PER_DAY=864e5;const r=6e4;t.toUTC=function(e){return e.getTime()-e.getTimezoneOffset()*r},t.fromUTC=function(e){const t=new Date(e);return new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);t.default=class extends r.default{}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(19);t.default=((e,t)=>{r.instanceOf(t,Array);e:for(let n=0;;n++){let s=0;for(let a=0;a<8;a++){const o=u.timesEight(n)|a;if(o===t.length){a&&e.add(s);break e}const i=t[o];r.instanceOf(i,Boolean),i&&(s|=1<<7-a)}e.add(s)}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REPEATED_TYPE=255},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=new Map;t.get=function(e){let t=r.get(e);return t||(t={[e]:class{}}[e],r.set(e,t)),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(32),u=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),s=(e,t)=>e>>>t|e<<32-t;function a(e){const t=e.byteLength,n=t+(64-(t+72&63))+8,r=new ArrayBuffer(n),a=new Uint8Array(r);a.set(new Uint8Array(e)),a[t]=128,new DataView(r).setUint32(n-4,t<<3);const o=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);for(let e=0;e<n;e+=64){const t=new Uint32Array(64),n=new DataView(r,e,64);for(let e=0;e<16;e++)t[e]=n.getUint32(e<<2);for(let e=16;e<64;e++){const n=t[e-15],r=s(n,7)^s(n,18)^n>>>3,u=t[e-2],a=s(u,17)^s(u,19)^u>>>10;t[e]=t[e-16]+r+t[e-7]+a}let[a,i,f,l,c,d,h,g]=o;for(let e=0;e<64;e++){const n=g+(s(c,6)^s(c,11)^s(c,25))+(c&d^~c&h)+u[e]+t[e],r=s(a,2)^s(a,13)^s(a,22),o=a&i^a&f^i&f;g=h,h=d,d=c,c=l+n,l=f,f=i,i=a,a=n+(r+o)}o[0]+=a,o[1]+=i,o[2]+=f,o[3]+=l,o[4]+=c,o[5]+=d,o[6]+=h,o[7]+=g}const i=new ArrayBuffer(32),f=new DataView(i);for(let e=0;e<8;e++)f.setUint32(e<<2,o[e]);return i}t.sha256JS=a,t.sha256Wasm=(()=>{if(!r.default)return;const{exports:e}=r.default,{INPUT_START:t,fitInput:n,sha256:u,memory:s}=e;return e=>{const{byteLength:r}=e;n(r);const{buffer:a}=s;return new Uint8Array(a).set(new Uint8Array(e),t),u(r),a.slice(0,32)}})(),t.default=t.sha256Wasm||a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(11);t.default="undefined"==typeof WebAssembly?void 0:new WebAssembly.Instance(new WebAssembly.Module(r.toByteArray("AGFzbQEAAAABFARgAX8Bf2ACf38AYAJ/fgBgAX8AAwYFAAECAwMFAwEAAQYNAn8AQYACC38AQYAECwcsBAtJTlBVVF9TVEFSVAMBBm1lbW9yeQIACGZpdElucHV0AAMGc2hhMjU2AAQK5AUFIgAgAC0AAEEYdCAALQABQRB0ciAALQACQQh0IAAtAANycgsnACAAIAFBGHY6AAAgACABQRB2OgABIAAgAUEIdjoAAiAAIAE6AAMLFgAgACABQiCIpxABIABBBGogAacQAQssAQF/IABBvwRqIQEgAUEQdiABQf//A3FBAEdqPwBrIgFBAEoEQCABQAAaCwvSBAEWfyAAQcgAIABByABqQT9xa2ohASAAIQIgAkGAAToAgAQgAUEIayEOA0AgAkEBaiICIA5JBEAgAkEAOgCABAwBCwsjASAOaiAArUIDhhACQefMp9AGIQ9Bhd2e23shEEHy5rvjAyERQbrqv6p6IRJB/6S5iAUhE0GM0ZXYeSEUQauzj/wBIRVBmZqD3wUhFkEAIQ4DQEEAIQIDQCACQQJ0IQMgAyMBIA4gA2pqEAA2AQAgAkEBaiICQRBJDQALA0AgAkECdCEDIANBPGsoAQAhBCADQQhrKAEAIQUgAyADQcAAaygBACAEQQd4IARBEnggBEEDdnNzaiADQRxrKAEAIAVBEXggBUETeCAFQQp2c3NqajYBACACQQFqIgJBwABJDQALIA8hBiAQIQcgESEIIBIhCSATIQogFCELIBUhDCAWIQ1BACECA0AgAkECdCEDIA0gCkEGeCAKQQt4IApBGXhzcyAKIAtxIApBf3MgDHFzaiMAIANqKAEAIAMoAQBqamohBCAMIQ0gCyEMIAohCyAJIARqIQogCCEJIAYgBCAGQQJ4IAZBDXggBkEWeHNzIAYgB3EgBiAIcSAHIAhxc3NqaiEGIAchCCEHIAJBAWoiAkHAAEkNAAsgDyAGaiEPIBAgB2ohECARIAhqIREgEiAJaiESIBMgCmohEyAUIAtqIRQgFSAMaiEVIBYgDWohFiAOQcAAaiIOIAFJDQALQQAgDxABQQQgEBABQQggERABQQwgEhABQRAgExABQRQgFBABQRggFRABQRwgFhABCwuIAgEAQYACC4ACmC+KQpFEN3HP+8C1pdu16VvCVjnxEfFZpII/ktVeHKuYqgfYAVuDEr6FMSTDfQxVdF2+cv6x3oCnBtybdPGbwcFpm+SGR77vxp3BD8yhDCRvLOktqoR0StypsFzaiPl2UlE+mG3GMajIJwOwx39Zv/ML4MZHkafVUWPKBmcpKRSFCrcnOCEbLvxtLE0TDThTVHMKZbsKanYuycKBhSxykqHov6JLZhqocItLwqNRbMcZ6JLRJAaZ1oU1DvRwoGoQFsGkGQhsNx5Md0gntbywNLMMHDlKqthOT8qcW/NvLmjugo90b2OleBR4yIQIAseM+v++kOtsUKT3o/m+8nhxxg==")))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(11),u=new ArrayBuffer(2);new DataView(u).setUint16(0,12),t.VERSION_STRING=r.fromByteArray(new Uint8Array(u))},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}if(Object.defineProperty(t,"__esModule",{value:!0}),"undefined"==typeof ArrayBuffer)throw new Error("ArrayBuffer not supported");if("undefined"==typeof fetch)throw new Error("fetch() not supported");if("undefined"==typeof Map)throw new Error("Map not supported");if("undefined"==typeof Set)throw new Error("Set not supported");if("undefined"==typeof Uint8Array)throw new Error("Uint8Array not supported");if("undefined"==typeof WeakMap)throw new Error("WeakMap not supported");r(n(14)),r(n(15))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(1),s=n(5),a=n(8),o=u.readNumber({type:Int8Array,func:"getInt8"});t.ByteType=class extends a.default{static get _value(){return 1}writeValue(e,t){this.isBuffer(e);const n=s.default(t);void 0!==n&&(t=n),r.integer(t),r.between(-128,t,128,"Value out of range"),e.addAll(new Int8Array([t]).buffer)}consumeValue(e,t){return o(e,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(1),s=n(5),a=n(8),o=u.readNumber({type:Int16Array,func:"getInt16"});t.ShortType=class extends a.default{static get _value(){return 2}writeValue(e,t){this.isBuffer(e);const n=s.default(t);void 0!==n&&(t=n),r.integer(t),r.between(-32768,t,32768,"Value out of range");const u=new ArrayBuffer(2);new DataView(u).setInt16(0,t),e.addAll(u)}consumeValue(e,t){return o(e,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(1),s=n(5),a=n(8),o=u.readNumber({type:Int32Array,func:"getInt32"});t.IntType=class extends a.default{static get _value(){return 3}writeValue(e,t){this.isBuffer(e);const n=s.default(t);void 0!==n&&(t=n),r.integer(t),r.between(-2147483648,t,2147483648,"Value out of range");const u=new ArrayBuffer(4);new DataView(u).setInt32(0,t),e.addAll(u)}consumeValue(e,t){return o(e,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),u=n(25),s=n(8);t.LongType=class extends s.default{static get _value(){return 4}writeValue(e,t){this.isBuffer(e),u.default(e,t)}consumeValue(e,t){return r.readLong(e,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(4),s=n(1),a=n(10),o=n(8);t.BigIntType=class extends o.default{static get _value(){return 5}writeValue(e,t){this.isBuffer(e),r.instanceOf(t,String),t=a.normalize(t);const n=[];if(!a.eq(t,"0")){for(;a.gt(t,"127")||a.lt(t,"-128");){const e=a.div(t,a.BYTE_SHIFT,!0),r=a.sub(t,a.mul(e,a.BYTE_SHIFT));n.push(Number(r)),t=e}n.push(Number(t))}const s=new Uint8Array(n.length);for(let e=n.length-1,t=0;e>=0;e--,t++)s[t]=n[e];e.addAll(u.makeValueBuffer(n.length)).addAll(s.buffer)}consumeValue(e,t){const n=s.readFlexInt(e,t),r=n.value;let{length:u}=n;if(e.byteLength<t+u+r)throw new Error(s.NOT_LONG_ENOUGH);const o=new Uint8Array(e,t+u);let i;if(r){i=`${new Int8Array(o)[0]}`;for(let e=1;e<r;e++)i=a.add(a.mul(i,a.BYTE_SHIFT),`${o[e]}`)}else i="0";return{value:i,length:u+=r}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(4),s=n(1),a=n(5),o=n(8);function i(e){return 1&e?(e+1)/-2:e/2}const f=i(Number.MAX_SAFE_INTEGER),l=i(Number.MAX_SAFE_INTEGER-1)+1;t.FlexIntType=class extends o.default{static get _value(){return 7}writeValue(e,t){this.isBuffer(e);const n=a.default(t);var s;void 0!==n&&(t=n),r.integer(t),r.between(f,t,l),e.addAll(u.makeValueBuffer((s=t)<0?-2*s-1:2*s))}consumeValue(e,t){const{value:n,length:r}=s.readFlexInt(e,t);return{value:i(n),length:r}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(1),s=n(5),a=n(9),o=u.readNumber({type:Uint8Array,func:"getUint8"});t.UnsignedByteType=class extends a.default{static get _value(){return 17}writeValue(e,t){this.isBuffer(e);const n=s.default(t);void 0!==n&&(t=n),r.integer(t),r.between(0,t,256,"Value out of range"),e.add(t)}consumeValue(e,t){return o(e,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(1),s=n(5),a=n(9),o=u.readNumber({type:Uint16Array,func:"getUint16"});t.UnsignedShortType=class extends a.default{static get _value(){return 18}writeValue(e,t){this.isBuffer(e);const n=s.default(t);void 0!==n&&(t=n),r.integer(t),r.between(0,t,65536,"Value out of range");const u=new ArrayBuffer(2);new DataView(u).setUint16(0,t),e.addAll(u)}consumeValue(e,t){return o(e,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(1),s=n(5),a=n(9),o=u.readNumber({type:Uint32Array,func:"getUint32"});t.UnsignedIntType=class extends a.default{static get _value(){return 19}writeValue(e,t){this.isBuffer(e);const n=s.default(t);void 0!==n&&(t=n),r.integer(t),r.between(0,t,4294967296,"Value out of range");const u=new ArrayBuffer(4);new DataView(u).setUint32(0,t),e.addAll(u)}consumeValue(e,t){return o(e,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(1),s=n(10),a=n(9),o="18446744073709551615";t.UnsignedLongType=class extends a.default{static get _value(){return 20}writeValue(e,t){if(this.isBuffer(e),r.instanceOf(t,String),s.gt(t,o)||s.lt(t,"0"))throw new RangeError("Value out of range");const n=s.div(t,s.LONG_UPPER_SHIFT),u=s.sub(t,s.mul(n,s.LONG_UPPER_SHIFT)),a=new ArrayBuffer(8),i=new DataView(a);i.setUint32(0,Number(n)),i.setUint32(4,Number(u)),e.addAll(a)}consumeValue(e,t){if(e.byteLength<t+8)throw new Error(u.NOT_LONG_ENOUGH);const n=new DataView(e,t),r=n.getUint32(0),a=n.getUint32(4);return{value:s.add(s.mul(`${r}`,s.LONG_UPPER_SHIFT),`${a}`),length:8}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(4),s=n(1),a=n(10),o=n(9);t.BigUnsignedIntType=class extends o.default{static get _value(){return 21}writeValue(e,t){if(this.isBuffer(e),r.instanceOf(t,String),a.isNegative(t))throw new RangeError("Value out of range");const n=[];if(!a.eq(t,"0")){for(;a.ge(t,a.BYTE_SHIFT);){const[e,r]=a.quotientRemainderPositive(t,a.BYTE_SHIFT);n.push(Number(r)),t=e}n.push(Number(t))}const s=new Uint8Array(n.length);for(let e=n.length-1,t=0;e>=0;e--,t++)s[t]=n[e];e.addAll(u.makeValueBuffer(n.length)).addAll(s.buffer)}consumeValue(e,t){const n=s.readFlexInt(e,t),r=n.value;let{length:u}=n;if(e.byteLength<t+u+r)throw new Error(s.NOT_LONG_ENOUGH);const o=new Uint8Array(e,t+u);let i="0";for(let e=0;e<r;e++)i=a.add(a.mul(i,a.BYTE_SHIFT),`${o[e]}`);return{value:i,length:u+=r}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),u=n(1),s=n(5),a=n(9);t.FlexUnsignedIntType=class extends a.default{static get _value(){return 23}writeValue(e,t){this.isBuffer(e);const n=s.default(t);void 0!==n&&(t=n),e.addAll(r.makeValueBuffer(t))}consumeValue(e,t){return u.readFlexInt(e,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(1),s=n(25),a=n(13);t.DateType=class extends a.default{static get _value(){return 26}writeValue(e,t){this.isBuffer(e),r.instanceOf(t,Date),s.default(e,`${t.getTime()}`)}consumeValue(e,t){const{value:n,length:r}=u.readLong(e,t);return{value:new Date(Number(n)),length:r}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(26),s=n(1),a=n(13);t.DayType=class extends a.default{static get _value(){return 27}writeValue(e,t){this.isBuffer(e),r.instanceOf(t,Date);const n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),s=u.toUTC(n)/u.MILLIS_PER_DAY,a=new ArrayBuffer(3),o=new DataView(a);o.setInt16(0,s>>8),o.setUint8(2,s),e.addAll(a)}consumeValue(e,t){if(e.byteLength<t+3)throw new Error(s.NOT_LONG_ENOUGH);const n=new DataView(e,t),r=n.getInt16(0)<<8|n.getUint8(2);return{value:u.fromUTC(r*u.MILLIS_PER_DAY),length:3}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(26),s=n(1),a=n(13);t.TimeType=class extends a.default{static get _value(){return 28}writeValue(e,t){this.isBuffer(e),r.instanceOf(t,Date);const n=new ArrayBuffer(4);new DataView(n).setUint32(0,t.getTime()%u.MILLIS_PER_DAY),e.addAll(n)}consumeValue(e,t){if(e.byteLength<t+4)throw new Error(s.NOT_LONG_ENOUGH);return{value:new Date(new DataView(e).getUint32(t)),length:4}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(1),s=n(5),a=n(27),o=u.readNumber({type:Float32Array,func:"getFloat32"});t.FloatType=class extends a.default{static get _value(){return 32}writeValue(e,t){this.isBuffer(e);const n=s.default(t);void 0!==n&&(t=n),r.instanceOf(t,Number);const u=new ArrayBuffer(4);new DataView(u).setFloat32(0,t),e.addAll(u)}consumeValue(e,t){return o(e,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(1),s=n(5),a=n(27),o=u.readNumber({type:Float64Array,func:"getFloat64"});t.DoubleType=class extends a.default{static get _value(){return 33}writeValue(e,t){this.isBuffer(e);const n=s.default(t);void 0!==n&&(t=n),r.instanceOf(t,Number);const u=new ArrayBuffer(8);new DataView(u).setFloat64(0,t),e.addAll(u)}consumeValue(e,t){return o(e,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(1),s=n(2);t.BooleanType=class extends s.default{static get _value(){return 48}writeValue(e,t){this.isBuffer(e),r.instanceOf(t,Boolean),e.add(t?255:0)}consumeValue(e,t){return u.readBooleanByte(e,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(1),s=n(28),a=n(2);t.BooleanTupleType=class extends a.default{static get _value(){return 49}constructor(e){super(),r.byteUnsignedInteger(e),this.length=e}addToBuffer(e){return!!super.addToBuffer(e)&&(e.add(this.length),!0)}writeValue(e,t){if(this.isBuffer(e),r.instanceOf(t,Array),t.length!==this.length)throw new Error(`Length does not match: expected ${this.length} but got ${t.length}`);s.default(e,t)}consumeValue(e,t){return u.readBooleans({buffer:e,offset:t,count:this.length})}equals(e){return super.equals(e)&&e.length===this.length}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(4),s=n(1),a=n(28),o=n(2);t.BooleanArrayType=class extends o.default{static get _value(){return 50}writeValue(e,t){this.isBuffer(e),r.instanceOf(t,Array),e.addAll(u.makeValueBuffer(t.length)),a.default(e,t)}consumeValue(e,t){const n=s.readFlexInt(e,t);let{length:r}=n;const u=s.readBooleans({buffer:e,offset:t+r,count:n.value}),{value:a}=u;return{value:a,length:r+=u.length}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(7),s=n(1),a=n(2);t.CharType=class extends a.default{static get _value(){return 64}writeValue(e,t){if(this.isBuffer(e),r.instanceOf(t,String),1!==t.length)throw new Error("String must contain only 1 character");e.addAll(u.fromString(t))}consumeValue(e,t){if(e.byteLength<=t)throw new Error(s.NOT_LONG_ENOUGH);const[n]=u.toString(new Uint8Array(e,t).subarray(0,4));return{value:n,length:u.fromString(n).byteLength}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(7),s=n(1),a=n(2);t.StringType=class extends a.default{static get _value(){return 65}writeValue(e,t){this.isBuffer(e),r.instanceOf(t,String),e.addAll(u.fromString(t)).add(0)}consumeValue(e,t){const n=new Uint8Array(e,t);let r=0;for(;;){if(n.length<=r)throw new Error(s.NOT_LONG_ENOUGH);if(!n[r])break;r++}return{value:u.toString(n.subarray(0,r)),length:++r}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(4),s=n(1),a=n(2);t.OctetsType=class extends a.default{static get _value(){return 66}writeValue(e,t){this.isBuffer(e),r.instanceOf(t,ArrayBuffer),e.addAll(u.makeValueBuffer(t.byteLength)).addAll(t)}consumeValue(e,t){const n=s.readFlexInt(e,t),{length:r}=n,u=r+n.value;if(e.byteLength<t+u)throw new Error(s.NOT_LONG_ENOUGH);return{value:e.slice(t+r,t+u),length:u}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(7),s=n(1),a=n(6),o=n(2),i=n(3);t.EnumType=class extends i.default{constructor({type:e,values:t}){super(),r.instanceOf(e,o.default),r.instanceOf(t,Array);try{r.byteUnsignedInteger(t.length)}catch(e){throw new Error(`${t.length} values is too many`)}this.type=e,this.values=t}static get _value(){return 85}get valueIndices(){const{type:e,values:t,cachedValueIndices:n}=this;if(n)return n;const r=new Map;for(let n=0;n<t.length;n++){const s=t[n],o=u.toBinaryString(e.valueBuffer(s));if(r.has(o))throw new Error("Value is repeated: "+a.inspect(s));r.set(o,n)}return this.cachedValueIndices=r}addToBuffer(e){if(super.addToBuffer(e)){this.type.addToBuffer(e),e.add(this.values.length);for(const t of this.valueIndices.keys())e.addAll(u.fromBinaryString(t));return!0}return!1}writeValue(e,t){this.isBuffer(e);const n=this.type.valueBuffer(t),r=this.valueIndices.get(u.toBinaryString(n));if(void 0===r)throw new Error("Not a valid enum value: "+a.inspect(t));e.add(r)}consumeValue(e,t){if(e.byteLength<=t)throw new Error(s.NOT_LONG_ENOUGH);const n=new Uint8Array(e)[t],r=this.values[n];if(void 0===r)throw new Error(`Index ${n} is invalid`);return{value:r,length:1}}equals(e){if(!super.equals(e))return!1;const t=e;if(!this.type.equals(t.type))return!1;if(this.values.length!==t.values.length)return!1;const n=t.valueIndices.keys();for(const e of this.valueIndices.keys())if(n.next().value!==e)return!1;return!0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(1),s=n(6),a=n(2),o=n(3);t.ChoiceType=class extends a.default{constructor(e){super(),r.instanceOf(e,Array);try{r.byteUnsignedInteger(e.length)}catch(t){throw new Error(`${e.length} types is too many`)}for(const t of e)r.instanceOf(t,o.default);this.types=e}static get _value(){return 86}addToBuffer(e){if(super.addToBuffer(e)){e.add(this.types.length);for(const t of this.types)t.addToBuffer(e);return!0}return!1}writeValue(e,t){this.isBuffer(e),e.pause();let n=!1;for(let r=0;r<this.types.length;r++){const u=this.types[r];e.add(r);try{u.writeValue(e,t),n=!0;break}catch(t){e.reset()}}if(e.resume(),!n)throw new Error("No types matched: "+s.inspect(t))}consumeValue(e,t){let n=1;if(e.byteLength<=t)throw new Error(u.NOT_LONG_ENOUGH);const r=new Uint8Array(e)[t],{value:s,length:a}=this.types[r].consumeValue(e,t+n);return{value:s,length:n+=a}}equals(e){if(!super.equals(e))return!1;const t=e;if(this.types.length!==t.types.length)return!1;for(let e=0;e<this.types.length;e++)if(!this.types[e].equals(t.types[e]))return!1;return!0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(7),s=n(30),a=n(1),o=n(6),i=n(2),f=n(12);t.NamedChoiceType=class extends i.default{constructor(e){super(),r.instanceOf(e,Map);try{r.byteUnsignedInteger(e.size)}catch(t){throw new Error(`${e.size} types is too many`)}this.indexConstructors=new Map,this.constructorTypes=new Array(e.size);const t=new Set;for(const[n,s]of e){r.instanceOf(n,Function);const{name:e}=n;if(!e)throw new Error("Function does not have a name");if(t.has(e))throw new Error(`Function name "${e}" is repeated`);t.add(e);const a=u.fromString(e);try{r.byteUnsignedInteger(a.byteLength)}catch(t){throw new Error(`Function name "${e}" is too long`)}r.instanceOf(s,f.StructType);const o=this.indexConstructors.size;this.indexConstructors.set(o,n),this.constructorTypes[o]={nameBuffer:a,type:s}}}static get _value(){return 88}addToBuffer(e){if(super.addToBuffer(e)){e.add(this.constructorTypes.length);for(const{nameBuffer:t,type:n}of this.constructorTypes)e.add(t.byteLength).addAll(t),n.addToBuffer(e);return!0}return!1}writeValue(e,t){let n;this.isBuffer(e),r.instanceOf(t,Object);for(const[e,r]of this.indexConstructors)if(t instanceof r){n=e;break}if(void 0===n)throw new Error("No types matched: "+o.inspect(t));e.add(n);const{type:u}=this.constructorTypes[n];u.writeValue(e,t)}consumeValue(e,t){let n=1;if(e.byteLength<=t)throw new Error(a.NOT_LONG_ENOUGH);const r=new Uint8Array(e)[t],u=this.indexConstructors.get(r);if(!u)throw new Error(`Constructor index ${r} is invalid`);const o=s.get(u.name),{value:i,length:f}=this.constructorTypes[r].type.consumeValue(e,t+n,new o);return{value:i,length:n+=f}}equals(e){if(!super.equals(e))return!1;const t=e;if(this.constructorTypes.length!==t.constructorTypes.length)return!1;for(let e=0;e<this.constructorTypes.length;e++){const n=this.constructorTypes[e],u=t.constructorTypes[e];if(!n.type.equals(u.type))return!1;if(!r.equal.buffers(u.nameBuffer,n.nameBuffer))return!1}return!0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(4),s=n(1),a=n(18),o=n(15),i=n(2),f=new WeakMap,l=new WeakMap,c=new WeakMap;t.RecursiveType=class extends i.default{constructor(e){super(),r.instanceOf(e,String),this.name=e}static get _value(){return 87}get type(){return o.getType(this.name)}addToBuffer(e){if(super.addToBuffer(e)){let t=l.get(e);t||(t=new Map,l.set(e,t));let n=t.get(this.name);const r=void 0===n;return r&&(n=t.size,t.set(this.name,n)),e.addAll(u.makeValueBuffer(n)),r&&(a.increment(e),this.type.addToBuffer(e),a.decrement(e)),!0}return!1}writeValue(e,t){this.isBuffer(e);let n=f.get(e);if(n){const r=n.get(t);if(void 0!==r){e.add(0);const t=e.length-r;return void e.addAll(u.makeValueBuffer(t))}}else n=new Map,f.set(e,n);e.add(255),n.set(t,e.length);try{this.type.writeValue(e,t)}catch(e){throw n.delete(t),e}}consumeValue(e,t){const n=s.readBooleanByte(e,t);let r,{length:u}=n;if(n.value){r=s.makeBaseValue(this.type);let n=c.get(e);n||(n=new Map,c.set(e,n)),n.set(t+u,r),u+=this.type.consumeValue(e,t+u,r).length}else{const n=s.readFlexInt(e,t+u),a=t+u-n.value,o=c.get(e).get(a);if(!o)throw new Error(`Cannot find target at ${a}`);r=o,u+=n.length}return{value:r,length:u}}equals(e){return super.equals(e)&&this.name===e.name}setType(e){o.registerType({type:e,name:this.name})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(6),s=n(3);t.SingletonType=class extends s.default{constructor({type:e,value:t}){super(),r.instanceOf(e,s.default),this.type=e,this.value=t}static get _value(){return 89}get singletonValueBuffer(){return this.cachedValueBuffer||(this.cachedValueBuffer=this.type.valueBuffer(this.value))}addToBuffer(e){return!!super.addToBuffer(e)&&(this.type.addToBuffer(e),e.addAll(this.singletonValueBuffer),!0)}writeValue(e,t){if(this.isBuffer(e),!r.equal.buffers(this.type.valueBuffer(t),this.singletonValueBuffer))throw new Error(`Expected ${u.inspect(this.value)} but got ${u.inspect(t)}`)}consumeValue(){return{value:this.value,length:0}}equals(e){if(!super.equals(e))return!1;const t=e;return!!this.type.equals(t.type)&&r.equal.buffers(t.singletonValueBuffer,this.singletonValueBuffer)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(1),s=n(2),a=n(3);t.OptionalType=class extends s.default{constructor(e){super(),r.instanceOf(e,a.default),this.type=e}static get _value(){return 96}addToBuffer(e){return!!super.addToBuffer(e)&&(this.type.addToBuffer(e),!0)}writeValue(e,t){switch(this.isBuffer(e),t){case null:case void 0:e.add(0);break;default:e.add(255),this.type.writeValue(e,t)}}consumeValue(e,t){const n=u.readBooleanByte(e,t);let r,{length:s}=n;if(n.value){const n=this.type.consumeValue(e,t+s);({value:r}=n),s+=n.length}else r=null;return{value:r,length:s}}equals(e){return super.equals(e)&&this.type.equals(e.type)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(7),s=n(4),a=n(1),o=n(2),i=n(3),f=new WeakMap,l=new WeakMap;t.PointerType=class extends i.default{constructor(e){super(),r.instanceOf(e,o.default),this.type=e}static get _value(){return 112}addToBuffer(e){return!!super.addToBuffer(e)&&(this.type.addToBuffer(e),!0)}writeValue(e,t){this.isBuffer(e);let n=f.get(e);n||(n=new Map,f.set(e,n));const r=this.type.valueBuffer(t),a=u.toBinaryString(r),o=n.get(a);if(n.set(a,e.length),void 0===o)e.add(0).addAll(r);else{const t=e.length-o;e.addAll(s.makeValueBuffer(t))}}consumeValue(e,t){let n=1,r=!0;for(;;){const u=a.readFlexInt(e,t),s=u.value;if(!s)break;r&&(({length:n}=u),r=!1),t-=s}let u=l.get(e);u||(u=new Map,l.set(e,u));let s=u.get(this);s||(s=new Map,u.set(this,s));let o=s.get(t);if(void 0===o){const u=this.type.consumeValue(e,t+n);({value:o}=u),r&&(n+=u.length),s.set(t,o)}return{value:o,length:n}}equals(e){return super.equals(e)&&this.type.equals(e.type)}}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3);t.upload=function({type:e,value:t,url:n,options:u}){if(!(e instanceof r.default))throw new Error("Invalid type");if("string"!=typeof n)throw new Error("Invalid URL");if(!(u instanceof Object))throw new Error("Invalid options");if("POST"!==u.method)throw new Error("Must use POST when uploading");return u.body=e.valueBuffer(t),fetch(n,u)},function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(34)),window.sb=t}]);