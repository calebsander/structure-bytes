!function(){var $jscomp={};$jscomp.scope={};$jscomp.defineProperty=typeof Object.defineProperties=="function"?Object.defineProperty:function(target,property,descriptor){descriptor=(descriptor);if(descriptor.get||descriptor.set)throw new TypeError("ES3 does not support getters and setters.");if(target==Array.prototype||target==Object.prototype)return;target[property]=descriptor.value};
$jscomp.getGlobal=function(maybeGlobal){return typeof window!="undefined"&&window===maybeGlobal?maybeGlobal:typeof global!="undefined"&&global!=null?global:maybeGlobal};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};if(!$jscomp.global.Symbol)$jscomp.global.Symbol=$jscomp.Symbol};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(opt_description){return($jscomp.SYMBOL_PREFIX+(opt_description||"")+$jscomp.symbolCounter_++)};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var symbolIterator=$jscomp.global.Symbol.iterator;if(!symbolIterator)symbolIterator=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator");if(typeof Array.prototype[symbolIterator]!="function")$jscomp.defineProperty(Array.prototype,symbolIterator,{configurable:true,writable:true,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};
$jscomp.arrayIterator=function(array){var index=0;return $jscomp.iteratorPrototype(function(){if(index<array.length)return{done:false,value:array[index++]};else return{done:true}})};$jscomp.iteratorPrototype=function(next){$jscomp.initSymbolIterator();var iterator={next:next};iterator[$jscomp.global.Symbol.iterator]=function(){return this};return(iterator)};
$jscomp.makeIterator=function(iterable){$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();var iteratorFunction=(iterable)[Symbol.iterator];return iteratorFunction?iteratorFunction.call(iterable):$jscomp.arrayIterator((iterable))};$jscomp.arrayFromIterator=function(iterator){var i;var arr=[];while(!(i=iterator.next()).done)arr.push(i.value);return arr};$jscomp.arrayFromIterable=function(iterable){if(iterable instanceof Array)return iterable;else return $jscomp.arrayFromIterator($jscomp.makeIterator(iterable))};
$jscomp.inherits=function(childCtor,parentCtor){function tempCtor(){}tempCtor.prototype=parentCtor.prototype;childCtor.prototype=new tempCtor;childCtor.prototype.constructor=childCtor;for(var p in parentCtor)if(Object.defineProperties){var descriptor=Object.getOwnPropertyDescriptor(parentCtor,p);if(descriptor)Object.defineProperty(childCtor,p,descriptor)}else childCtor[p]=parentCtor[p]};$jscomp.owns=function(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)};
$jscomp.polyfill=function(target,polyfill,fromLang,toLang){if(!polyfill)return;var obj=$jscomp.global;var split=target.split(".");for(var i=0;i<split.length-1;i++){var key=split[i];if(!(key in obj))obj[key]={};obj=obj[key]}var property=split[split.length-1];var orig=obj[property];var impl=polyfill(orig);if(impl==orig||impl==null)return;$jscomp.defineProperty(obj,property,{configurable:true,writable:true,value:impl})};
$jscomp.polyfill("WeakMap",function(NativeWeakMap){function isConformant(){if(!NativeWeakMap||!Object.seal)return false;try{var x=Object.seal({});var y=Object.seal({});var map=new (NativeWeakMap)([[x,2],[y,3]]);if(map.get(x)!=2||map.get(y)!=3)return false;map.delete(x);map.set(y,4);return!map.has(x)&&map.get(y)==4}catch(err){return false}}if(isConformant())return NativeWeakMap;var prop="$jscomp_hidden_"+Math.random().toString().substring(2);function insert(target){if(!$jscomp.owns(target,prop)){var obj=
{};$jscomp.defineProperty(target,prop,{value:obj})}}function patch(name){var prev=Object[name];if(prev)Object[name]=function(target){insert(target);return prev(target)}}patch("freeze");patch("preventExtensions");patch("seal");var index=0;var PolyfillWeakMap=function(opt_iterable){this.id_=(index+=Math.random()+1).toString();if(opt_iterable){$jscomp.initSymbol();$jscomp.initSymbolIterator();var iter=$jscomp.makeIterator(opt_iterable);var entry;while(!(entry=iter.next()).done){var item=entry.value;
this.set((item[0]),(item[1]))}}};PolyfillWeakMap.prototype.set=function(key,value){insert(key);if(!$jscomp.owns(key,prop))throw new Error("WeakMap key fail: "+key);key[prop][this.id_]=value;return this};PolyfillWeakMap.prototype.get=function(key){return $jscomp.owns(key,prop)?key[prop][this.id_]:undefined};PolyfillWeakMap.prototype.has=function(key){return $jscomp.owns(key,prop)&&$jscomp.owns(key[prop],this.id_)};PolyfillWeakMap.prototype.delete=function(key){if(!$jscomp.owns(key,prop)||!$jscomp.owns(key[prop],
this.id_))return false;return delete key[prop][this.id_]};return PolyfillWeakMap},"es6-impl","es3");$jscomp.ASSUME_NO_NATIVE_MAP=false;
$jscomp.polyfill("Map",function(NativeMap){var isConformant=!$jscomp.ASSUME_NO_NATIVE_MAP&&function(){if(!NativeMap||!NativeMap.prototype.entries||typeof Object.seal!="function")return false;try{NativeMap=(NativeMap);var key=Object.seal({x:4});var map=new NativeMap($jscomp.makeIterator([[key,"s"]]));if(map.get(key)!="s"||map.size!=1||map.get({x:4})||map.set({x:4},"t")!=map||map.size!=2)return false;var iter=map.entries();var item=iter.next();if(item.done||item.value[0]!=key||item.value[1]!="s")return false;
item=iter.next();if(item.done||item.value[0].x!=4||item.value[1]!="t"||!iter.next().done)return false;return true}catch(err){return false}}();if(isConformant)return NativeMap;$jscomp.initSymbol();$jscomp.initSymbolIterator();var idMap=new WeakMap;var MapEntry=function(){};MapEntry.prototype.previous;MapEntry.prototype.next;MapEntry.prototype.head;MapEntry.prototype.key;MapEntry.prototype.value;var PolyfillMap=function(opt_iterable){this.data_={};this.head_=createHead();this.size=0;if(opt_iterable){var iter=
$jscomp.makeIterator(opt_iterable);var entry;while(!(entry=iter.next()).done){var item=(entry).value;this.set((item[0]),(item[1]))}}};PolyfillMap.prototype.set=function(key,value){var r=maybeGetEntry(this,key);if(!r.list)r.list=this.data_[r.id]=[];if(!r.entry){r.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:key,value:value};r.list.push(r.entry);this.head_.previous.next=r.entry;this.head_.previous=r.entry;this.size++}else r.entry.value=value;return this};PolyfillMap.prototype.delete=
function(key){var r=maybeGetEntry(this,key);if(r.entry&&r.list){r.list.splice(r.index,1);if(!r.list.length)delete this.data_[r.id];r.entry.previous.next=r.entry.next;r.entry.next.previous=r.entry.previous;r.entry.head=null;this.size--;return true}return false};PolyfillMap.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=createHead();this.size=0};PolyfillMap.prototype.has=function(key){return!!maybeGetEntry(this,key).entry};PolyfillMap.prototype.get=function(key){var entry=maybeGetEntry(this,
key).entry;return(entry&&(entry.value))};PolyfillMap.prototype.entries=function(){return makeIterator(this,function(entry){return[entry.key,entry.value]})};PolyfillMap.prototype.keys=function(){return makeIterator(this,function(entry){return entry.key})};PolyfillMap.prototype.values=function(){return makeIterator(this,function(entry){return entry.value})};PolyfillMap.prototype.forEach=function(callback,opt_thisArg){var iter=this.entries();var item;while(!(item=iter.next()).done){var entry=item.value;
callback.call((opt_thisArg),(entry[1]),(entry[0]),this)}};(PolyfillMap.prototype)[Symbol.iterator]=PolyfillMap.prototype.entries;var maybeGetEntry=function(map,key){var id=getId(key);var list=map.data_[id];if(list&&$jscomp.owns(map.data_,id))for(var index=0;index<list.length;index++){var entry=list[index];if(key!==key&&entry.key!==entry.key||key===entry.key)return{id:id,list:list,index:index,entry:entry}}return{id:id,list:list,index:-1,entry:undefined}};var makeIterator=function(map,func){var entry=
map.head_;return $jscomp.iteratorPrototype(function(){if(entry){while(entry.head!=map.head_)entry=entry.previous;while(entry.next!=entry.head){entry=entry.next;return{done:false,value:func(entry)}}entry=null}return{done:true,value:void 0}})};var createHead=function(){var head={};head.previous=head.next=head.head=head;return head};var mapIndex=0;var getId=function(obj){var type=obj&&typeof obj;if(type=="object"||type=="function"){obj=(obj);if(!idMap.has(obj)){var id=""+ ++mapIndex;idMap.set(obj,id);
return id}return idMap.get(obj)}return"p_"+obj};return PolyfillMap},"es6-impl","es3");$jscomp.ASSUME_NO_NATIVE_SET=false;
$jscomp.polyfill("Set",function(NativeSet){var isConformant=!$jscomp.ASSUME_NO_NATIVE_SET&&function(){if(!NativeSet||!NativeSet.prototype.entries||typeof Object.seal!="function")return false;try{NativeSet=(NativeSet);var value=Object.seal({x:4});var set=new NativeSet($jscomp.makeIterator([value]));if(!set.has(value)||set.size!=1||set.add(value)!=set||set.size!=1||set.add({x:4})!=set||set.size!=2)return false;var iter=set.entries();var item=iter.next();if(item.done||item.value[0]!=value||item.value[1]!=
value)return false;item=iter.next();if(item.done||item.value[0]==value||item.value[0].x!=4||item.value[1]!=item.value[0])return false;return iter.next().done}catch(err){return false}}();if(isConformant)return NativeSet;$jscomp.initSymbol();$jscomp.initSymbolIterator();var PolyfillSet=function(opt_iterable){this.map_=new Map;if(opt_iterable){var iter=$jscomp.makeIterator(opt_iterable);var entry;while(!(entry=iter.next()).done){var item=(entry).value;this.add(item)}}this.size=this.map_.size};PolyfillSet.prototype.add=
function(value){this.map_.set(value,value);this.size=this.map_.size;return this};PolyfillSet.prototype.delete=function(value){var result=this.map_.delete(value);this.size=this.map_.size;return result};PolyfillSet.prototype.clear=function(){this.map_.clear();this.size=0};PolyfillSet.prototype.has=function(value){return this.map_.has(value)};PolyfillSet.prototype.entries=function(){return this.map_.entries()};PolyfillSet.prototype.values=function(){return this.map_.values()};PolyfillSet.prototype.keys=
PolyfillSet.prototype.values;(PolyfillSet.prototype)[Symbol.iterator]=PolyfillSet.prototype.values;PolyfillSet.prototype.forEach=function(callback,opt_thisArg){var set=this;this.map_.forEach(function(value){return callback.call((opt_thisArg),value,value,set)})};return PolyfillSet},"es6-impl","es3");$jscomp.polyfill("Number.EPSILON",function(orig){return Math.pow(2,-52)},"es6-impl","es3");$jscomp.polyfill("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991},"es6-impl","es3");
$jscomp.polyfill("Number.MIN_SAFE_INTEGER",function(){return-9007199254740991},"es6-impl","es3");$jscomp.polyfill("Number.isFinite",function(orig){if(orig)return orig;var polyfill=function(x){if(typeof x!=="number")return false;return!isNaN(x)&&x!==Infinity&&x!==-Infinity};return polyfill},"es6-impl","es3");$jscomp.polyfill("Number.isInteger",function(orig){if(orig)return orig;var polyfill=function(x){if(!Number.isFinite(x))return false;return x===Math.floor(x)};return polyfill},"es6-impl","es3");
$jscomp.polyfill("Number.isSafeInteger",function(orig){if(orig)return orig;var polyfill=function(x){return Number.isInteger(x)&&Math.abs(x)<=Number.MAX_SAFE_INTEGER};return polyfill},"es6-impl","es3");$jscomp.array=$jscomp.array||{};
$jscomp.iteratorFromArray=function(array,transform){$jscomp.initSymbolIterator();if(array instanceof String)array=array+"";var i=0;var iter={next:function(){if(i<array.length){var index=i++;return{value:transform(index,array[index]),done:false}}iter.next=function(){return{done:true,value:void 0}};return iter.next()}};iter[Symbol.iterator]=function(){return iter};return iter};
$jscomp.polyfill("Array.prototype.entries",function(orig){if(orig)return orig;var polyfill=function(){return $jscomp.iteratorFromArray(this,function(i,v){return[i,v]})};return polyfill},"es6-impl","es3");$jscomp.polyfill("Array.prototype.values",function(orig){if(orig)return orig;var polyfill=function(){return $jscomp.iteratorFromArray(this,function(k,v){return v})};return polyfill},"es6","es3");
$jscomp.checkStringArgs=function(thisArg,arg,func){if(thisArg==null)throw new TypeError("The 'this' value for String.prototype."+func+" must not be null or undefined");if(arg instanceof RegExp)throw new TypeError("First argument to String.prototype."+func+" must not be a regular expression");return thisArg+""};
$jscomp.polyfill("String.prototype.startsWith",function(orig){if(orig)return orig;var polyfill=function(searchString,opt_position){var string=$jscomp.checkStringArgs(this,searchString,"startsWith");searchString=searchString+"";var strLen=string.length;var searchLen=searchString.length;var i=Math.max(0,Math.min((opt_position)|0,string.length));var j=0;while(j<searchLen&&i<strLen)if(string[i++]!=searchString[j++])return false;return j>=searchLen};return polyfill},"es6-impl","es3");
$jscomp.polyfill("Array.prototype.keys",function(orig){if(orig)return orig;var polyfill=function(){return $jscomp.iteratorFromArray(this,function(i){return i})};return polyfill},"es6-impl","es3");
require=function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f;}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({"/client-side/binary-ajax.js":[function(require,module,
exports){(function($){$.ajaxTransport("+*",function(options){if(window.FormData&&(options.dataType==="blob"||options.dataType==="arraybuffer"||options.data&&(window.Blob&&options.data instanceof Blob||window.ArrayBuffer&&options.data instanceof ArrayBuffer))){var xhr;return{send:function(headers,completeCallback){var url=options.url||location.href;var type=options.type||"GET";var dataType=options.dataType||"text";var data=options.data||null;var async=options.async||true;xhr=new XMLHttpRequest;xhr.addEventListener("load",
function(){var res={};var success=xhr.status>=200&&xhr.status<300||xhr.status===304;if(success)res[dataType]=xhr.response;else res.text=xhr.statusText;completeCallback(xhr.status,xhr.statusText,res,xhr.getAllResponseHeaders())});xhr.open(type,url,async);xhr.responseType=dataType;for(var key in headers)if({}.hasOwnProperty.call(headers,key))xhr.setRequestHeader(key,headers[key]);xhr.send(data)},abort:function(){if(xhr)xhr.abort()}}}})})(jQuery)},{}],"/client-side/common.js":[function(require,module,
exports){var assert=require("/lib/assert.js");assert.instanceOf(window.Map,Function);assert.instanceOf(window.Set,Function);assert.instanceOf(window.ArrayBuffer,Function);assert.instanceOf(window.Uint8Array,Function);assert.instanceOf(window.Symbol,Function);require("/client-side/binary-ajax.js");if(!window.sb){window.sb=require("/structure-types.js");var recursiveRegistry=require("/recursive-registry.js");for(var key in recursiveRegistry)if({}.hasOwnProperty.call(recursiveRegistry,key))window.sb[key]=
recursiveRegistry[key]}else if(!(window.sb instanceof Object))throw new Error("window.sb is already defined");},{"/client-side/binary-ajax.js":"/client-side/binary-ajax.js","/lib/assert.js":"/lib/assert.js","/recursive-registry.js":"/recursive-registry.js","/structure-types.js":"/structure-types.js"}],"/config.js":[function(require,module,exports){var base64=require("base64-js");var VERSION=11;var VERSION_BYTES=2;var VERSION_BUFFER=new ArrayBuffer(VERSION_BYTES);(new DataView(VERSION_BUFFER)).setUint16(0,
VERSION);var VERSION_STRING=base64.fromByteArray(new Uint8Array(VERSION_BUFFER));module.exports={VERSION_STRING:VERSION_STRING}},{"base64-js":3}],"/lib/assert.js":[function(require,module,exports){var util=require("/lib/util-inspect.js");var Input_0$classdecl$var0=function(){};Input_0$classdecl$var0.instanceOf=function(instance,constructors){if(!(constructors instanceof Array))constructors=[constructors];var constructorMatched=false;for(var $jscomp$iter$0=$jscomp.makeIterator(constructors),$jscomp$key$constructor=
$jscomp$iter$0.next();!$jscomp$key$constructor.done;$jscomp$key$constructor=$jscomp$iter$0.next()){var constructor=$jscomp$key$constructor.value;{if(instance instanceof constructor||!(instance===undefined||instance===null)&&instance.constructor===constructor){constructorMatched=true;break}}}if(!constructorMatched)throw new TypeError(util.inspect(instance)+" is not an instance of "+constructors.map(function(constructor){return constructor.name}).join(" or "));};Input_0$classdecl$var0.integer=function(instance){Input_0$classdecl$var0.instanceOf(instance,
Number);if(!Number.isSafeInteger(instance))throw new RangeError(util.inspect(instance)+" is not an integer");};Input_0$classdecl$var0.between=function(lower,value,upper,message){if(value<lower||value>=upper){var errorMessage=util.inspect(value)+" is not in ["+util.inspect(lower)+","+util.inspect(upper)+")";if(message===undefined)throw new RangeError(errorMessage);else throw new RangeError(message+" ("+errorMessage+")");}};Input_0$classdecl$var0.byteUnsignedInteger=function(value){Input_0$classdecl$var0.integer(value);
Input_0$classdecl$var0.between(0,value,256)};Input_0$classdecl$var0.fail=function(message){throw new Error(message);};Input_0$classdecl$var0.assert=function(condition,message){if(!condition)Input_0$classdecl$var0.fail(message)};Input_0$classdecl$var0.throws=function(block,message){var success=true;try{block();success=false}catch(e){if(message!==undefined)Input_0$classdecl$var0.message(e,message)}Input_0$classdecl$var0.assert(success,"Should throw an error")};Input_0$classdecl$var0.equal=function(actual,
expected){var error=new RangeError("Expected "+util.inspect(expected)+" but got "+util.inspect(actual));if(expected){var matchedSpecialCase=true;switch(expected.constructor){case Object:{if(!(actual&&actual.constructor===Object))throw error;for(var key in expected)if({}.hasOwnProperty.call(expected,key))try{Input_0$classdecl$var0.equal(actual[key],expected[key])}catch(e){throw error;}break}case Array:{if(!(actual&&actual.constructor===Array))throw error;try{Input_0$classdecl$var0.equal(actual.length,
expected.length)}catch(e$34){throw error;}for(var i=0;i<expected.length;i++)try{Input_0$classdecl$var0.equal(actual[i],expected[i])}catch(e$35){throw error;}break}case Map:{if(!(actual&&actual.constructor===Map))throw error;try{Input_0$classdecl$var0.equal(actual.size,expected.size)}catch(e$36){throw error;}var expectedIterator=expected.entries();var actualIterator=actual.entries();var entry;while(!(entry=expectedIterator.next()).done)try{Input_0$classdecl$var0.equal(entry.value,actualIterator.next().value)}catch(e$37){throw error;
}break}case Set:{if(!(actual&&actual.constructor===Set))throw error;try{Input_0$classdecl$var0.equal(actual.size,expected.size)}catch(e$38){throw error;}var expectedIterator$39=expected.values();var actualIterator$40=actual.values();var entry$41;while(!(entry$41=expectedIterator$39.next()).done)try{Input_0$classdecl$var0.equal(entry$41.value,actualIterator$40.next().value)}catch(e$42){throw error;}break}case ArrayBuffer:{if(!(actual&&actual.constructor===ArrayBuffer))throw error;try{Input_0$classdecl$var0.equal(actual.byteLength,
expected.byteLength)}catch(e$43){throw error;}actual=new Uint8Array(actual);expected=new Uint8Array(expected);try{for(var i$44=0;i$44<expected.length;i$44++)Input_0$classdecl$var0.equal(actual[i$44],expected[i$44])}catch(e$45){throw error;}break}case Function:{if(!(actual&&actual.constructor===Function))throw error;try{Input_0$classdecl$var0.equal(actual.name,expected.name)}catch(e$46){throw error;}break}default:{matchedSpecialCase=false}}if(matchedSpecialCase)return}if(!(expected===undefined||expected===
null)&&expected.equals instanceof Function){var equals;try{equals=expected.equals(actual)}catch(e$47){throw new Error("equals() is not implemented for "+util.inspect(expected));}if(!equals)throw error;}else if(expected!==actual)throw error;};Input_0$classdecl$var0.message=function(err,message){Input_0$classdecl$var0.instanceOf(message,String);Input_0$classdecl$var0.assert(err&&err.message.startsWith(message),'Message "'+(err?err.message:"No error thrown")+'" does not start with "'+message+'"')};module.exports=
Input_0$classdecl$var0},{"/lib/util-inspect.js":"/lib/util-inspect.js"}],"/lib/bit-math.js":[function(require,module,exports){module.exports={dividedByEight:function(n){return n>>>3},modEight:function(n){return n&7}}},{}],"/lib/buffer-string.js":[function(require,module,exports){var assert=require("./assert");var GrowableBuffer=require("./growable-buffer");var MAX_ARGUMENTS_LENGTH=4096;module.exports={toString:function(buffer){if(buffer&&buffer.constructor===ArrayBuffer)buffer=new Uint8Array(buffer);
assert.instanceOf(buffer,Uint8Array);var codePoints=[];for(var i=0;i<buffer.length;){var firstByte=buffer[i];var codePoint=undefined;var bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=buffer.length){var secondByte=undefined,thirdByte,fourthByte,tempCodePoint;switch(bytesPerSequence){case 1:if(firstByte<128)codePoint=firstByte;break;case 2:secondByte=buffer[i+1];if((secondByte&192)===128){tempCodePoint=(firstByte&31)<<6|secondByte&63;if(tempCodePoint>127)codePoint=
tempCodePoint}break;case 3:secondByte=buffer[i+1];thirdByte=buffer[i+2];if((secondByte&192)===128&&(thirdByte&192)===128){tempCodePoint=(firstByte&15)<<12|(secondByte&63)<<6|thirdByte&63;if(tempCodePoint>2047&&(tempCodePoint<55296||tempCodePoint>57343))codePoint=tempCodePoint}break;case 4:secondByte=buffer[i+1];thirdByte=buffer[i+2];fourthByte=buffer[i+3];if((secondByte&192)===128&&(thirdByte&192)===128&&(fourthByte&192)===128){tempCodePoint=(firstByte&15)<<18|(secondByte&63)<<12|(thirdByte&63)<<
6|fourthByte&63;if(tempCodePoint>65535&&tempCodePoint<1114112)codePoint=tempCodePoint}}}if(codePoint===undefined){codePoint=65533;bytesPerSequence=1}else if(codePoint>65535){codePoint-=65536;codePoints.push(codePoint>>>10&1023|55296);codePoint=56320|codePoint&1023}codePoints.push(codePoint);i+=bytesPerSequence}var string="";for(var i$48=0;i$48<codePoints.length;i$48+=MAX_ARGUMENTS_LENGTH)string+=String.fromCharCode.apply(String,[].concat($jscomp.arrayFromIterable(codePoints.slice(i$48,i$48+MAX_ARGUMENTS_LENGTH))));
return string},fromString:function(string){assert.instanceOf(string,String);var utf8=new GrowableBuffer;for(var $jscomp$iter$1=$jscomp.makeIterator(string),$jscomp$key$char=$jscomp$iter$1.next();!$jscomp$key$char.done;$jscomp$key$char=$jscomp$iter$1.next()){var char=$jscomp$key$char.value;{var charcode=char.charCodeAt(0);if(charcode<128)utf8.add(charcode);else if(charcode<2048){utf8.add(192|charcode>>6);utf8.add(128|charcode&63)}else if(charcode<55296||charcode>=57344){utf8.add(224|charcode>>12);
utf8.add(128|charcode>>6&63);utf8.add(128|charcode&63)}else{charcode=65536+((charcode&1023)<<10|charcode&1023);utf8.add(240|charcode>>18);utf8.add(128|charcode>>12&63);utf8.add(128|charcode>>6&63);utf8.add(128|charcode&63)}}}return utf8.toBuffer()},toBinaryString:function(buffer){assert.instanceOf(buffer,ArrayBuffer);var string="";var castBuffer=new Uint8Array(buffer);for(var $jscomp$iter$2=$jscomp.makeIterator(castBuffer),$jscomp$key$byte=$jscomp$iter$2.next();!$jscomp$key$byte.done;$jscomp$key$byte=
$jscomp$iter$2.next()){var byte=$jscomp$key$byte.value;{string+=String.fromCharCode(byte)}}return string},fromBinaryString:function(string){assert.instanceOf(string,String);var buffer=new ArrayBuffer(string.length);var castBuffer=new Uint8Array(buffer);for(var i=0;i<string.length;i++)castBuffer[i]=string[i].charCodeAt(0);return buffer}}},{"./assert":2,"./growable-buffer":"/lib/growable-buffer.js"}],"/lib/flex-int.js":[function(require,module,exports){var assert=require("./assert");function possibleValueCount(bytes){var usableBits=
7*bytes;return Math.pow(2,usableBits)}var UPPER_BOUNDS=new Map;{var cumulativeValues=0;var bytes=0;while(cumulativeValues<=Number.MAX_SAFE_INTEGER){UPPER_BOUNDS.set(bytes,cumulativeValues);bytes++;cumulativeValues+=possibleValueCount(bytes)}UPPER_BOUNDS.set(bytes,cumulativeValues)}var NUMBER_OF_BYTES=new Map;var BYTE_MASKS=new Map;{var mask=0;var bitToMaskNext=7;for(var $jscomp$iter$3=$jscomp.makeIterator(UPPER_BOUNDS),$jscomp$key$$jscomp$destructuring$var0=$jscomp$iter$3.next();!$jscomp$key$$jscomp$destructuring$var0.done;$jscomp$key$$jscomp$destructuring$var0=
$jscomp$iter$3.next()){var $jscomp$destructuring$var0=$jscomp$key$$jscomp$destructuring$var0.value;{var $jscomp$destructuring$var1=$jscomp.makeIterator($jscomp$destructuring$var0);var bytes$49=$jscomp$destructuring$var1.next().value;var _=$jscomp$destructuring$var1.next().value;if(!bytes$49)continue;BYTE_MASKS.set(bytes$49,mask);NUMBER_OF_BYTES.set(bytes$49-1,bytes$49);mask|=1<<bitToMaskNext;bitToMaskNext--}}}module.exports={makeValueBuffer:function(value){assert.integer(value);assert.assert(value>=
0,String(value)+" is negative");var bytes=function(){for(var $jscomp$iter$4=$jscomp.makeIterator(UPPER_BOUNDS),$jscomp$key$$jscomp$destructuring$var2=$jscomp$iter$4.next();!$jscomp$key$$jscomp$destructuring$var2.done;$jscomp$key$$jscomp$destructuring$var2=$jscomp$iter$4.next()){var $jscomp$destructuring$var2=$jscomp$key$$jscomp$destructuring$var2.value;{var $jscomp$destructuring$var3=$jscomp.makeIterator($jscomp$destructuring$var2);var bytes$50=$jscomp$destructuring$var3.next().value;var maxValue=
$jscomp$destructuring$var3.next().value;if(maxValue>value)return bytes$50}}}();var writeValue=value-UPPER_BOUNDS.get(bytes-1);var buffer=new ArrayBuffer(bytes);var castBuffer=new Uint8Array(buffer);{var shiftedValue=writeValue;for(var writeByte=bytes-1;writeByte>=0;writeByte--){castBuffer[writeByte]=shiftedValue&255;shiftedValue=Math.floor(shiftedValue/256)}}castBuffer[0]|=BYTE_MASKS.get(bytes);return buffer},getByteCount:function(firstByte){assert.byteUnsignedInteger(firstByte);var leadingOnes=function(){var leadingOnes;
for(leadingOnes=0;firstByte&128;leadingOnes++)firstByte<<=1;return leadingOnes}();var bytes=NUMBER_OF_BYTES.get(leadingOnes);assert.assert(bytes!==undefined,"Invalid number of bytes");return bytes},readValueBuffer:function(valueBuffer){assert.instanceOf(valueBuffer,ArrayBuffer);var bytes=valueBuffer.byteLength;assert.assert(bytes>0,"Empty flex int buffer");var castBuffer=new Uint8Array(valueBuffer);var valueOfPossible=function(){var value=castBuffer[0]^BYTE_MASKS.get(bytes);for(var byteIndex=1;byteIndex<
bytes;byteIndex++){value*=256;value+=castBuffer[byteIndex]}return value}();return UPPER_BOUNDS.get(bytes-1)+valueOfPossible}}},{"./assert":2}],"/lib/growable-buffer.js":[function(require,module,exports){var assert=require("./assert");var INITIAL_LENGTH=10;var GrowableBuffer=function(initialLength){initialLength=initialLength===undefined?INITIAL_LENGTH:initialLength;try{assert.integer(initialLength);assert.between(0,initialLength,Number.MAX_SAFE_INTEGER+1)}catch(e){throw new RangeError(String(initialLength)+
" is not a valid buffer length");}this.buffer=new ArrayBuffer(initialLength);this.size=0};GrowableBuffer.prototype.length;GrowableBuffer.prototype.rawBuffer;GrowableBuffer.prototype.grow=function(size){assert.integer(size);if(size>this.buffer.byteLength){var newBuffer=new ArrayBuffer(size<<1);(new Uint8Array(newBuffer)).set((new Uint8Array(this.buffer)).subarray(0,this.size));this.buffer=newBuffer}return this};GrowableBuffer.prototype.set=function(index,value){assert.integer(index);assert.between(0,
index,this.size,"Index out of bounds: "+String(index));assert.integer(value);assert.between(0,value,256,"Not a byte: "+String(value));var castBuffer=new Uint8Array(this.buffer);castBuffer[index]=value;return this};GrowableBuffer.prototype.setAll=function(index,buffer){assert.instanceOf(buffer,ArrayBuffer);assert.integer(index);assert.between(0,index,this.size-buffer.byteLength+1,"Index out of bounds: "+String(index));(new Uint8Array(this.buffer)).set(new Uint8Array(buffer),index);return this};GrowableBuffer.prototype.get=
function(index){assert.integer(index);assert.between(0,index,this.size,"Index out of bounds: "+String(index));return(new Uint8Array(this.buffer))[index]};GrowableBuffer.prototype.add=function(value){assert.integer(value);assert.between(0,value,256,"Not a byte: "+String(value));var oldSize=this.size;var newSize=oldSize+1;this.grow(newSize);this.size=newSize;var castBuffer=new Uint8Array(this.buffer);castBuffer[oldSize]=value;return this};GrowableBuffer.prototype.addAll=function(buffer){assert.instanceOf(buffer,
ArrayBuffer);var oldSize=this.size;var newSize=this.size+buffer.byteLength;this.grow(newSize);this.size=newSize;(new Uint8Array(this.buffer)).set(new Uint8Array(buffer),oldSize);return this};GrowableBuffer.prototype.toBuffer=function(){return this.buffer.slice(0,this.size)};$jscomp.global.Object.defineProperties(GrowableBuffer.prototype,{length:{configurable:true,enumerable:true,get:function(){return this.size}},rawBuffer:{configurable:true,enumerable:true,get:function(){return this.buffer}}});module.exports=
GrowableBuffer},{"./assert":2}],"/lib/strint.js":[function(require,module,exports){var e={};(function(){var subPositive=e.subPositive=function(x,y){forcePositiveString(x);forcePositiveString(y);if(!ge(x,y))throw new Error("x must be greater or equal to y");var maxLength=Math.max(x.length,y.length);var result="";var borrow=0;var leadingZeros=0;for(var i=0;i<maxLength;i++){var lhs=Number(getDigit(x,i))-borrow;borrow=0;var rhs=Number(getDigit(y,i));while(lhs<rhs){lhs+=10;borrow++}var digit=String(lhs-
rhs);if(digit!=="0"){result=digit+prefixZeros(result,leadingZeros);leadingZeros=0}else leadingZeros++}return result.length===0?"0":result};var addPositive=function(x,y){forcePositiveString(x);forcePositiveString(y);if(eq(x,"0")&&eq(y,"0"))return"0";var maxLength=Math.max(x.length,y.length);var result="";var borrow=0;var leadingZeros=0;for(var i=0;i<maxLength;i++){var lhs=Number(getDigit(x,i));var rhs=Number(getDigit(y,i));var digit=lhs+rhs+borrow;borrow=0;while(digit>=10){digit-=10;borrow++}if(digit===
0)leadingZeros++;else{result=String(digit)+prefixZeros(result,leadingZeros);leadingZeros=0}}if(borrow>0)result=String(borrow)+prefixZeros(result,leadingZeros);return result};var add=e.add=function(x,y){forceString(x);forceString(y);if(isPositive(x)&&isPositive(y))return addPositive(x,y);else if(isNegative(x)&&isNegative(y))return negate(addPositive(abs(x),abs(y)));else{if(lt(abs(x),abs(y))){var tmp=x;x=y;y=tmp}var absResult=subPositive(abs(x),abs(y));if(isPositive(x))return absResult;else return negate(absResult)}};
var sub=e.sub=function(x,y){forceString(x);forceString(y);return add(x,negate(y))};var mulDigit=e.timesDigit=function(strint,digit){forcePositiveString(strint);forceNumber(digit);var result="";var digitCount=getDigitCount(strint);var carry=0;var leadingZeros=0;for(var i=0;i<digitCount;i++){var digitResult=Number(getDigit(strint,i))*digit+carry;carry=0;while(digitResult>=10){digitResult-=10;carry++}if(digitResult===0)leadingZeros++;else{result=String(digitResult)+prefixZeros(result,leadingZeros);leadingZeros=
0}}if(carry>0)result=String(carry)+prefixZeros(result,leadingZeros);return result.length===0?"0":result};var mulPositive=e.mulPositive=function(lhs,rhs){forcePositiveString(lhs);forcePositiveString(rhs);var result="0";var digitCount=getDigitCount(rhs);for(var i=0;i<digitCount;i++){var singleRow=mulDigit(lhs,Number(getDigit(rhs,i)));singleRow=shiftLeft(singleRow,i);result=addPositive(result,singleRow)}return result};var mul=e.mul=function(lhs,rhs){forceString(lhs);forceString(rhs);if(eq(lhs,"0")||
eq(rhs,"0"))return"0";var absResult=mulPositive(abs(lhs),abs(rhs));return sameSign(lhs,rhs)?absResult:negate(absResult)};var quotientRemainderPositive=e.quotientRemainderPositive=function(dividend,divisor){forcePositiveString(dividend);forcePositiveString(divisor);if(eq(dividend,divisor))return["1","0"];if(gt(divisor,dividend))return["0",normalize(dividend)];var quotient="0";var remainingDigits=dividend.length-divisor.length;for(;;){var digits=dividend.slice(0,dividend.length-remainingDigits);while(ge(digits,
divisor)){digits=sub(digits,divisor);quotient=add(quotient,"1")}dividend=digits+dividend.slice(dividend.length-remainingDigits);if(gt(divisor,dividend)){quotient=shiftLeft(quotient,remainingDigits);return[quotient,normalize(dividend)]}remainingDigits--;quotient=shiftLeft(quotient,1);if(remainingDigits<0)throw new Error("Illegal state");}};e.div=function(dividend,divisor,floorNeg){floorNeg=floorNeg===undefined?false:floorNeg;forceString(dividend);forceString(divisor);var absResult=quotientRemainderPositive(abs(dividend),
abs(divisor))[0];if(!sameSign(dividend,divisor))absResult=negate(absResult);if(floorNeg&&!eq(mul(absResult,divisor),dividend)&&!sameSign(dividend,divisor))absResult=sub(absResult,"1");return absResult};var eq=e.eq=function(lhs,rhs){return normalize(lhs)===normalize(rhs)};var ltPositive=function(x,y){if(isNegative(x)||isNegative(y))throw new Error("Both operands must be positive: "+x+" "+y);var maxLength=Math.max(x.length,y.length);var lhs=leftPadZeros(x,maxLength);var rhs=leftPadZeros(y,maxLength);
return lhs<rhs};var lt=e.lt=function(lhs,rhs){if(isNegative(lhs)&&isPositive(rhs))return true;else if(isPositive(lhs)&&isNegative(rhs))return false;else if(isNegative(lhs)&&isNegative(rhs))return!eq(lhs,rhs)&&!ltPositive(abs(lhs),abs(rhs));else return ltPositive(lhs,rhs)};var ge=e.ge=function(lhs,rhs){return!lt(lhs,rhs)};var gt=e.gt=function(lhs,rhs){if(eq(lhs,rhs))return false;return ge(lhs,rhs)};var isNegative=e.isNegative=function(strint){forceString(strint);return strint.indexOf("-")===0};var isPositive=
e.isPositive=function(strint){return!isNegative(strint)};var abs=e.abs=function(strint){if(isNegative(strint))return negate(strint);else return strint};function sameSign(lhs,rhs){return isPositive(lhs)===isPositive(rhs)}var negate=e.negate=function(strint){if(strint==="0")return"0";if(isNegative(strint))return strint.slice(1);else return"-"+strint};var RE_NON_ZERO=/^(-?)0*([1-9][0-9]*)$/;var RE_ZERO=/^0+$/;var normalize=e.normalize=function(strint){if(RE_ZERO.test(strint))return"0";var match=RE_NON_ZERO.exec(strint);
if(!match)throw new Error("Illegal strint format: "+strint);return match[1]+match[2]};var leftPadZeros=function(strint,digitCount){forcePositiveString(strint);forceNonNegativeNumber(digitCount);return prefixZeros(strint,digitCount-strint.length)};var prefixZeros=function(strint,zeroCount){forcePositiveString(strint);forceNonNegativeNumber(zeroCount);var result=strint;for(var i=0;i<zeroCount;i++)result="0"+result;return result};function shiftLeft(strint,digitCount){while(digitCount>0){strint=strint+
"0";digitCount--}return strint}var getDigit=function(x,digitIndex){forceString(x);forceNumber(digitIndex);if(digitIndex>=getDigitCount(x))return"0";else return x.charAt(x.length-digitIndex-1)};var getDigitCount=function(strint){if(isNegative(strint))return strint.length-1;else return strint.length};function forceString(value){forceType(value,"string")}function forcePositiveString(value){forceString(value);forceCondition(value,isPositive,"isPositive")}function forceNumber(value){forceType(value,"number")}
function forceNonNegativeNumber(value){forceType(value,"number");if(value<0)throw new Error("Expected a positive number: "+value);}function forceCondition(value,condition,conditionName){if(!condition.call(null,value))throw new Error("Condition "+conditionName+" failed for value "+value);}function forceType(value,type){if(typeof value!==type)throw new Error("Not a "+type+": "+value);}})();e.LONG_UPPER_SHIFT="4294967296";e.BYTE_SHIFT="256";module.exports=e},{}],"/lib/util-inspect.js":[function(require,
module,exports){exports.inspect=function(obj){if(obj===undefined)return"undefined";if(obj===null||(obj.constructor===Object||obj.constructor===Array||obj.constructor===String||obj.constructor===Number||obj.constructor===Boolean||obj.constructor===Date))return JSON.stringify(obj);if(obj.constructor===Set){var result="Set {";var iterator=obj.values();var value=iterator.next();while(!value.done){result+=exports.inspect(value.value);value=iterator.next();if(!value.done)result+=", "}return result+"}"}if(obj.constructor===
Map){var result$51="Map {";var iterator$52=obj.entries();var value$53=iterator$52.next();while(!value$53.done){result$51+=exports.inspect(value$53.value[0]);result$51+=" \x3d\x3e ";result$51+=exports.inspect(value$53.value[1]);value$53=iterator$52.next();if(!value$53.done)result$51+=", "}return result$51+"}"}if(obj.constructor.name)return obj.constructor.name+" "+JSON.stringify(obj);return JSON.stringify(obj)}},{}],"/recursive-registry.js":[function(require,module,exports){var assert=require("./lib/assert");
var t=require("./structure-types");var registeredTypes=new Map;module.exports={registerType:function(params){var $jscomp$destructuring$var4=params;var type=$jscomp$destructuring$var4.type;var name=$jscomp$destructuring$var4.name;assert.instanceOf(type,[t.ArrayType,t.MapType,t.SetType,t.StructType,t.TupleType]);assert.instanceOf(name,String);assert.assert(!registeredTypes.has(name),'"'+name+'" is already a registered type');registeredTypes.set(name,type)},getType:function(name){assert.instanceOf(name,
String);var type=registeredTypes.get(name);assert.assert(type!==undefined,'"'+name+'" is not a registered type');return type},isRegistered:function(name){return registeredTypes.has(name)}}},{"./lib/assert":2,"./structure-types":11}],"/structure-types.js":[function(require,module,exports){var assert=require("./lib/assert");var base64=require("base64-js");var bufferString=require("./lib/buffer-string");var config=require("./config");var flexInt=require("./lib/flex-int");var sha256=require("sha256");
var GrowableBuffer=require("./lib/growable-buffer");var recursiveRegistry;function loadRecursiveRegistry(){if(!recursiveRegistry)recursiveRegistry=require("./recursive-registry")}var strint=require("./lib/strint");var util=require("/lib/util-inspect.js");var $jscomp$destructuring$var5=require("./lib/bit-math");var dividedByEight=$jscomp$destructuring$var5.dividedByEight;var modEight=$jscomp$destructuring$var5.modEight;var recursiveIDs=new WeakMap;var recursiveNesting=new WeakMap;var recursiveLocations=
new WeakMap;var pointers=new WeakMap;function setPointers(buffer,root){if(root){var bufferPointers=pointers.get(buffer);if(bufferPointers)for(var $jscomp$iter$6=$jscomp.makeIterator(bufferPointers),$jscomp$key$$jscomp$destructuring$var6=$jscomp$iter$6.next();!$jscomp$key$$jscomp$destructuring$var6.done;$jscomp$key$$jscomp$destructuring$var6=$jscomp$iter$6.next()){var $jscomp$destructuring$var6=$jscomp$key$$jscomp$destructuring$var6.value;{var $jscomp$destructuring$var7=$jscomp.makeIterator($jscomp$destructuring$var6);
var binaryString=$jscomp$destructuring$var7.next().value;var insertionIndices=$jscomp$destructuring$var7.next().value;var index=buffer.length;buffer.addAll(bufferString.fromBinaryString(binaryString));var indexBuffer=new ArrayBuffer(4);(new DataView(indexBuffer)).setUint32(0,index);for(var $jscomp$iter$5=$jscomp.makeIterator(insertionIndices),$jscomp$key$insertionIndex=$jscomp$iter$5.next();!$jscomp$key$insertionIndex.done;$jscomp$key$insertionIndex=$jscomp$iter$5.next()){var insertionIndex=$jscomp$key$insertionIndex.value;
{buffer.setAll(insertionIndex,indexBuffer)}}}}}}var REPEATED_TYPE=255;var CACHED="cached";var Type=function(){};Type._value;Type.prototype.addToBuffer=function(buffer){assert.instanceOf(buffer,GrowableBuffer);if(this.cachedTypeLocations){if(!recursiveNesting.get(buffer)){var location$54=this.cachedTypeLocations.get(buffer);if(location$54!==undefined){buffer.add(REPEATED_TYPE);buffer.addAll(flexInt.makeValueBuffer(buffer.length-location$54));return false}}}else this.cachedTypeLocations=new Map;this.cachedTypeLocations.set(buffer,
buffer.length);buffer.add(this.constructor._value);return true};Type.prototype.toBuffer=function(){if(!this.cachedBuffer)this.cachedBuffer=this._toBuffer();return this.cachedBuffer};Type.prototype._toBuffer=function(){var buffer=new GrowableBuffer;this.addToBuffer(buffer);return buffer.toBuffer()};Type.prototype.getHash=function(){if(!this.cachedHash)this.cachedHash=this._getHash();return this.cachedHash};Type.prototype._getHash=function(){return base64.fromByteArray(sha256(this.toBuffer(),{asBytes:true}))};
Type.prototype.getSignature=function(){if(!this.cachedSignature)this.cachedSignature=this._getSignature();return this.cachedSignature};Type.prototype._getSignature=function(){return config.VERSION_STRING+this.getHash()};Type.prototype.writeValue=function(buffer,value){assert.fail("Generic Type has no value representation")};Type.prototype.valueBuffer=function(value){var buffer=new GrowableBuffer;this.writeValue(buffer,value);return buffer.toBuffer()};Type.prototype.equals=function(otherType){try{assert.instanceOf(otherType,
this.constructor)}catch(e){return false}try{assert.equal(otherType.constructor,this.constructor)}catch(e$55){return false}for(var param in this)if({}.hasOwnProperty.call(this,param)&&!param.startsWith(CACHED))try{assert.equal(otherType[param],this[param])}catch(e$56){return false}return true};$jscomp.global.Object.defineProperties(Type,{_value:{configurable:true,enumerable:true,get:function(){assert.fail("Generic Type has no value byte")}}});var AbsoluteType=function(var_args){super.apply(this,arguments)};
$jscomp.inherits(AbsoluteType,Type);function strToNum(str){if(str)if(str.constructor===String){var converted=Number(str);if(!isNaN(converted))return converted}return}var IntegerType=function(var_args){super.apply(this,arguments)};$jscomp.inherits(IntegerType,AbsoluteType);var ByteType=function(var_args){super.apply(this,arguments)};ByteType._value;$jscomp.inherits(ByteType,IntegerType);ByteType.prototype.writeValue=function(buffer,value){assert.instanceOf(buffer,GrowableBuffer);var convertedValue=
strToNum(value);if(convertedValue!==undefined)value=convertedValue;assert.integer(value);assert.between(-128,value,128,"Value out of range");var byteBuffer=new ArrayBuffer(1);(new DataView(byteBuffer)).setInt8(0,value);buffer.addAll(byteBuffer)};$jscomp.global.Object.defineProperties(ByteType,{_value:{configurable:true,enumerable:true,get:function(){return 1}}});var ShortType=function(var_args){super.apply(this,arguments)};ShortType._value;$jscomp.inherits(ShortType,IntegerType);ShortType.prototype.writeValue=
function(buffer,value){assert.instanceOf(buffer,GrowableBuffer);var convertedValue=strToNum(value);if(convertedValue!==undefined)value=convertedValue;assert.integer(value);assert.between(-32768,value,32768,"Value out of range");var byteBuffer=new ArrayBuffer(2);(new DataView(byteBuffer)).setInt16(0,value);buffer.addAll(byteBuffer)};$jscomp.global.Object.defineProperties(ShortType,{_value:{configurable:true,enumerable:true,get:function(){return 2}}});var IntType=function(var_args){super.apply(this,
arguments)};IntType._value;$jscomp.inherits(IntType,IntegerType);IntType.prototype.writeValue=function(buffer,value){assert.instanceOf(buffer,GrowableBuffer);var convertedValue=strToNum(value);if(convertedValue!==undefined)value=convertedValue;assert.integer(value);assert.between(-2147483648,value,2147483648,"Value out of range");var byteBuffer=new ArrayBuffer(4);(new DataView(byteBuffer)).setInt32(0,value);buffer.addAll(byteBuffer)};$jscomp.global.Object.defineProperties(IntType,{_value:{configurable:true,
enumerable:true,get:function(){return 3}}});var LONG_MAX="9223372036854775807";var LONG_MIN="-9223372036854775808";function writeLong(buffer,value){assert.instanceOf(buffer,GrowableBuffer);assert.instanceOf(value,String);assert.assert(!(strint.gt(value,LONG_MAX)||strint.lt(value,LONG_MIN)),"Value out of range");var upper=strint.div(value,strint.LONG_UPPER_SHIFT,true);var lower=strint.sub(value,strint.mul(upper,strint.LONG_UPPER_SHIFT));var byteBuffer=new ArrayBuffer(8);var dataView=new DataView(byteBuffer);
dataView.setInt32(0,Number(upper));dataView.setUint32(4,Number(lower));buffer.addAll(byteBuffer)}var LongType=function(var_args){super.apply(this,arguments)};LongType._value;$jscomp.inherits(LongType,IntegerType);LongType.prototype.writeValue=function(buffer,value){writeLong(buffer,value)};$jscomp.global.Object.defineProperties(LongType,{_value:{configurable:true,enumerable:true,get:function(){return 4}}});var BigIntType=function(var_args){super.apply(this,arguments)};BigIntType._value;$jscomp.inherits(BigIntType,
IntegerType);BigIntType.prototype.writeValue=function(buffer,value){assert.instanceOf(buffer,GrowableBuffer);assert.instanceOf(value,String);value=strint.normalize(value);var bytes=[];if(!strint.eq(value,"0")){while(strint.gt(value,"127")||strint.lt(value,"-128")){var quotient=strint.div(value,strint.BYTE_SHIFT,true);var remainder=strint.sub(value,strint.mul(quotient,strint.BYTE_SHIFT));bytes.push(Number(remainder));value=quotient}bytes.push(Number(value))}buffer.addAll(flexInt.makeValueBuffer(bytes.length));
var byteBuffer=new ArrayBuffer(bytes.length);var dataView=new DataView(byteBuffer);var offset=1;for(var i=bytes.length-2;i>=0;i--,offset++)dataView.setUint8(offset,bytes[i]);if(bytes.length)dataView.setInt8(0,bytes[bytes.length-1]);buffer.addAll(byteBuffer)};$jscomp.global.Object.defineProperties(BigIntType,{_value:{configurable:true,enumerable:true,get:function(){return 5}}});var UnsignedType=function(var_args){super.apply(this,arguments)};$jscomp.inherits(UnsignedType,AbsoluteType);var UnsignedByteType=
function(var_args){super.apply(this,arguments)};UnsignedByteType._value;$jscomp.inherits(UnsignedByteType,UnsignedType);UnsignedByteType.prototype.writeValue=function(buffer,value){assert.instanceOf(buffer,GrowableBuffer);var convertedValue=strToNum(value);if(convertedValue!==undefined)value=convertedValue;assert.integer(value);assert.between(0,value,256,"Value out of range");var byteBuffer=new ArrayBuffer(1);(new Uint8Array(byteBuffer))[0]=value;buffer.addAll(byteBuffer)};$jscomp.global.Object.defineProperties(UnsignedByteType,
{_value:{configurable:true,enumerable:true,get:function(){return 17}}});var UnsignedShortType=function(var_args){super.apply(this,arguments)};UnsignedShortType._value;$jscomp.inherits(UnsignedShortType,UnsignedType);UnsignedShortType.prototype.writeValue=function(buffer,value){assert.instanceOf(buffer,GrowableBuffer);var convertedValue=strToNum(value);if(convertedValue!==undefined)value=convertedValue;assert.integer(value);assert.between(0,value,65536,"Value out of range");var byteBuffer=new ArrayBuffer(2);
(new DataView(byteBuffer)).setUint16(0,value);buffer.addAll(byteBuffer)};$jscomp.global.Object.defineProperties(UnsignedShortType,{_value:{configurable:true,enumerable:true,get:function(){return 18}}});var UnsignedIntType=function(var_args){super.apply(this,arguments)};UnsignedIntType._value;$jscomp.inherits(UnsignedIntType,UnsignedType);UnsignedIntType.prototype.writeValue=function(buffer,value){assert.instanceOf(buffer,GrowableBuffer);var convertedValue=strToNum(value);if(convertedValue!==undefined)value=
convertedValue;assert.integer(value);assert.between(0,value,4294967296,"Value out of range");var byteBuffer=new ArrayBuffer(4);(new DataView(byteBuffer)).setUint32(0,value);buffer.addAll(byteBuffer)};$jscomp.global.Object.defineProperties(UnsignedIntType,{_value:{configurable:true,enumerable:true,get:function(){return 19}}});var UNSIGNED_LONG_MAX="18446744073709551615";var UnsignedLongType=function(var_args){super.apply(this,arguments)};UnsignedLongType._value;$jscomp.inherits(UnsignedLongType,UnsignedType);
UnsignedLongType.prototype.writeValue=function(buffer,value){assert.instanceOf(buffer,GrowableBuffer);assert.instanceOf(value,String);assert.assert(!(strint.gt(value,UNSIGNED_LONG_MAX)||strint.lt(value,"0")),"Value out of range");var upper=strint.div(value,strint.LONG_UPPER_SHIFT);var lower=strint.sub(value,strint.mul(upper,strint.LONG_UPPER_SHIFT));var byteBuffer=new ArrayBuffer(8);var dataView=new DataView(byteBuffer);dataView.setUint32(0,Number(upper));dataView.setUint32(4,Number(lower));buffer.addAll(byteBuffer)};
$jscomp.global.Object.defineProperties(UnsignedLongType,{_value:{configurable:true,enumerable:true,get:function(){return 20}}});var BigUnsignedIntType=function(var_args){super.apply(this,arguments)};BigUnsignedIntType._value;$jscomp.inherits(BigUnsignedIntType,UnsignedType);BigUnsignedIntType.prototype.writeValue=function(buffer,value){assert.instanceOf(buffer,GrowableBuffer);assert.instanceOf(value,String);assert.assert(!strint.isNegative(value),"Value out of range");var bytes=[];if(!strint.eq(value,
"0")){while(strint.ge(value,strint.BYTE_SHIFT)){var $jscomp$destructuring$var8=$jscomp.makeIterator(strint.quotientRemainderPositive(value,strint.BYTE_SHIFT));var quotient=$jscomp$destructuring$var8.next().value;var remainder=$jscomp$destructuring$var8.next().value;bytes.push(Number(remainder));value=quotient}bytes.push(Number(value))}buffer.addAll(flexInt.makeValueBuffer(bytes.length));var byteBuffer=new ArrayBuffer(bytes.length);var dataView=new DataView(byteBuffer);var offset=0;for(var i=bytes.length-
1;i>=0;i--,offset++)dataView.setUint8(offset,bytes[i]);buffer.addAll(byteBuffer)};$jscomp.global.Object.defineProperties(BigUnsignedIntType,{_value:{configurable:true,enumerable:true,get:function(){return 21}}});var FlexUnsignedIntType=function(var_args){super.apply(this,arguments)};FlexUnsignedIntType._value;$jscomp.inherits(FlexUnsignedIntType,UnsignedType);FlexUnsignedIntType.prototype.writeValue=function(buffer,value){assert.instanceOf(buffer,GrowableBuffer);var convertedValue=strToNum(value);
if(convertedValue!==undefined)value=convertedValue;assert.integer(value);buffer.addAll(flexInt.makeValueBuffer(value))};$jscomp.global.Object.defineProperties(FlexUnsignedIntType,{_value:{configurable:true,enumerable:true,get:function(){return 23}}});var ChronoType=function(var_args){super.apply(this,arguments)};$jscomp.inherits(ChronoType,AbsoluteType);var DateType=function(var_args){super.apply(this,arguments)};DateType._value;$jscomp.inherits(DateType,ChronoType);DateType.prototype.writeValue=
function(buffer,value){assert.instanceOf(value,Date);writeLong(buffer,String(value.getTime()))};$jscomp.global.Object.defineProperties(DateType,{_value:{configurable:true,enumerable:true,get:function(){return 26}}});var MILLIS_PER_DAY=864E5;var MILLIS_PER_MINUTE=6E4;var DayType=function(var_args){super.apply(this,arguments)};DayType._value;$jscomp.inherits(DayType,ChronoType);DayType.prototype.writeValue=function(buffer,value){assert.instanceOf(value,Date);var flooredDate=new Date(value.getFullYear(),
value.getMonth(),value.getDate());var day=(flooredDate.getTime()-flooredDate.getTimezoneOffset()*MILLIS_PER_MINUTE)/MILLIS_PER_DAY;var byteBuffer=new ArrayBuffer(3);var dataView=new DataView(byteBuffer);dataView.setInt16(0,day>>8);dataView.setUint8(2,day&255);buffer.addAll(byteBuffer)};$jscomp.global.Object.defineProperties(DayType,{_value:{configurable:true,enumerable:true,get:function(){return 27}}});var TimeType=function(var_args){super.apply(this,arguments)};TimeType._value;$jscomp.inherits(TimeType,
ChronoType);TimeType.prototype.writeValue=function(buffer,value){assert.instanceOf(value,Date);var byteBuffer=new ArrayBuffer(4);(new DataView(byteBuffer)).setUint32(0,value.getTime()%MILLIS_PER_DAY);buffer.addAll(byteBuffer)};$jscomp.global.Object.defineProperties(TimeType,{_value:{configurable:true,enumerable:true,get:function(){return 28}}});var FloatingPointType=function(var_args){super.apply(this,arguments)};$jscomp.inherits(FloatingPointType,AbsoluteType);var FloatType=function(var_args){super.apply(this,
arguments)};FloatType._value;$jscomp.inherits(FloatType,FloatingPointType);FloatType.prototype.writeValue=function(buffer,value){assert.instanceOf(buffer,GrowableBuffer);var convertedValue=strToNum(value);if(convertedValue!==undefined)value=convertedValue;assert.instanceOf(value,Number);var byteBuffer=new ArrayBuffer(4);(new DataView(byteBuffer)).setFloat32(0,value);buffer.addAll(byteBuffer)};$jscomp.global.Object.defineProperties(FloatType,{_value:{configurable:true,enumerable:true,get:function(){return 32}}});
var DoubleType=function(var_args){super.apply(this,arguments)};DoubleType._value;$jscomp.inherits(DoubleType,FloatingPointType);DoubleType.prototype.writeValue=function(buffer,value){assert.instanceOf(buffer,GrowableBuffer);var convertedValue=strToNum(value);if(convertedValue!==undefined)value=convertedValue;assert.instanceOf(value,Number);var byteBuffer=new ArrayBuffer(8);(new DataView(byteBuffer)).setFloat64(0,value);buffer.addAll(byteBuffer)};$jscomp.global.Object.defineProperties(DoubleType,{_value:{configurable:true,
enumerable:true,get:function(){return 33}}});var BooleanType=function(var_args){super.apply(this,arguments)};BooleanType._value;$jscomp.inherits(BooleanType,AbsoluteType);BooleanType.prototype.writeValue=function(buffer,value){assert.instanceOf(buffer,GrowableBuffer);assert.instanceOf(value,Boolean);if(value)buffer.add(255);else buffer.add(0)};$jscomp.global.Object.defineProperties(BooleanType,{_value:{configurable:true,enumerable:true,get:function(){return 48}}});function writeBooleans(buffer,booleans){assert.instanceOf(booleans,
Array);var incompleteBytes=modEight(booleans.length);var bytes=dividedByEight(booleans.length);var length;if(incompleteBytes)length=bytes+1;else length=bytes;var byteBuffer=new ArrayBuffer(length);var castBuffer=new Uint8Array(byteBuffer);for(var i=0;i<booleans.length;i++){var boolean=booleans[i];assert.instanceOf(boolean,Boolean);var bit=modEight(~modEight(i));if(boolean)castBuffer[dividedByEight(i)]|=1<<bit;else castBuffer[dividedByEight(i)]&=~(1<<bit)}buffer.addAll(byteBuffer)}var BooleanTupleType=
function(length){super();assert.byteUnsignedInteger(length);this.length=length};BooleanTupleType._value;$jscomp.inherits(BooleanTupleType,AbsoluteType);BooleanTupleType.prototype.addToBuffer=function(buffer){if(AbsoluteType.prototype.addToBuffer.call(this,buffer))buffer.add(this.length)};BooleanTupleType.prototype.writeValue=function(buffer,value){assert.instanceOf(buffer,GrowableBuffer);assert.instanceOf(value,Array);assert.assert(value.length===this.length,"Length does not match: expected "+String(this.length)+
" but got "+value.length);writeBooleans(buffer,value)};$jscomp.global.Object.defineProperties(BooleanTupleType,{_value:{configurable:true,enumerable:true,get:function(){return 49}}});var BooleanArrayType=function(var_args){super.apply(this,arguments)};BooleanArrayType._value;$jscomp.inherits(BooleanArrayType,AbsoluteType);BooleanArrayType.prototype.writeValue=function(buffer,value){assert.instanceOf(value,Array);buffer.addAll(flexInt.makeValueBuffer(value.length));writeBooleans(buffer,value)};$jscomp.global.Object.defineProperties(BooleanArrayType,
{_value:{configurable:true,enumerable:true,get:function(){return 50}}});var CharType=function(var_args){super.apply(this,arguments)};CharType._value;$jscomp.inherits(CharType,AbsoluteType);CharType.prototype.writeValue=function(buffer,value){assert.instanceOf(buffer,GrowableBuffer);assert.instanceOf(value,String);assert.assert(value.length===1,"String must contain only 1 character");buffer.addAll(bufferString.fromString(value))};$jscomp.global.Object.defineProperties(CharType,{_value:{configurable:true,
enumerable:true,get:function(){return 64}}});var StringType=function(var_args){super.apply(this,arguments)};StringType._value;$jscomp.inherits(StringType,AbsoluteType);StringType.prototype.writeValue=function(buffer,value){assert.instanceOf(buffer,GrowableBuffer);assert.instanceOf(value,String);var valueBuffer=bufferString.fromString(value);buffer.addAll(valueBuffer);buffer.add(0)};$jscomp.global.Object.defineProperties(StringType,{_value:{configurable:true,enumerable:true,get:function(){return 65}}});
var OctetsType=function(var_args){super.apply(this,arguments)};OctetsType._value;$jscomp.inherits(OctetsType,AbsoluteType);OctetsType.prototype.writeValue=function(buffer,value){assert.instanceOf(buffer,GrowableBuffer);assert.instanceOf(value,ArrayBuffer);buffer.addAll(flexInt.makeValueBuffer(value.byteLength));buffer.addAll(value)};$jscomp.global.Object.defineProperties(OctetsType,{_value:{configurable:true,enumerable:true,get:function(){return 66}}});var TupleType=function(params){var $jscomp$destructuring$var9=
params;var type=$jscomp$destructuring$var9.type;var length=$jscomp$destructuring$var9.length;super();assert.instanceOf(type,Type);assert.byteUnsignedInteger(length);this.type=type;this.length=length};TupleType._value;$jscomp.inherits(TupleType,AbsoluteType);TupleType.prototype.addToBuffer=function(buffer){if(AbsoluteType.prototype.addToBuffer.call(this,buffer)){this.type.addToBuffer(buffer);buffer.add(this.length)}};TupleType.prototype.writeValue=function(buffer,value,root){root=root===undefined?
true:root;assert.instanceOf(buffer,GrowableBuffer);assert.instanceOf(value,Array);assert.assert(value.length===this.length,"Length does not match: expected "+String(this.length)+" but got "+value.length);for(var $jscomp$iter$7=$jscomp.makeIterator(value),$jscomp$key$instance=$jscomp$iter$7.next();!$jscomp$key$instance.done;$jscomp$key$instance=$jscomp$iter$7.next()){var instance=$jscomp$key$instance.value;{this.type.writeValue(buffer,instance,false)}}setPointers(buffer,root)};$jscomp.global.Object.defineProperties(TupleType,
{_value:{configurable:true,enumerable:true,get:function(){return 80}}});var NAME="name";var TYPE="type";var NAME_BUFFER="buffer";var StructType=function(fields){super();assert.instanceOf(fields,Object);var fieldCount=0;for(var fieldName in fields)if({}.hasOwnProperty.call(fields,fieldName))fieldCount++;try{assert.byteUnsignedInteger(fieldCount)}catch(e){assert.fail(String(fieldCount)+" fields is too many")}this.fields=new Array(fieldCount);var fieldIndex=0;for(var fieldName$57 in fields){if(!{}.hasOwnProperty.call(fields,
fieldName$57))continue;var fieldNameBuffer=bufferString.fromString(fieldName$57);try{assert.byteUnsignedInteger(fieldNameBuffer.byteLength)}catch(e$58){assert.fail("Field name "+fieldName$57+" is too long")}var fieldType=fields[fieldName$57];try{assert.instanceOf(fieldType,Type)}catch(e$59){assert.fail(String(fieldType)+" is not a valid field type")}var $jscomp$compprop8={};this.fields[fieldIndex]=($jscomp$compprop8[NAME]=fieldName$57,$jscomp$compprop8[TYPE]=fieldType,$jscomp$compprop8[NAME_BUFFER]=
fieldNameBuffer,$jscomp$compprop8);fieldIndex++}this.fields.sort(function(a,b){if(a[NAME]<b[NAME])return-1;else if(a[NAME]>b[NAME])return 1})};StructType._value;$jscomp.inherits(StructType,AbsoluteType);StructType.prototype.addToBuffer=function(buffer){if(AbsoluteType.prototype.addToBuffer.call(this,buffer)){buffer.add(this.fields.length);for(var $jscomp$iter$9=$jscomp.makeIterator(this.fields),$jscomp$key$field=$jscomp$iter$9.next();!$jscomp$key$field.done;$jscomp$key$field=$jscomp$iter$9.next()){var field=
$jscomp$key$field.value;{var nameBuffer=field[NAME_BUFFER];buffer.add(nameBuffer.byteLength);buffer.addAll(nameBuffer);field[TYPE].addToBuffer(buffer)}}}};StructType.prototype.writeValue=function(buffer,value,root){root=root===undefined?true:root;assert.instanceOf(buffer,GrowableBuffer);assert.instanceOf(value,Object);for(var $jscomp$iter$10=$jscomp.makeIterator(this.fields),$jscomp$key$field=$jscomp$iter$10.next();!$jscomp$key$field.done;$jscomp$key$field=$jscomp$iter$10.next()){var field=$jscomp$key$field.value;
{var fieldValue=value[field[NAME]];try{field[TYPE].writeValue(buffer,fieldValue,false)}catch(writeError){assert.assert(fieldValue!==undefined,'Value for field "'+field[NAME]+'" missing');throw writeError;}}}setPointers(buffer,root)};$jscomp.global.Object.defineProperties(StructType,{_value:{configurable:true,enumerable:true,get:function(){return 81}}});var ArrayType=function(type){super();assert.instanceOf(type,Type);this.type=type};ArrayType._value;$jscomp.inherits(ArrayType,AbsoluteType);ArrayType.prototype.addToBuffer=
function(buffer){if(AbsoluteType.prototype.addToBuffer.call(this,buffer))this.type.addToBuffer(buffer)};ArrayType.prototype._writeValue=function(buffer){var $jscomp$destructuring$var10=buffer;var buffer=$jscomp$destructuring$var10.buffer;var value=$jscomp$destructuring$var10.value;var length=$jscomp$destructuring$var10.length;var root=$jscomp$destructuring$var10.root;assert.instanceOf(buffer,GrowableBuffer);buffer.addAll(flexInt.makeValueBuffer(length));for(var $jscomp$iter$11=$jscomp.makeIterator(value),
$jscomp$key$instance=$jscomp$iter$11.next();!$jscomp$key$instance.done;$jscomp$key$instance=$jscomp$iter$11.next()){var instance=$jscomp$key$instance.value;{this.type.writeValue(buffer,instance,false)}}setPointers(buffer,root)};ArrayType.prototype.writeValue=function(buffer,value,root){root=root===undefined?true:root;assert.instanceOf(value,Array);this._writeValue({buffer:buffer,value:value,length:value.length,root:root})};$jscomp.global.Object.defineProperties(ArrayType,{_value:{configurable:true,
enumerable:true,get:function(){return 82}}});var SetType=function(var_args){super.apply(this,arguments)};SetType._value;$jscomp.inherits(SetType,ArrayType);SetType.prototype.writeValue=function(buffer,value,root){root=root===undefined?true:root;assert.instanceOf(value,Set);this._writeValue({buffer:buffer,value:value,length:value.size,root:root})};$jscomp.global.Object.defineProperties(SetType,{_value:{configurable:true,enumerable:true,get:function(){return 83}}});var MapType=function(keyType,valueType){super();
assert.instanceOf(keyType,Type);assert.instanceOf(valueType,Type);this.keyType=keyType;this.valueType=valueType};MapType._value;$jscomp.inherits(MapType,AbsoluteType);MapType.prototype.addToBuffer=function(buffer){if(AbsoluteType.prototype.addToBuffer.call(this,buffer)){this.keyType.addToBuffer(buffer);this.valueType.addToBuffer(buffer)}};MapType.prototype.writeValue=function(buffer,value,root){root=root===undefined?true:root;assert.instanceOf(buffer,GrowableBuffer);assert.instanceOf(value,Map);buffer.addAll(flexInt.makeValueBuffer(value.size));
for(var $jscomp$iter$12=$jscomp.makeIterator(value),$jscomp$key$$jscomp$destructuring$var11=$jscomp$iter$12.next();!$jscomp$key$$jscomp$destructuring$var11.done;$jscomp$key$$jscomp$destructuring$var11=$jscomp$iter$12.next()){var $jscomp$destructuring$var11=$jscomp$key$$jscomp$destructuring$var11.value;{var $jscomp$destructuring$var12=$jscomp.makeIterator($jscomp$destructuring$var11);var mapKey=$jscomp$destructuring$var12.next().value;var mapValue=$jscomp$destructuring$var12.next().value;this.keyType.writeValue(buffer,
mapKey,false);this.valueType.writeValue(buffer,mapValue,false)}}setPointers(buffer,root)};$jscomp.global.Object.defineProperties(MapType,{_value:{configurable:true,enumerable:true,get:function(){return 84}}});var EnumType=function(params){var $jscomp$destructuring$var13=params;var type=$jscomp$destructuring$var13.type;var values=$jscomp$destructuring$var13.values;super();assert.instanceOf(type,AbsoluteType);assert.instanceOf(values,Array);try{assert.byteUnsignedInteger(values.length)}catch(e){assert.fail(String(values.length)+
" values is too many")}var valueIndices=new Map;for(var i=0;i<values.length;i++){var value=values[i];var valueString=bufferString.toBinaryString(type.valueBuffer(value));assert.assert(!valueIndices.has(valueString),"Value is repeated: "+util.inspect(value));valueIndices.set(valueString,i)}this.type=type;this.values=values;this.valueIndices=valueIndices};EnumType._value;$jscomp.inherits(EnumType,Type);EnumType.prototype.addToBuffer=function(buffer){if(Type.prototype.addToBuffer.call(this,buffer)){this.type.addToBuffer(buffer);
buffer.add(this.valueIndices.size);for(var $jscomp$iter$13=$jscomp.makeIterator(this.valueIndices),$jscomp$key$$jscomp$destructuring$var14=$jscomp$iter$13.next();!$jscomp$key$$jscomp$destructuring$var14.done;$jscomp$key$$jscomp$destructuring$var14=$jscomp$iter$13.next()){var $jscomp$destructuring$var14=$jscomp$key$$jscomp$destructuring$var14.value;{var $jscomp$destructuring$var15=$jscomp.makeIterator($jscomp$destructuring$var14);var valueBuffer=$jscomp$destructuring$var15.next().value;var _=$jscomp$destructuring$var15.next().value;
buffer.addAll(bufferString.fromBinaryString(valueBuffer))}}}};EnumType.prototype.writeValue=function(buffer,value,root){root=root===undefined?true:root;assert.instanceOf(buffer,GrowableBuffer);var valueBuffer=new GrowableBuffer;this.type.writeValue(valueBuffer,value,false);var index=this.valueIndices.get(bufferString.toBinaryString(valueBuffer.toBuffer()));assert.assert(index!==undefined,"Not a valid enum value: "+util.inspect(value));buffer.add(index);setPointers(buffer,root)};$jscomp.global.Object.defineProperties(EnumType,
{_value:{configurable:true,enumerable:true,get:function(){return 85}}});var ChoiceType=function(types){super();assert.instanceOf(types,Array);try{assert.byteUnsignedInteger(types.length)}catch(e){assert.fail(String(types.length)+" types is too many")}for(var $jscomp$iter$14=$jscomp.makeIterator(types),$jscomp$key$type=$jscomp$iter$14.next();!$jscomp$key$type.done;$jscomp$key$type=$jscomp$iter$14.next()){var type=$jscomp$key$type.value;{assert.instanceOf(type,Type)}}this.types=types};ChoiceType._value;
$jscomp.inherits(ChoiceType,AbsoluteType);ChoiceType.prototype.addToBuffer=function(buffer){if(AbsoluteType.prototype.addToBuffer.call(this,buffer)){buffer.add(this.types.length);for(var $jscomp$iter$15=$jscomp.makeIterator(this.types),$jscomp$key$type=$jscomp$iter$15.next();!$jscomp$key$type.done;$jscomp$key$type=$jscomp$iter$15.next()){var type=$jscomp$key$type.value;{type.addToBuffer(buffer)}}}};ChoiceType.prototype.writeValue=function(buffer,value,root){root=root===undefined?true:root;assert.instanceOf(buffer,
GrowableBuffer);var success=false;for(var i=0;i<this.types.length;i++){var type=this.types[i];var valueBuffer=new GrowableBuffer;try{type.writeValue(valueBuffer,value,false)}catch(e){continue}buffer.add(i);buffer.addAll(valueBuffer.toBuffer());success=true;break}assert.assert(success,"No types matched: "+util.inspect(value));setPointers(buffer,root)};$jscomp.global.Object.defineProperties(ChoiceType,{_value:{configurable:true,enumerable:true,get:function(){return 86}}});var NamedChoiceType=function(constructorTypes){super();
assert.instanceOf(constructorTypes,Map);try{assert.byteUnsignedInteger(constructorTypes.size)}catch(e){assert.fail(String(constructorTypes.size)+" types is too many")}this.indexConstructors=new Map;this.constructorTypes=new Array(constructorTypes.size);var usedNames=new Set;for(var $jscomp$iter$16=$jscomp.makeIterator(constructorTypes),$jscomp$key$$jscomp$destructuring$var16=$jscomp$iter$16.next();!$jscomp$key$$jscomp$destructuring$var16.done;$jscomp$key$$jscomp$destructuring$var16=$jscomp$iter$16.next()){var $jscomp$destructuring$var16=
$jscomp$key$$jscomp$destructuring$var16.value;{var $jscomp$destructuring$var17=$jscomp.makeIterator($jscomp$destructuring$var16);var constructor=$jscomp$destructuring$var17.next().value;var type=$jscomp$destructuring$var17.next().value;assert.instanceOf(constructor,Function);var name=constructor.name;assert.assert(name,'Function "'+String(name)+'" does not have a name');assert.assert(!usedNames.has(name),'Function name "'+name+'" is repeated');usedNames.add(name);var typeNameBuffer=bufferString.fromString(name);
try{assert.byteUnsignedInteger(typeNameBuffer.byteLength)}catch(e$60){assert.fail('Function name "'+name+'" is too long')}assert.instanceOf(type,StructType);var constructorIndex=this.indexConstructors.size;this.indexConstructors.set(constructorIndex,constructor);this.constructorTypes[constructorIndex]={nameBuffer:typeNameBuffer,type:type}}}};NamedChoiceType._value;$jscomp.inherits(NamedChoiceType,AbsoluteType);NamedChoiceType.prototype.addToBuffer=function(buffer){if(AbsoluteType.prototype.addToBuffer.call(this,
buffer)){buffer.add(this.constructorTypes.length);for(var $jscomp$iter$17=$jscomp.makeIterator(this.constructorTypes),$jscomp$key$$jscomp$destructuring$var18=$jscomp$iter$17.next();!$jscomp$key$$jscomp$destructuring$var18.done;$jscomp$key$$jscomp$destructuring$var18=$jscomp$iter$17.next()){var $jscomp$destructuring$var18=$jscomp$key$$jscomp$destructuring$var18.value;{var $jscomp$destructuring$var19=$jscomp$destructuring$var18;var nameBuffer=$jscomp$destructuring$var19.nameBuffer;var type=$jscomp$destructuring$var19.type;
buffer.add(nameBuffer.byteLength);buffer.addAll(nameBuffer);type.addToBuffer(buffer)}}}};NamedChoiceType.prototype.writeValue=function(buffer,value,root){root=root===undefined?true:root;assert.instanceOf(buffer,GrowableBuffer);assert.instanceOf(value,Object);var writeIndex;for(var $jscomp$iter$18=$jscomp.makeIterator(this.indexConstructors),$jscomp$key$$jscomp$destructuring$var20=$jscomp$iter$18.next();!$jscomp$key$$jscomp$destructuring$var20.done;$jscomp$key$$jscomp$destructuring$var20=$jscomp$iter$18.next()){var $jscomp$destructuring$var20=
$jscomp$key$$jscomp$destructuring$var20.value;{var $jscomp$destructuring$var21=$jscomp.makeIterator($jscomp$destructuring$var20);var index=$jscomp$destructuring$var21.next().value;var constructor=$jscomp$destructuring$var21.next().value;if(value instanceof constructor){writeIndex=index;break}}}assert.assert(writeIndex!==undefined,"No types matched: "+util.inspect(value));buffer.add(writeIndex);var $jscomp$destructuring$var22=this.constructorTypes[writeIndex];var type=$jscomp$destructuring$var22.type;
type.writeValue(buffer,value,false);setPointers(buffer,root)};$jscomp.global.Object.defineProperties(NamedChoiceType,{_value:{configurable:true,enumerable:true,get:function(){return 88}}});var RecursiveType=function(name){super();assert.instanceOf(name,String);this.name=name};RecursiveType.prototype.type;RecursiveType._value;$jscomp.inherits(RecursiveType,AbsoluteType);RecursiveType.prototype.addToBuffer=function(buffer){if(AbsoluteType.prototype.addToBuffer.call(this,buffer)){var bufferRecursiveIDs=
recursiveIDs.get(buffer);if(!bufferRecursiveIDs){bufferRecursiveIDs=new Map;recursiveIDs.set(buffer,bufferRecursiveIDs)}var recursiveID=bufferRecursiveIDs.get(this.name);var firstOccurence=recursiveID===undefined;if(firstOccurence){recursiveID=bufferRecursiveIDs.size;bufferRecursiveIDs.set(this.name,recursiveID)}buffer.addAll(flexInt.makeValueBuffer(recursiveID));if(firstOccurence){var bufferRecursiveNesting=recursiveNesting.get(buffer)||0;recursiveNesting.set(buffer,bufferRecursiveNesting+1);this.type.addToBuffer(buffer);
recursiveNesting.set(buffer,bufferRecursiveNesting)}}};RecursiveType.prototype.writeValue=function(buffer,value,root){root=root===undefined?true:root;assert.instanceOf(buffer,GrowableBuffer);var writeValue=true;var bufferRecursiveLocations=recursiveLocations.get(buffer);if(bufferRecursiveLocations){var targetLocation=bufferRecursiveLocations.get(value);if(targetLocation!==undefined){writeValue=false;buffer.add(0);var offset=buffer.length-targetLocation;buffer.addAll(flexInt.makeValueBuffer(offset))}}else{bufferRecursiveLocations=
new Map;recursiveLocations.set(buffer,bufferRecursiveLocations)}if(writeValue){buffer.add(255);bufferRecursiveLocations.set(value,buffer.length);this.type.writeValue(buffer,value,false)}setPointers(buffer,root)};$jscomp.global.Object.defineProperties(RecursiveType.prototype,{type:{configurable:true,enumerable:true,get:function(){loadRecursiveRegistry();return recursiveRegistry.getType(this.name)}}});$jscomp.global.Object.defineProperties(RecursiveType,{_value:{configurable:true,enumerable:true,get:function(){return 87}}});
var OptionalType=function(type){super();assert.instanceOf(type,Type);this.type=type};OptionalType._value;$jscomp.inherits(OptionalType,AbsoluteType);OptionalType.prototype.addToBuffer=function(buffer){if(AbsoluteType.prototype.addToBuffer.call(this,buffer))this.type.addToBuffer(buffer)};OptionalType.prototype.writeValue=function(buffer,value,root){root=root===undefined?true:root;assert.instanceOf(buffer,GrowableBuffer);if(value===null||value===undefined)buffer.add(0);else{buffer.add(255);this.type.writeValue(buffer,
value,false)}setPointers(buffer,root)};$jscomp.global.Object.defineProperties(OptionalType,{_value:{configurable:true,enumerable:true,get:function(){return 96}}});var PointerType=function(type){super();assert.instanceOf(type,AbsoluteType);this.type=type};PointerType._value;$jscomp.inherits(PointerType,Type);PointerType.prototype.addToBuffer=function(buffer){if(Type.prototype.addToBuffer.call(this,buffer))this.type.addToBuffer(buffer)};PointerType.prototype.writeValue=function(buffer,value,root){root=
root===undefined?true:root;assert.instanceOf(buffer,GrowableBuffer);var bufferPointers=pointers.get(buffer);if(!bufferPointers){bufferPointers=new Map;pointers.set(buffer,bufferPointers)}var valueBuffer=new GrowableBuffer;this.type.writeValue(valueBuffer,value,false);var valueString=bufferString.toBinaryString(valueBuffer.toBuffer());var currentIndex=buffer.length;var pointerLocations=bufferPointers.get(valueString);if(pointerLocations)pointerLocations.add(currentIndex);else bufferPointers.set(valueString,
new Set([currentIndex]));buffer.addAll(new ArrayBuffer(4));setPointers(buffer,root)};$jscomp.global.Object.defineProperties(PointerType,{_value:{configurable:true,enumerable:true,get:function(){return 112}}});module.exports={Type:Type,ByteType:ByteType,ShortType:ShortType,IntType:IntType,LongType:LongType,BigIntType:BigIntType,UnsignedByteType:UnsignedByteType,UnsignedShortType:UnsignedShortType,UnsignedIntType:UnsignedIntType,UnsignedLongType:UnsignedLongType,BigUnsignedIntType:BigUnsignedIntType,
FlexUnsignedIntType:FlexUnsignedIntType,DateType:DateType,DayType:DayType,TimeType:TimeType,FloatType:FloatType,DoubleType:DoubleType,BooleanType:BooleanType,BooleanTupleType:BooleanTupleType,BooleanArrayType:BooleanArrayType,CharType:CharType,StringType:StringType,OctetsType:OctetsType,TupleType:TupleType,StructType:StructType,ArrayType:ArrayType,SetType:SetType,MapType:MapType,EnumType:EnumType,ChoiceType:ChoiceType,NamedChoiceType:NamedChoiceType,RecursiveType:RecursiveType,OptionalType:OptionalType,
PointerType:PointerType,REPEATED_TYPE:REPEATED_TYPE,MILLIS_PER_DAY:MILLIS_PER_DAY,MILLIS_PER_MINUTE:MILLIS_PER_MINUTE}},{"./config":"/config.js","./lib/assert":2,"./lib/bit-math":"/lib/bit-math.js","./lib/buffer-string":"/lib/buffer-string.js","./lib/flex-int":"/lib/flex-int.js","./lib/growable-buffer":"/lib/growable-buffer.js","./lib/strint":"/lib/strint.js","./recursive-registry":"/recursive-registry.js","/lib/util-inspect.js":"/lib/util-inspect.js","base64-js":3,"sha256":8}],1:[function(require,
module,exports){(function(){require("/client-side/common.js");var assert=require("/lib/assert.js");sb.upload=function(params,options){var $jscomp$destructuring$var23=params;var type=$jscomp$destructuring$var23.type;var value=$jscomp$destructuring$var23.value;assert.instanceOf(type,sb.Type);assert.instanceOf(options,Object);if(!(options.type==="POST"||options.method==="POST"))assert.fail("Must use POST when uploading");options.processData=false;options.data=type.valueBuffer(value);$.ajax(options)}})()},
{"/client-side/common.js":"/client-side/common.js","/lib/assert.js":"/lib/assert.js"}],2:[function(require,module,exports){var util=require("util");var Input_0$classdecl$var1=function(){};Input_0$classdecl$var1.instanceOf=function(instance,constructors){if(!(constructors instanceof Array))constructors=[constructors];var constructorMatched=false;for(var $jscomp$iter$19=$jscomp.makeIterator(constructors),$jscomp$key$constructor=$jscomp$iter$19.next();!$jscomp$key$constructor.done;$jscomp$key$constructor=
$jscomp$iter$19.next()){var constructor=$jscomp$key$constructor.value;{if(instance instanceof constructor||!(instance===undefined||instance===null)&&instance.constructor===constructor){constructorMatched=true;break}}}if(!constructorMatched)throw new TypeError(util.inspect(instance)+" is not an instance of "+constructors.map(function(constructor){return constructor.name}).join(" or "));};Input_0$classdecl$var1.integer=function(instance){Input_0$classdecl$var1.instanceOf(instance,Number);if(!Number.isSafeInteger(instance))throw new RangeError(util.inspect(instance)+
" is not an integer");};Input_0$classdecl$var1.between=function(lower,value,upper,message){if(value<lower||value>=upper){var errorMessage=util.inspect(value)+" is not in ["+util.inspect(lower)+","+util.inspect(upper)+")";if(message===undefined)throw new RangeError(errorMessage);else throw new RangeError(message+" ("+errorMessage+")");}};Input_0$classdecl$var1.byteUnsignedInteger=function(value){Input_0$classdecl$var1.integer(value);Input_0$classdecl$var1.between(0,value,256)};Input_0$classdecl$var1.fail=
function(message){throw new Error(message);};Input_0$classdecl$var1.assert=function(condition,message){if(!condition)Input_0$classdecl$var1.fail(message)};Input_0$classdecl$var1.throws=function(block,message){var success=true;try{block();success=false}catch(e){if(message!==undefined)Input_0$classdecl$var1.message(e,message)}Input_0$classdecl$var1.assert(success,"Should throw an error")};Input_0$classdecl$var1.equal=function(actual,expected){var error=new RangeError("Expected "+util.inspect(expected)+
" but got "+util.inspect(actual));if(expected){var matchedSpecialCase=true;switch(expected.constructor){case Object:{if(!(actual&&actual.constructor===Object))throw error;for(var key in expected)if({}.hasOwnProperty.call(expected,key))try{Input_0$classdecl$var1.equal(actual[key],expected[key])}catch(e){throw error;}break}case Array:{if(!(actual&&actual.constructor===Array))throw error;try{Input_0$classdecl$var1.equal(actual.length,expected.length)}catch(e$61){throw error;}for(var i=0;i<expected.length;i++)try{Input_0$classdecl$var1.equal(actual[i],
expected[i])}catch(e$62){throw error;}break}case Map:{if(!(actual&&actual.constructor===Map))throw error;try{Input_0$classdecl$var1.equal(actual.size,expected.size)}catch(e$63){throw error;}var expectedIterator=expected.entries();var actualIterator=actual.entries();var entry;while(!(entry=expectedIterator.next()).done)try{Input_0$classdecl$var1.equal(entry.value,actualIterator.next().value)}catch(e$64){throw error;}break}case Set:{if(!(actual&&actual.constructor===Set))throw error;try{Input_0$classdecl$var1.equal(actual.size,
expected.size)}catch(e$65){throw error;}var expectedIterator$66=expected.values();var actualIterator$67=actual.values();var entry$68;while(!(entry$68=expectedIterator$66.next()).done)try{Input_0$classdecl$var1.equal(entry$68.value,actualIterator$67.next().value)}catch(e$69){throw error;}break}case ArrayBuffer:{if(!(actual&&actual.constructor===ArrayBuffer))throw error;try{Input_0$classdecl$var1.equal(actual.byteLength,expected.byteLength)}catch(e$70){throw error;}actual=new Uint8Array(actual);expected=
new Uint8Array(expected);try{for(var i$71=0;i$71<expected.length;i$71++)Input_0$classdecl$var1.equal(actual[i$71],expected[i$71])}catch(e$72){throw error;}break}case Function:{if(!(actual&&actual.constructor===Function))throw error;try{Input_0$classdecl$var1.equal(actual.name,expected.name)}catch(e$73){throw error;}break}default:{matchedSpecialCase=false}}if(matchedSpecialCase)return}if(!(expected===undefined||expected===null)&&expected.equals instanceof Function){var equals;try{equals=expected.equals(actual)}catch(e$74){throw new Error("equals() is not implemented for "+
util.inspect(expected));}if(!equals)throw error;}else if(expected!==actual)throw error;};Input_0$classdecl$var1.message=function(err,message){Input_0$classdecl$var1.instanceOf(message,String);Input_0$classdecl$var1.assert(err&&err.message.startsWith(message),'Message "'+(err?err.message:"No error thrown")+'" does not start with "'+message+'"')};module.exports=Input_0$classdecl$var1},{"util":10}],3:[function(require,module,exports){exports.byteLength=byteLength;exports.toByteArray=toByteArray;exports.fromByteArray=
fromByteArray;var lookup=[];var revLookup=[];var Arr=typeof Uint8Array!=="undefined"?Uint8Array:Array;var code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code.length;i<len;++i){lookup[i]=code[i];revLookup[code.charCodeAt(i)]=i}revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function placeHoldersCount(b64){var len=b64.length;if(len%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return b64[len-2]==="\x3d"?2:b64[len-1]===
"\x3d"?1:0}function byteLength(b64){return b64.length*3/4-placeHoldersCount(b64)}function toByteArray(b64){var i,j,l,tmp,placeHolders,arr;var len=b64.length;placeHolders=placeHoldersCount(b64);arr=new Arr(len*3/4-placeHolders);l=placeHolders>0?len-4:len;var L=0;for(i=0,j=0;i<l;i+=4,j+=3){tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)];arr[L++]=tmp>>16&255;arr[L++]=tmp>>8&255;arr[L++]=tmp&255}if(placeHolders===
2){tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4;arr[L++]=tmp&255}else if(placeHolders===1){tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2;arr[L++]=tmp>>8&255;arr[L++]=tmp&255}return arr}function tripletToBase64(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[num&63]}function encodeChunk(uint8,start,end){var tmp;var output=[];for(var i=start;i<end;i+=3){tmp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+
2];output.push(tripletToBase64(tmp))}return output.join("")}function fromByteArray(uint8){var tmp;var len=uint8.length;var extraBytes=len%3;var output="";var parts=[];var maxChunkLength=16383;for(var i=0,len2=len-extraBytes;i<len2;i+=maxChunkLength)parts.push(encodeChunk(uint8,i,i+maxChunkLength>len2?len2:i+maxChunkLength));if(extraBytes===1){tmp=uint8[len-1];output+=lookup[tmp>>2];output+=lookup[tmp<<4&63];output+="\x3d\x3d"}else if(extraBytes===2){tmp=(uint8[len-2]<<8)+uint8[len-1];output+=lookup[tmp>>
10];output+=lookup[tmp>>4&63];output+=lookup[tmp<<2&63];output+="\x3d"}parts.push(output);return parts.join("")}},{}],4:[function(require,module,exports){JSCOMPILER_PRESERVE(!function(globals){var convertHex={bytesToHex:function(bytes){return arrBytesToHex(bytes)},hexToBytes:function(hex){if(hex.length%2===1)throw new Error("hexToBytes can't have a string with an odd number of characters.");if(hex.indexOf("0x")===0)hex=hex.slice(2);return hex.match(/../g).map(function(x){return parseInt(x,16)})}};
function arrBytesToHex(bytes){return bytes.map(function(x){return padLeft(x.toString(16),2)}).join("")}function padLeft(orig,len){if(orig.length>len)return orig;return Array(len-orig.length+1).join("0")+orig}if(typeof module!=="undefined"&&module.exports)module.exports=convertHex;else globals.convertHex=convertHex}(this))},{}],5:[function(require,module,exports){JSCOMPILER_PRESERVE(!function(globals){var convertString={bytesToString:function(bytes){return bytes.map(function(x){return String.fromCharCode(x)}).join("")},
stringToBytes:function(str){return str.split("").map(function(x){return x.charCodeAt(0)})}};convertString.UTF8={bytesToString:function(bytes){return decodeURIComponent(escape(convertString.bytesToString(bytes)))},stringToBytes:function(str){return convertString.stringToBytes(unescape(encodeURIComponent(str)))}};if(typeof module!=="undefined"&&module.exports)module.exports=convertString;else globals.convertString=convertString}(this))},{}],6:[function(require,module,exports){if(typeof Object.create===
"function")module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}})};else module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor;ctor.prototype.constructor=ctor}},{}],7:[function(require,module,exports){var process=module.exports={};var cachedSetTimeout;
var cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined");}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined");}(function(){try{if(typeof setTimeout==="function")cachedSetTimeout=setTimeout;else cachedSetTimeout=defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{if(typeof clearTimeout==="function")cachedClearTimeout=clearTimeout;else cachedClearTimeout=defaultClearTimeout}catch(e$75){cachedClearTimeout=defaultClearTimeout}})();
function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout){cachedSetTimeout=setTimeout;return setTimeout(fun,0)}try{return cachedSetTimeout(fun,0)}catch(e$76){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&
clearTimeout){cachedClearTimeout=clearTimeout;return clearTimeout(marker)}try{return cachedClearTimeout(marker)}catch(e$77){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue)return;draining=false;if(currentQueue.length)queue=currentQueue.concat(queue);else queueIndex=-1;if(queue.length)drainQueue()}function drainQueue(){if(draining)return;
var timeout=runTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len)if(currentQueue)currentQueue[queueIndex].run();queueIndex=-1;len=queue.length}currentQueue=null;draining=false;runClearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args));if(queue.length===1&&!draining)runTimeout(drainQueue)};
function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.binding=function(name){throw new Error("process.binding is not supported");};process.cwd=
function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported");};process.umask=function(){return 0}},{}],8:[function(require,module,exports){JSCOMPILER_PRESERVE(!function(globals){var _imports={};if(typeof module!=="undefined"&&module.exports){_imports.bytesToHex=require("convert-hex").bytesToHex;_imports.convertString=require("convert-string");module.exports=sha256}else{_imports.bytesToHex=globals.convertHex.bytesToHex;_imports.convertString=globals.convertString;
globals.sha256=sha256}var K=[];JSCOMPILER_PRESERVE(!function(){function isPrime(n){var sqrtN=Math.sqrt(n);for(var factor=2;factor<=sqrtN;factor++)if(!(n%factor))return false;return true}function getFractionalBits(n){return(n-(n|0))*4294967296|0}var n=2;var nPrime=0;while(nPrime<64){if(isPrime(n)){K[nPrime]=getFractionalBits(Math.pow(n,1/3));nPrime++}n++}}());var bytesToWords=function(bytes){var words=[];for(var i=0,b=0;i<bytes.length;i++,b+=8)words[b>>>5]|=bytes[i]<<24-b%32;return words};var wordsToBytes=
function(words){var bytes=[];for(var b=0;b<words.length*32;b+=8)bytes.push(words[b>>>5]>>>24-b%32&255);return bytes};var W=[];var processBlock=function(H,M,offset){var a=H[0],b=H[1],c=H[2],d=H[3];var e=H[4],f=H[5],g=H[6],h=H[7];for(var i=0;i<64;i++){if(i<16)W[i]=M[offset+i]|0;else{var gamma0x=W[i-15];var gamma0=(gamma0x<<25|gamma0x>>>7)^(gamma0x<<14|gamma0x>>>18)^gamma0x>>>3;var gamma1x=W[i-2];var gamma1=(gamma1x<<15|gamma1x>>>17)^(gamma1x<<13|gamma1x>>>19)^gamma1x>>>10;W[i]=gamma0+W[i-7]+gamma1+
W[i-16]}var ch=e&f^~e&g;var maj=a&b^a&c^b&c;var sigma0=(a<<30|a>>>2)^(a<<19|a>>>13)^(a<<10|a>>>22);var sigma1=(e<<26|e>>>6)^(e<<21|e>>>11)^(e<<7|e>>>25);var t1=h+sigma1+ch+K[i]+W[i];var t2=sigma0+maj;h=g;g=f;f=e;e=d+t1|0;d=c;c=b;b=a;a=t1+t2|0}H[0]=H[0]+a|0;H[1]=H[1]+b|0;H[2]=H[2]+c|0;H[3]=H[3]+d|0;H[4]=H[4]+e|0;H[5]=H[5]+f|0;H[6]=H[6]+g|0;H[7]=H[7]+h|0};function sha256(message,options){if(message.constructor===String)message=_imports.convertString.UTF8.stringToBytes(message);var H=[1779033703,3144134277,
1013904242,2773480762,1359893119,2600822924,528734635,1541459225];var m=bytesToWords(message);var l=message.length*8;m[l>>5]|=128<<24-l%32;m[(l+64>>9<<4)+15]=l;for(var i=0;i<m.length;i+=16)processBlock(H,m,i);var digestbytes=wordsToBytes(H);return options&&options.asBytes?digestbytes:options&&options.asString?_imports.convertString.bytesToString(digestbytes):_imports.bytesToHex(digestbytes)}sha256.x2=function(message,options){return sha256(sha256(message,{asBytes:true}),options)}}(this))},{"convert-hex":4,
"convert-string":5}],9:[function(require,module,exports){module.exports=function isBuffer(arg){return arg&&typeof arg==="object"&&typeof arg.copy==="function"&&typeof arg.fill==="function"&&typeof arg.readUInt8==="function"}},{}],10:[function(require,module,exports){(function(process,global){var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){var objects=[];for(var i=0;i<arguments.length;i++)objects.push(inspect(arguments[i]));return objects.join(" ")}var i=1;var args=arguments;
var len=args.length;var str=String(f).replace(formatRegExp,function(x){if(x==="%%")return"%";if(i>=len)return x;switch(x){case "%s":return String(args[i++]);case "%d":return Number(args[i++]);case "%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}});for(var x=args[i];i<len;x=args[++i])if(isNull(x)||!isObject(x))str+=" "+x;else str+=" "+inspect(x);return str};exports.deprecate=function(fn,msg){if(isUndefined(global.process))return function(){return exports.deprecate(fn,
msg).apply(this,arguments)};if(process.noDeprecation===true)return fn;var warned=false;function deprecated(){if(!warned){if(process.throwDeprecation)throw new Error(msg);else if(process.traceDeprecation)console.trace(msg);else console.error(msg);warned=true}return fn.apply(this,arguments)}return deprecated};var debugs={};var debugEnviron;exports.debuglog=function(set){if(isUndefined(debugEnviron))debugEnviron=process.env.NODE_DEBUG||"";set=set.toUpperCase();if(!debugs[set])if((new RegExp("\\b"+set+
"\\b","i")).test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else debugs[set]=function(){};return debugs[set]};function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};if(arguments.length>=3)ctx.depth=arguments[2];if(arguments.length>=4)ctx.colors=arguments[3];if(isBoolean(opts))ctx.showHidden=opts;else if(opts)exports._extend(ctx,opts);if(isUndefined(ctx.showHidden))ctx.showHidden=false;
if(isUndefined(ctx.depth))ctx.depth=2;if(isUndefined(ctx.colors))ctx.colors=false;if(isUndefined(ctx.customInspect))ctx.customInspect=true;if(ctx.colors)ctx.stylize=stylizeWithColor;return formatValue(ctx,obj,ctx.depth)}exports.inspect=inspect;inspect.colors={"bold":[1,22],"italic":[3,23],"underline":[4,24],"inverse":[7,27],"white":[37,39],"grey":[90,39],"black":[30,39],"blue":[34,39],"cyan":[36,39],"green":[32,39],"magenta":[35,39],"red":[31,39],"yellow":[33,39]};inspect.styles={"special":"cyan",
"number":"yellow","boolean":"yellow","undefined":"grey","null":"bold","string":"green","date":"magenta","regexp":"red"};function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];if(style)return"\u001b["+inspect.colors[style][0]+"m"+str+"\u001b["+inspect.colors[style][1]+"m";else return str}function stylizeNoColor(str,styleType){return str}function arrayToHash(array){var hash={};array.forEach(function(val,idx){hash[val]=true});return hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&
value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&!(value.constructor&&value.constructor.prototype===value)){var ret=value.inspect(recurseTimes,ctx);if(!isString(ret))ret=formatValue(ctx,ret,recurseTimes);return ret}var primitive=formatPrimitive(ctx,value);if(primitive)return primitive;var keys=Object.keys(value);var visibleKeys=arrayToHash(keys);if(ctx.showHidden)keys=Object.getOwnPropertyNames(value);if(isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0))return formatError(value);
if(keys.length===0){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value))return ctx.stylize(RegExp.prototype.toString.call(value),"regexp");if(isDate(value))return ctx.stylize(Date.prototype.toString.call(value),"date");if(isError(value))return formatError(value)}var base="",array=false,braces=["{","}"];if(isArray(value)){array=true;braces=["[","]"]}if(isFunction(value)){var n=value.name?": "+value.name:"";base=" [Function"+
n+"]"}if(isRegExp(value))base=" "+RegExp.prototype.toString.call(value);if(isDate(value))base=" "+Date.prototype.toUTCString.call(value);if(isError(value))base=" "+formatError(value);if(keys.length===0&&(!array||value.length==0))return braces[0]+base+braces[1];if(recurseTimes<0)if(isRegExp(value))return ctx.stylize(RegExp.prototype.toString.call(value),"regexp");else return ctx.stylize("[Object]","special");ctx.seen.push(value);var output;if(array)output=formatArray(ctx,value,recurseTimes,visibleKeys,
keys);else output=keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)});ctx.seen.pop();return reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}if(isNumber(value))return ctx.stylize(""+value,"number");if(isBoolean(value))return ctx.stylize(""+
value,"boolean");if(isNull(value))return ctx.stylize("null","null")}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){var output=[];for(var i=0,l=value.length;i<l;++i)if(hasOwnProperty(value,String(i)))output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),true));else output.push("");keys.forEach(function(key){if(!key.match(/^\d+$/))output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,
key,true))});return output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]};if(desc.get)if(desc.set)str=ctx.stylize("[Getter/Setter]","special");else str=ctx.stylize("[Getter]","special");else if(desc.set)str=ctx.stylize("[Setter]","special");if(!hasOwnProperty(visibleKeys,key))name="["+key+"]";if(!str)if(ctx.seen.indexOf(desc.value)<0){if(isNull(recurseTimes))str=formatValue(ctx,desc.value,
null);else str=formatValue(ctx,desc.value,recurseTimes-1);if(str.indexOf("\n")>-1)if(array)str=str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2);else str="\n"+str.split("\n").map(function(line){return"   "+line}).join("\n")}else str=ctx.stylize("[Circular]","special");if(isUndefined(name)){if(array&&key.match(/^\d+$/))return str;name=JSON.stringify(""+key);if(name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){name=name.substr(1,name.length-2);name=ctx.stylize(name,"name")}else{name=
name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");name=ctx.stylize(name,"string")}}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0;var length=output.reduce(function(prev,cur){numLinesEst++;if(cur.indexOf("\n")>=0)numLinesEst++;return prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(length>60)return braces[0]+(base===""?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1];return braces[0]+base+" "+output.join(", ")+" "+braces[1]}function isArray(ar){return Array.isArray(ar)}
exports.isArray=isArray;function isBoolean(arg){return typeof arg==="boolean"}exports.isBoolean=isBoolean;function isNull(arg){return arg===null}exports.isNull=isNull;function isNullOrUndefined(arg){return arg==null}exports.isNullOrUndefined=isNullOrUndefined;function isNumber(arg){return typeof arg==="number"}exports.isNumber=isNumber;function isString(arg){return typeof arg==="string"}exports.isString=isString;function isSymbol(arg){return typeof arg==="symbol"}exports.isSymbol=isSymbol;function isUndefined(arg){return arg===
void 0}exports.isUndefined=isUndefined;function isRegExp(re){return isObject(re)&&objectToString(re)==="[object RegExp]"}exports.isRegExp=isRegExp;function isObject(arg){return typeof arg==="object"&&arg!==null}exports.isObject=isObject;function isDate(d){return isObject(d)&&objectToString(d)==="[object Date]"}exports.isDate=isDate;function isError(e){return isObject(e)&&(objectToString(e)==="[object Error]"||e instanceof Error)}exports.isError=isError;function isFunction(arg){return typeof arg===
"function"}exports.isFunction=isFunction;function isPrimitive(arg){return arg===null||typeof arg==="boolean"||typeof arg==="number"||typeof arg==="string"||typeof arg==="symbol"||typeof arg==="undefined"}exports.isPrimitive=isPrimitive;exports.isBuffer=require("./support/isBuffer");function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp(){var d=
new Date;var time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))};exports.inherits=require("inherits");exports._extend=function(origin,add){if(!add||!isObject(add))return origin;var keys=Object.keys(add);var i=keys.length;while(i--)origin[keys[i]]=add[keys[i]];return origin};function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,
prop)}}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./support/isBuffer":9,"_process":7,"inherits":6}],11:[function(require,module,exports){var assert=require("./lib/assert");var base64=require("base64-js");var bufferString=require("./lib/buffer-string");var config=require("./config");var flexInt=require("./lib/flex-int");var sha256=require("sha256");var GrowableBuffer=require("./lib/growable-buffer");var recursiveRegistry;
function loadRecursiveRegistry(){if(!recursiveRegistry)recursiveRegistry=require("./recursive-registry")}var strint=require("./lib/strint");var util=require("util");var $jscomp$destructuring$var24=require("./lib/bit-math");var dividedByEight=$jscomp$destructuring$var24.dividedByEight;var modEight=$jscomp$destructuring$var24.modEight;var recursiveIDs=new WeakMap;var recursiveNesting=new WeakMap;var recursiveLocations=new WeakMap;var pointers=new WeakMap;function setPointers(buffer,root){if(root){var bufferPointers=
pointers.get(buffer);if(bufferPointers)for(var $jscomp$iter$21=$jscomp.makeIterator(bufferPointers),$jscomp$key$$jscomp$destructuring$var25=$jscomp$iter$21.next();!$jscomp$key$$jscomp$destructuring$var25.done;$jscomp$key$$jscomp$destructuring$var25=$jscomp$iter$21.next()){var $jscomp$destructuring$var25=$jscomp$key$$jscomp$destructuring$var25.value;{var $jscomp$destructuring$var26=$jscomp.makeIterator($jscomp$destructuring$var25);var binaryString=$jscomp$destructuring$var26.next().value;var insertionIndices=
$jscomp$destructuring$var26.next().value;var index=buffer.length;buffer.addAll(bufferString.fromBinaryString(binaryString));var indexBuffer=new ArrayBuffer(4);(new DataView(indexBuffer)).setUint32(0,index);for(var $jscomp$iter$20=$jscomp.makeIterator(insertionIndices),$jscomp$key$insertionIndex=$jscomp$iter$20.next();!$jscomp$key$insertionIndex.done;$jscomp$key$insertionIndex=$jscomp$iter$20.next()){var insertionIndex=$jscomp$key$insertionIndex.value;{buffer.setAll(insertionIndex,indexBuffer)}}}}}}
var REPEATED_TYPE=255;var CACHED="cached";var Type=function(){};Type._value;Type.prototype.addToBuffer=function(buffer){assert.instanceOf(buffer,GrowableBuffer);if(this.cachedTypeLocations){if(!recursiveNesting.get(buffer)){var location$78=this.cachedTypeLocations.get(buffer);if(location$78!==undefined){buffer.add(REPEATED_TYPE);buffer.addAll(flexInt.makeValueBuffer(buffer.length-location$78));return false}}}else this.cachedTypeLocations=new Map;this.cachedTypeLocations.set(buffer,buffer.length);
buffer.add(this.constructor._value);return true};Type.prototype.toBuffer=function(){if(!this.cachedBuffer)this.cachedBuffer=this._toBuffer();return this.cachedBuffer};Type.prototype._toBuffer=function(){var buffer=new GrowableBuffer;this.addToBuffer(buffer);return buffer.toBuffer()};Type.prototype.getHash=function(){if(!this.cachedHash)this.cachedHash=this._getHash();return this.cachedHash};Type.prototype._getHash=function(){return base64.fromByteArray(sha256(this.toBuffer(),{asBytes:true}))};Type.prototype.getSignature=
function(){if(!this.cachedSignature)this.cachedSignature=this._getSignature();return this.cachedSignature};Type.prototype._getSignature=function(){return config.VERSION_STRING+this.getHash()};Type.prototype.writeValue=function(buffer,value){assert.fail("Generic Type has no value representation")};Type.prototype.valueBuffer=function(value){var buffer=new GrowableBuffer;this.writeValue(buffer,value);return buffer.toBuffer()};Type.prototype.equals=function(otherType){try{assert.instanceOf(otherType,
this.constructor)}catch(e){return false}try{assert.equal(otherType.constructor,this.constructor)}catch(e$79){return false}for(var param in this)if({}.hasOwnProperty.call(this,param)&&!param.startsWith(CACHED))try{assert.equal(otherType[param],this[param])}catch(e$80){return false}return true};$jscomp.global.Object.defineProperties(Type,{_value:{configurable:true,enumerable:true,get:function(){assert.fail("Generic Type has no value byte")}}});var AbsoluteType=function(var_args){super.apply(this,arguments)};
$jscomp.inherits(AbsoluteType,Type);function strToNum(str){if(str)if(str.constructor===String){var converted=Number(str);if(!isNaN(converted))return converted}return}var IntegerType=function(var_args){super.apply(this,arguments)};$jscomp.inherits(IntegerType,AbsoluteType);var ByteType=function(var_args){super.apply(this,arguments)};ByteType._value;$jscomp.inherits(ByteType,IntegerType);ByteType.prototype.writeValue=function(buffer,value){assert.instanceOf(buffer,GrowableBuffer);var convertedValue=
strToNum(value);if(convertedValue!==undefined)value=convertedValue;assert.integer(value);assert.between(-128,value,128,"Value out of range");var byteBuffer=new ArrayBuffer(1);(new DataView(byteBuffer)).setInt8(0,value);buffer.addAll(byteBuffer)};$jscomp.global.Object.defineProperties(ByteType,{_value:{configurable:true,enumerable:true,get:function(){return 1}}});var ShortType=function(var_args){super.apply(this,arguments)};ShortType._value;$jscomp.inherits(ShortType,IntegerType);ShortType.prototype.writeValue=
function(buffer,value){assert.instanceOf(buffer,GrowableBuffer);var convertedValue=strToNum(value);if(convertedValue!==undefined)value=convertedValue;assert.integer(value);assert.between(-32768,value,32768,"Value out of range");var byteBuffer=new ArrayBuffer(2);(new DataView(byteBuffer)).setInt16(0,value);buffer.addAll(byteBuffer)};$jscomp.global.Object.defineProperties(ShortType,{_value:{configurable:true,enumerable:true,get:function(){return 2}}});var IntType=function(var_args){super.apply(this,
arguments)};IntType._value;$jscomp.inherits(IntType,IntegerType);IntType.prototype.writeValue=function(buffer,value){assert.instanceOf(buffer,GrowableBuffer);var convertedValue=strToNum(value);if(convertedValue!==undefined)value=convertedValue;assert.integer(value);assert.between(-2147483648,value,2147483648,"Value out of range");var byteBuffer=new ArrayBuffer(4);(new DataView(byteBuffer)).setInt32(0,value);buffer.addAll(byteBuffer)};$jscomp.global.Object.defineProperties(IntType,{_value:{configurable:true,
enumerable:true,get:function(){return 3}}});var LONG_MAX="9223372036854775807";var LONG_MIN="-9223372036854775808";function writeLong(buffer,value){assert.instanceOf(buffer,GrowableBuffer);assert.instanceOf(value,String);assert.assert(!(strint.gt(value,LONG_MAX)||strint.lt(value,LONG_MIN)),"Value out of range");var upper=strint.div(value,strint.LONG_UPPER_SHIFT,true);var lower=strint.sub(value,strint.mul(upper,strint.LONG_UPPER_SHIFT));var byteBuffer=new ArrayBuffer(8);var dataView=new DataView(byteBuffer);
dataView.setInt32(0,Number(upper));dataView.setUint32(4,Number(lower));buffer.addAll(byteBuffer)}var LongType=function(var_args){super.apply(this,arguments)};LongType._value;$jscomp.inherits(LongType,IntegerType);LongType.prototype.writeValue=function(buffer,value){writeLong(buffer,value)};$jscomp.global.Object.defineProperties(LongType,{_value:{configurable:true,enumerable:true,get:function(){return 4}}});var BigIntType=function(var_args){super.apply(this,arguments)};BigIntType._value;$jscomp.inherits(BigIntType,
IntegerType);BigIntType.prototype.writeValue=function(buffer,value){assert.instanceOf(buffer,GrowableBuffer);assert.instanceOf(value,String);value=strint.normalize(value);var bytes=[];if(!strint.eq(value,"0")){while(strint.gt(value,"127")||strint.lt(value,"-128")){var quotient=strint.div(value,strint.BYTE_SHIFT,true);var remainder=strint.sub(value,strint.mul(quotient,strint.BYTE_SHIFT));bytes.push(Number(remainder));value=quotient}bytes.push(Number(value))}buffer.addAll(flexInt.makeValueBuffer(bytes.length));
var byteBuffer=new ArrayBuffer(bytes.length);var dataView=new DataView(byteBuffer);var offset=1;for(var i=bytes.length-2;i>=0;i--,offset++)dataView.setUint8(offset,bytes[i]);if(bytes.length)dataView.setInt8(0,bytes[bytes.length-1]);buffer.addAll(byteBuffer)};$jscomp.global.Object.defineProperties(BigIntType,{_value:{configurable:true,enumerable:true,get:function(){return 5}}});var UnsignedType=function(var_args){super.apply(this,arguments)};$jscomp.inherits(UnsignedType,AbsoluteType);var UnsignedByteType=
function(var_args){super.apply(this,arguments)};UnsignedByteType._value;$jscomp.inherits(UnsignedByteType,UnsignedType);UnsignedByteType.prototype.writeValue=function(buffer,value){assert.instanceOf(buffer,GrowableBuffer);var convertedValue=strToNum(value);if(convertedValue!==undefined)value=convertedValue;assert.integer(value);assert.between(0,value,256,"Value out of range");var byteBuffer=new ArrayBuffer(1);(new Uint8Array(byteBuffer))[0]=value;buffer.addAll(byteBuffer)};$jscomp.global.Object.defineProperties(UnsignedByteType,
{_value:{configurable:true,enumerable:true,get:function(){return 17}}});var UnsignedShortType=function(var_args){super.apply(this,arguments)};UnsignedShortType._value;$jscomp.inherits(UnsignedShortType,UnsignedType);UnsignedShortType.prototype.writeValue=function(buffer,value){assert.instanceOf(buffer,GrowableBuffer);var convertedValue=strToNum(value);if(convertedValue!==undefined)value=convertedValue;assert.integer(value);assert.between(0,value,65536,"Value out of range");var byteBuffer=new ArrayBuffer(2);
(new DataView(byteBuffer)).setUint16(0,value);buffer.addAll(byteBuffer)};$jscomp.global.Object.defineProperties(UnsignedShortType,{_value:{configurable:true,enumerable:true,get:function(){return 18}}});var UnsignedIntType=function(var_args){super.apply(this,arguments)};UnsignedIntType._value;$jscomp.inherits(UnsignedIntType,UnsignedType);UnsignedIntType.prototype.writeValue=function(buffer,value){assert.instanceOf(buffer,GrowableBuffer);var convertedValue=strToNum(value);if(convertedValue!==undefined)value=
convertedValue;assert.integer(value);assert.between(0,value,4294967296,"Value out of range");var byteBuffer=new ArrayBuffer(4);(new DataView(byteBuffer)).setUint32(0,value);buffer.addAll(byteBuffer)};$jscomp.global.Object.defineProperties(UnsignedIntType,{_value:{configurable:true,enumerable:true,get:function(){return 19}}});var UNSIGNED_LONG_MAX="18446744073709551615";var UnsignedLongType=function(var_args){super.apply(this,arguments)};UnsignedLongType._value;$jscomp.inherits(UnsignedLongType,UnsignedType);
UnsignedLongType.prototype.writeValue=function(buffer,value){assert.instanceOf(buffer,GrowableBuffer);assert.instanceOf(value,String);assert.assert(!(strint.gt(value,UNSIGNED_LONG_MAX)||strint.lt(value,"0")),"Value out of range");var upper=strint.div(value,strint.LONG_UPPER_SHIFT);var lower=strint.sub(value,strint.mul(upper,strint.LONG_UPPER_SHIFT));var byteBuffer=new ArrayBuffer(8);var dataView=new DataView(byteBuffer);dataView.setUint32(0,Number(upper));dataView.setUint32(4,Number(lower));buffer.addAll(byteBuffer)};
$jscomp.global.Object.defineProperties(UnsignedLongType,{_value:{configurable:true,enumerable:true,get:function(){return 20}}});var BigUnsignedIntType=function(var_args){super.apply(this,arguments)};BigUnsignedIntType._value;$jscomp.inherits(BigUnsignedIntType,UnsignedType);BigUnsignedIntType.prototype.writeValue=function(buffer,value){assert.instanceOf(buffer,GrowableBuffer);assert.instanceOf(value,String);assert.assert(!strint.isNegative(value),"Value out of range");var bytes=[];if(!strint.eq(value,
"0")){while(strint.ge(value,strint.BYTE_SHIFT)){var $jscomp$destructuring$var27=$jscomp.makeIterator(strint.quotientRemainderPositive(value,strint.BYTE_SHIFT));var quotient=$jscomp$destructuring$var27.next().value;var remainder=$jscomp$destructuring$var27.next().value;bytes.push(Number(remainder));value=quotient}bytes.push(Number(value))}buffer.addAll(flexInt.makeValueBuffer(bytes.length));var byteBuffer=new ArrayBuffer(bytes.length);var dataView=new DataView(byteBuffer);var offset=0;for(var i=bytes.length-
1;i>=0;i--,offset++)dataView.setUint8(offset,bytes[i]);buffer.addAll(byteBuffer)};$jscomp.global.Object.defineProperties(BigUnsignedIntType,{_value:{configurable:true,enumerable:true,get:function(){return 21}}});var FlexUnsignedIntType=function(var_args){super.apply(this,arguments)};FlexUnsignedIntType._value;$jscomp.inherits(FlexUnsignedIntType,UnsignedType);FlexUnsignedIntType.prototype.writeValue=function(buffer,value){assert.instanceOf(buffer,GrowableBuffer);var convertedValue=strToNum(value);
if(convertedValue!==undefined)value=convertedValue;assert.integer(value);buffer.addAll(flexInt.makeValueBuffer(value))};$jscomp.global.Object.defineProperties(FlexUnsignedIntType,{_value:{configurable:true,enumerable:true,get:function(){return 23}}});var ChronoType=function(var_args){super.apply(this,arguments)};$jscomp.inherits(ChronoType,AbsoluteType);var DateType=function(var_args){super.apply(this,arguments)};DateType._value;$jscomp.inherits(DateType,ChronoType);DateType.prototype.writeValue=
function(buffer,value){assert.instanceOf(value,Date);writeLong(buffer,String(value.getTime()))};$jscomp.global.Object.defineProperties(DateType,{_value:{configurable:true,enumerable:true,get:function(){return 26}}});var MILLIS_PER_DAY=864E5;var MILLIS_PER_MINUTE=6E4;var DayType=function(var_args){super.apply(this,arguments)};DayType._value;$jscomp.inherits(DayType,ChronoType);DayType.prototype.writeValue=function(buffer,value){assert.instanceOf(value,Date);var flooredDate=new Date(value.getFullYear(),
value.getMonth(),value.getDate());var day=(flooredDate.getTime()-flooredDate.getTimezoneOffset()*MILLIS_PER_MINUTE)/MILLIS_PER_DAY;var byteBuffer=new ArrayBuffer(3);var dataView=new DataView(byteBuffer);dataView.setInt16(0,day>>8);dataView.setUint8(2,day&255);buffer.addAll(byteBuffer)};$jscomp.global.Object.defineProperties(DayType,{_value:{configurable:true,enumerable:true,get:function(){return 27}}});var TimeType=function(var_args){super.apply(this,arguments)};TimeType._value;$jscomp.inherits(TimeType,
ChronoType);TimeType.prototype.writeValue=function(buffer,value){assert.instanceOf(value,Date);var byteBuffer=new ArrayBuffer(4);(new DataView(byteBuffer)).setUint32(0,value.getTime()%MILLIS_PER_DAY);buffer.addAll(byteBuffer)};$jscomp.global.Object.defineProperties(TimeType,{_value:{configurable:true,enumerable:true,get:function(){return 28}}});var FloatingPointType=function(var_args){super.apply(this,arguments)};$jscomp.inherits(FloatingPointType,AbsoluteType);var FloatType=function(var_args){super.apply(this,
arguments)};FloatType._value;$jscomp.inherits(FloatType,FloatingPointType);FloatType.prototype.writeValue=function(buffer,value){assert.instanceOf(buffer,GrowableBuffer);var convertedValue=strToNum(value);if(convertedValue!==undefined)value=convertedValue;assert.instanceOf(value,Number);var byteBuffer=new ArrayBuffer(4);(new DataView(byteBuffer)).setFloat32(0,value);buffer.addAll(byteBuffer)};$jscomp.global.Object.defineProperties(FloatType,{_value:{configurable:true,enumerable:true,get:function(){return 32}}});
var DoubleType=function(var_args){super.apply(this,arguments)};DoubleType._value;$jscomp.inherits(DoubleType,FloatingPointType);DoubleType.prototype.writeValue=function(buffer,value){assert.instanceOf(buffer,GrowableBuffer);var convertedValue=strToNum(value);if(convertedValue!==undefined)value=convertedValue;assert.instanceOf(value,Number);var byteBuffer=new ArrayBuffer(8);(new DataView(byteBuffer)).setFloat64(0,value);buffer.addAll(byteBuffer)};$jscomp.global.Object.defineProperties(DoubleType,{_value:{configurable:true,
enumerable:true,get:function(){return 33}}});var BooleanType=function(var_args){super.apply(this,arguments)};BooleanType._value;$jscomp.inherits(BooleanType,AbsoluteType);BooleanType.prototype.writeValue=function(buffer,value){assert.instanceOf(buffer,GrowableBuffer);assert.instanceOf(value,Boolean);if(value)buffer.add(255);else buffer.add(0)};$jscomp.global.Object.defineProperties(BooleanType,{_value:{configurable:true,enumerable:true,get:function(){return 48}}});function writeBooleans(buffer,booleans){assert.instanceOf(booleans,
Array);var incompleteBytes=modEight(booleans.length);var bytes=dividedByEight(booleans.length);var length;if(incompleteBytes)length=bytes+1;else length=bytes;var byteBuffer=new ArrayBuffer(length);var castBuffer=new Uint8Array(byteBuffer);for(var i=0;i<booleans.length;i++){var boolean=booleans[i];assert.instanceOf(boolean,Boolean);var bit=modEight(~modEight(i));if(boolean)castBuffer[dividedByEight(i)]|=1<<bit;else castBuffer[dividedByEight(i)]&=~(1<<bit)}buffer.addAll(byteBuffer)}var BooleanTupleType=
function(length){super();assert.byteUnsignedInteger(length);this.length=length};BooleanTupleType._value;$jscomp.inherits(BooleanTupleType,AbsoluteType);BooleanTupleType.prototype.addToBuffer=function(buffer){if(AbsoluteType.prototype.addToBuffer.call(this,buffer))buffer.add(this.length)};BooleanTupleType.prototype.writeValue=function(buffer,value){assert.instanceOf(buffer,GrowableBuffer);assert.instanceOf(value,Array);assert.assert(value.length===this.length,"Length does not match: expected "+String(this.length)+
" but got "+value.length);writeBooleans(buffer,value)};$jscomp.global.Object.defineProperties(BooleanTupleType,{_value:{configurable:true,enumerable:true,get:function(){return 49}}});var BooleanArrayType=function(var_args){super.apply(this,arguments)};BooleanArrayType._value;$jscomp.inherits(BooleanArrayType,AbsoluteType);BooleanArrayType.prototype.writeValue=function(buffer,value){assert.instanceOf(value,Array);buffer.addAll(flexInt.makeValueBuffer(value.length));writeBooleans(buffer,value)};$jscomp.global.Object.defineProperties(BooleanArrayType,
{_value:{configurable:true,enumerable:true,get:function(){return 50}}});var CharType=function(var_args){super.apply(this,arguments)};CharType._value;$jscomp.inherits(CharType,AbsoluteType);CharType.prototype.writeValue=function(buffer,value){assert.instanceOf(buffer,GrowableBuffer);assert.instanceOf(value,String);assert.assert(value.length===1,"String must contain only 1 character");buffer.addAll(bufferString.fromString(value))};$jscomp.global.Object.defineProperties(CharType,{_value:{configurable:true,
enumerable:true,get:function(){return 64}}});var StringType=function(var_args){super.apply(this,arguments)};StringType._value;$jscomp.inherits(StringType,AbsoluteType);StringType.prototype.writeValue=function(buffer,value){assert.instanceOf(buffer,GrowableBuffer);assert.instanceOf(value,String);var valueBuffer=bufferString.fromString(value);buffer.addAll(valueBuffer);buffer.add(0)};$jscomp.global.Object.defineProperties(StringType,{_value:{configurable:true,enumerable:true,get:function(){return 65}}});
var OctetsType=function(var_args){super.apply(this,arguments)};OctetsType._value;$jscomp.inherits(OctetsType,AbsoluteType);OctetsType.prototype.writeValue=function(buffer,value){assert.instanceOf(buffer,GrowableBuffer);assert.instanceOf(value,ArrayBuffer);buffer.addAll(flexInt.makeValueBuffer(value.byteLength));buffer.addAll(value)};$jscomp.global.Object.defineProperties(OctetsType,{_value:{configurable:true,enumerable:true,get:function(){return 66}}});var TupleType=function(params){var $jscomp$destructuring$var28=
params;var type=$jscomp$destructuring$var28.type;var length=$jscomp$destructuring$var28.length;super();assert.instanceOf(type,Type);assert.byteUnsignedInteger(length);this.type=type;this.length=length};TupleType._value;$jscomp.inherits(TupleType,AbsoluteType);TupleType.prototype.addToBuffer=function(buffer){if(AbsoluteType.prototype.addToBuffer.call(this,buffer)){this.type.addToBuffer(buffer);buffer.add(this.length)}};TupleType.prototype.writeValue=function(buffer,value,root){root=root===undefined?
true:root;assert.instanceOf(buffer,GrowableBuffer);assert.instanceOf(value,Array);assert.assert(value.length===this.length,"Length does not match: expected "+String(this.length)+" but got "+value.length);for(var $jscomp$iter$22=$jscomp.makeIterator(value),$jscomp$key$instance=$jscomp$iter$22.next();!$jscomp$key$instance.done;$jscomp$key$instance=$jscomp$iter$22.next()){var instance=$jscomp$key$instance.value;{this.type.writeValue(buffer,instance,false)}}setPointers(buffer,root)};$jscomp.global.Object.defineProperties(TupleType,
{_value:{configurable:true,enumerable:true,get:function(){return 80}}});var NAME="name";var TYPE="type";var NAME_BUFFER="buffer";var StructType=function(fields){super();assert.instanceOf(fields,Object);var fieldCount=0;for(var fieldName in fields)if({}.hasOwnProperty.call(fields,fieldName))fieldCount++;try{assert.byteUnsignedInteger(fieldCount)}catch(e){assert.fail(String(fieldCount)+" fields is too many")}this.fields=new Array(fieldCount);var fieldIndex=0;for(var fieldName$81 in fields){if(!{}.hasOwnProperty.call(fields,
fieldName$81))continue;var fieldNameBuffer=bufferString.fromString(fieldName$81);try{assert.byteUnsignedInteger(fieldNameBuffer.byteLength)}catch(e$82){assert.fail("Field name "+fieldName$81+" is too long")}var fieldType=fields[fieldName$81];try{assert.instanceOf(fieldType,Type)}catch(e$83){assert.fail(String(fieldType)+" is not a valid field type")}var $jscomp$compprop23={};this.fields[fieldIndex]=($jscomp$compprop23[NAME]=fieldName$81,$jscomp$compprop23[TYPE]=fieldType,$jscomp$compprop23[NAME_BUFFER]=
fieldNameBuffer,$jscomp$compprop23);fieldIndex++}this.fields.sort(function(a,b){if(a[NAME]<b[NAME])return-1;else if(a[NAME]>b[NAME])return 1})};StructType._value;$jscomp.inherits(StructType,AbsoluteType);StructType.prototype.addToBuffer=function(buffer){if(AbsoluteType.prototype.addToBuffer.call(this,buffer)){buffer.add(this.fields.length);for(var $jscomp$iter$24=$jscomp.makeIterator(this.fields),$jscomp$key$field=$jscomp$iter$24.next();!$jscomp$key$field.done;$jscomp$key$field=$jscomp$iter$24.next()){var field=
$jscomp$key$field.value;{var nameBuffer=field[NAME_BUFFER];buffer.add(nameBuffer.byteLength);buffer.addAll(nameBuffer);field[TYPE].addToBuffer(buffer)}}}};StructType.prototype.writeValue=function(buffer,value,root){root=root===undefined?true:root;assert.instanceOf(buffer,GrowableBuffer);assert.instanceOf(value,Object);for(var $jscomp$iter$25=$jscomp.makeIterator(this.fields),$jscomp$key$field=$jscomp$iter$25.next();!$jscomp$key$field.done;$jscomp$key$field=$jscomp$iter$25.next()){var field=$jscomp$key$field.value;
{var fieldValue=value[field[NAME]];try{field[TYPE].writeValue(buffer,fieldValue,false)}catch(writeError){assert.assert(fieldValue!==undefined,'Value for field "'+field[NAME]+'" missing');throw writeError;}}}setPointers(buffer,root)};$jscomp.global.Object.defineProperties(StructType,{_value:{configurable:true,enumerable:true,get:function(){return 81}}});var ArrayType=function(type){super();assert.instanceOf(type,Type);this.type=type};ArrayType._value;$jscomp.inherits(ArrayType,AbsoluteType);ArrayType.prototype.addToBuffer=
function(buffer){if(AbsoluteType.prototype.addToBuffer.call(this,buffer))this.type.addToBuffer(buffer)};ArrayType.prototype._writeValue=function(buffer){var $jscomp$destructuring$var29=buffer;var buffer=$jscomp$destructuring$var29.buffer;var value=$jscomp$destructuring$var29.value;var length=$jscomp$destructuring$var29.length;var root=$jscomp$destructuring$var29.root;assert.instanceOf(buffer,GrowableBuffer);buffer.addAll(flexInt.makeValueBuffer(length));for(var $jscomp$iter$26=$jscomp.makeIterator(value),
$jscomp$key$instance=$jscomp$iter$26.next();!$jscomp$key$instance.done;$jscomp$key$instance=$jscomp$iter$26.next()){var instance=$jscomp$key$instance.value;{this.type.writeValue(buffer,instance,false)}}setPointers(buffer,root)};ArrayType.prototype.writeValue=function(buffer,value,root){root=root===undefined?true:root;assert.instanceOf(value,Array);this._writeValue({buffer:buffer,value:value,length:value.length,root:root})};$jscomp.global.Object.defineProperties(ArrayType,{_value:{configurable:true,
enumerable:true,get:function(){return 82}}});var SetType=function(var_args){super.apply(this,arguments)};SetType._value;$jscomp.inherits(SetType,ArrayType);SetType.prototype.writeValue=function(buffer,value,root){root=root===undefined?true:root;assert.instanceOf(value,Set);this._writeValue({buffer:buffer,value:value,length:value.size,root:root})};$jscomp.global.Object.defineProperties(SetType,{_value:{configurable:true,enumerable:true,get:function(){return 83}}});var MapType=function(keyType,valueType){super();
assert.instanceOf(keyType,Type);assert.instanceOf(valueType,Type);this.keyType=keyType;this.valueType=valueType};MapType._value;$jscomp.inherits(MapType,AbsoluteType);MapType.prototype.addToBuffer=function(buffer){if(AbsoluteType.prototype.addToBuffer.call(this,buffer)){this.keyType.addToBuffer(buffer);this.valueType.addToBuffer(buffer)}};MapType.prototype.writeValue=function(buffer,value,root){root=root===undefined?true:root;assert.instanceOf(buffer,GrowableBuffer);assert.instanceOf(value,Map);buffer.addAll(flexInt.makeValueBuffer(value.size));
for(var $jscomp$iter$27=$jscomp.makeIterator(value),$jscomp$key$$jscomp$destructuring$var30=$jscomp$iter$27.next();!$jscomp$key$$jscomp$destructuring$var30.done;$jscomp$key$$jscomp$destructuring$var30=$jscomp$iter$27.next()){var $jscomp$destructuring$var30=$jscomp$key$$jscomp$destructuring$var30.value;{var $jscomp$destructuring$var31=$jscomp.makeIterator($jscomp$destructuring$var30);var mapKey=$jscomp$destructuring$var31.next().value;var mapValue=$jscomp$destructuring$var31.next().value;this.keyType.writeValue(buffer,
mapKey,false);this.valueType.writeValue(buffer,mapValue,false)}}setPointers(buffer,root)};$jscomp.global.Object.defineProperties(MapType,{_value:{configurable:true,enumerable:true,get:function(){return 84}}});var EnumType=function(params){var $jscomp$destructuring$var32=params;var type=$jscomp$destructuring$var32.type;var values=$jscomp$destructuring$var32.values;super();assert.instanceOf(type,AbsoluteType);assert.instanceOf(values,Array);try{assert.byteUnsignedInteger(values.length)}catch(e){assert.fail(String(values.length)+
" values is too many")}var valueIndices=new Map;for(var i=0;i<values.length;i++){var value=values[i];var valueString=bufferString.toBinaryString(type.valueBuffer(value));assert.assert(!valueIndices.has(valueString),"Value is repeated: "+util.inspect(value));valueIndices.set(valueString,i)}this.type=type;this.values=values;this.valueIndices=valueIndices};EnumType._value;$jscomp.inherits(EnumType,Type);EnumType.prototype.addToBuffer=function(buffer){if(Type.prototype.addToBuffer.call(this,buffer)){this.type.addToBuffer(buffer);
buffer.add(this.valueIndices.size);for(var $jscomp$iter$28=$jscomp.makeIterator(this.valueIndices),$jscomp$key$$jscomp$destructuring$var33=$jscomp$iter$28.next();!$jscomp$key$$jscomp$destructuring$var33.done;$jscomp$key$$jscomp$destructuring$var33=$jscomp$iter$28.next()){var $jscomp$destructuring$var33=$jscomp$key$$jscomp$destructuring$var33.value;{var $jscomp$destructuring$var34=$jscomp.makeIterator($jscomp$destructuring$var33);var valueBuffer=$jscomp$destructuring$var34.next().value;var _=$jscomp$destructuring$var34.next().value;
buffer.addAll(bufferString.fromBinaryString(valueBuffer))}}}};EnumType.prototype.writeValue=function(buffer,value,root){root=root===undefined?true:root;assert.instanceOf(buffer,GrowableBuffer);var valueBuffer=new GrowableBuffer;this.type.writeValue(valueBuffer,value,false);var index=this.valueIndices.get(bufferString.toBinaryString(valueBuffer.toBuffer()));assert.assert(index!==undefined,"Not a valid enum value: "+util.inspect(value));buffer.add(index);setPointers(buffer,root)};$jscomp.global.Object.defineProperties(EnumType,
{_value:{configurable:true,enumerable:true,get:function(){return 85}}});var ChoiceType=function(types){super();assert.instanceOf(types,Array);try{assert.byteUnsignedInteger(types.length)}catch(e){assert.fail(String(types.length)+" types is too many")}for(var $jscomp$iter$29=$jscomp.makeIterator(types),$jscomp$key$type=$jscomp$iter$29.next();!$jscomp$key$type.done;$jscomp$key$type=$jscomp$iter$29.next()){var type=$jscomp$key$type.value;{assert.instanceOf(type,Type)}}this.types=types};ChoiceType._value;
$jscomp.inherits(ChoiceType,AbsoluteType);ChoiceType.prototype.addToBuffer=function(buffer){if(AbsoluteType.prototype.addToBuffer.call(this,buffer)){buffer.add(this.types.length);for(var $jscomp$iter$30=$jscomp.makeIterator(this.types),$jscomp$key$type=$jscomp$iter$30.next();!$jscomp$key$type.done;$jscomp$key$type=$jscomp$iter$30.next()){var type=$jscomp$key$type.value;{type.addToBuffer(buffer)}}}};ChoiceType.prototype.writeValue=function(buffer,value,root){root=root===undefined?true:root;assert.instanceOf(buffer,
GrowableBuffer);var success=false;for(var i=0;i<this.types.length;i++){var type=this.types[i];var valueBuffer=new GrowableBuffer;try{type.writeValue(valueBuffer,value,false)}catch(e){continue}buffer.add(i);buffer.addAll(valueBuffer.toBuffer());success=true;break}assert.assert(success,"No types matched: "+util.inspect(value));setPointers(buffer,root)};$jscomp.global.Object.defineProperties(ChoiceType,{_value:{configurable:true,enumerable:true,get:function(){return 86}}});var NamedChoiceType=function(constructorTypes){super();
assert.instanceOf(constructorTypes,Map);try{assert.byteUnsignedInteger(constructorTypes.size)}catch(e){assert.fail(String(constructorTypes.size)+" types is too many")}this.indexConstructors=new Map;this.constructorTypes=new Array(constructorTypes.size);var usedNames=new Set;for(var $jscomp$iter$31=$jscomp.makeIterator(constructorTypes),$jscomp$key$$jscomp$destructuring$var35=$jscomp$iter$31.next();!$jscomp$key$$jscomp$destructuring$var35.done;$jscomp$key$$jscomp$destructuring$var35=$jscomp$iter$31.next()){var $jscomp$destructuring$var35=
$jscomp$key$$jscomp$destructuring$var35.value;{var $jscomp$destructuring$var36=$jscomp.makeIterator($jscomp$destructuring$var35);var constructor=$jscomp$destructuring$var36.next().value;var type=$jscomp$destructuring$var36.next().value;assert.instanceOf(constructor,Function);var name=constructor.name;assert.assert(name,'Function "'+String(name)+'" does not have a name');assert.assert(!usedNames.has(name),'Function name "'+name+'" is repeated');usedNames.add(name);var typeNameBuffer=bufferString.fromString(name);
try{assert.byteUnsignedInteger(typeNameBuffer.byteLength)}catch(e$84){assert.fail('Function name "'+name+'" is too long')}assert.instanceOf(type,StructType);var constructorIndex=this.indexConstructors.size;this.indexConstructors.set(constructorIndex,constructor);this.constructorTypes[constructorIndex]={nameBuffer:typeNameBuffer,type:type}}}};NamedChoiceType._value;$jscomp.inherits(NamedChoiceType,AbsoluteType);NamedChoiceType.prototype.addToBuffer=function(buffer){if(AbsoluteType.prototype.addToBuffer.call(this,
buffer)){buffer.add(this.constructorTypes.length);for(var $jscomp$iter$32=$jscomp.makeIterator(this.constructorTypes),$jscomp$key$$jscomp$destructuring$var37=$jscomp$iter$32.next();!$jscomp$key$$jscomp$destructuring$var37.done;$jscomp$key$$jscomp$destructuring$var37=$jscomp$iter$32.next()){var $jscomp$destructuring$var37=$jscomp$key$$jscomp$destructuring$var37.value;{var $jscomp$destructuring$var38=$jscomp$destructuring$var37;var nameBuffer=$jscomp$destructuring$var38.nameBuffer;var type=$jscomp$destructuring$var38.type;
buffer.add(nameBuffer.byteLength);buffer.addAll(nameBuffer);type.addToBuffer(buffer)}}}};NamedChoiceType.prototype.writeValue=function(buffer,value,root){root=root===undefined?true:root;assert.instanceOf(buffer,GrowableBuffer);assert.instanceOf(value,Object);var writeIndex;for(var $jscomp$iter$33=$jscomp.makeIterator(this.indexConstructors),$jscomp$key$$jscomp$destructuring$var39=$jscomp$iter$33.next();!$jscomp$key$$jscomp$destructuring$var39.done;$jscomp$key$$jscomp$destructuring$var39=$jscomp$iter$33.next()){var $jscomp$destructuring$var39=
$jscomp$key$$jscomp$destructuring$var39.value;{var $jscomp$destructuring$var40=$jscomp.makeIterator($jscomp$destructuring$var39);var index=$jscomp$destructuring$var40.next().value;var constructor=$jscomp$destructuring$var40.next().value;if(value instanceof constructor){writeIndex=index;break}}}assert.assert(writeIndex!==undefined,"No types matched: "+util.inspect(value));buffer.add(writeIndex);var $jscomp$destructuring$var41=this.constructorTypes[writeIndex];var type=$jscomp$destructuring$var41.type;
type.writeValue(buffer,value,false);setPointers(buffer,root)};$jscomp.global.Object.defineProperties(NamedChoiceType,{_value:{configurable:true,enumerable:true,get:function(){return 88}}});var RecursiveType=function(name){super();assert.instanceOf(name,String);this.name=name};RecursiveType.prototype.type;RecursiveType._value;$jscomp.inherits(RecursiveType,AbsoluteType);RecursiveType.prototype.addToBuffer=function(buffer){if(AbsoluteType.prototype.addToBuffer.call(this,buffer)){var bufferRecursiveIDs=
recursiveIDs.get(buffer);if(!bufferRecursiveIDs){bufferRecursiveIDs=new Map;recursiveIDs.set(buffer,bufferRecursiveIDs)}var recursiveID=bufferRecursiveIDs.get(this.name);var firstOccurence=recursiveID===undefined;if(firstOccurence){recursiveID=bufferRecursiveIDs.size;bufferRecursiveIDs.set(this.name,recursiveID)}buffer.addAll(flexInt.makeValueBuffer(recursiveID));if(firstOccurence){var bufferRecursiveNesting=recursiveNesting.get(buffer)||0;recursiveNesting.set(buffer,bufferRecursiveNesting+1);this.type.addToBuffer(buffer);
recursiveNesting.set(buffer,bufferRecursiveNesting)}}};RecursiveType.prototype.writeValue=function(buffer,value,root){root=root===undefined?true:root;assert.instanceOf(buffer,GrowableBuffer);var writeValue=true;var bufferRecursiveLocations=recursiveLocations.get(buffer);if(bufferRecursiveLocations){var targetLocation=bufferRecursiveLocations.get(value);if(targetLocation!==undefined){writeValue=false;buffer.add(0);var offset=buffer.length-targetLocation;buffer.addAll(flexInt.makeValueBuffer(offset))}}else{bufferRecursiveLocations=
new Map;recursiveLocations.set(buffer,bufferRecursiveLocations)}if(writeValue){buffer.add(255);bufferRecursiveLocations.set(value,buffer.length);this.type.writeValue(buffer,value,false)}setPointers(buffer,root)};$jscomp.global.Object.defineProperties(RecursiveType.prototype,{type:{configurable:true,enumerable:true,get:function(){loadRecursiveRegistry();return recursiveRegistry.getType(this.name)}}});$jscomp.global.Object.defineProperties(RecursiveType,{_value:{configurable:true,enumerable:true,get:function(){return 87}}});
var OptionalType=function(type){super();assert.instanceOf(type,Type);this.type=type};OptionalType._value;$jscomp.inherits(OptionalType,AbsoluteType);OptionalType.prototype.addToBuffer=function(buffer){if(AbsoluteType.prototype.addToBuffer.call(this,buffer))this.type.addToBuffer(buffer)};OptionalType.prototype.writeValue=function(buffer,value,root){root=root===undefined?true:root;assert.instanceOf(buffer,GrowableBuffer);if(value===null||value===undefined)buffer.add(0);else{buffer.add(255);this.type.writeValue(buffer,
value,false)}setPointers(buffer,root)};$jscomp.global.Object.defineProperties(OptionalType,{_value:{configurable:true,enumerable:true,get:function(){return 96}}});var PointerType=function(type){super();assert.instanceOf(type,AbsoluteType);this.type=type};PointerType._value;$jscomp.inherits(PointerType,Type);PointerType.prototype.addToBuffer=function(buffer){if(Type.prototype.addToBuffer.call(this,buffer))this.type.addToBuffer(buffer)};PointerType.prototype.writeValue=function(buffer,value,root){root=
root===undefined?true:root;assert.instanceOf(buffer,GrowableBuffer);var bufferPointers=pointers.get(buffer);if(!bufferPointers){bufferPointers=new Map;pointers.set(buffer,bufferPointers)}var valueBuffer=new GrowableBuffer;this.type.writeValue(valueBuffer,value,false);var valueString=bufferString.toBinaryString(valueBuffer.toBuffer());var currentIndex=buffer.length;var pointerLocations=bufferPointers.get(valueString);if(pointerLocations)pointerLocations.add(currentIndex);else bufferPointers.set(valueString,
new Set([currentIndex]));buffer.addAll(new ArrayBuffer(4));setPointers(buffer,root)};$jscomp.global.Object.defineProperties(PointerType,{_value:{configurable:true,enumerable:true,get:function(){return 112}}});module.exports={Type:Type,ByteType:ByteType,ShortType:ShortType,IntType:IntType,LongType:LongType,BigIntType:BigIntType,UnsignedByteType:UnsignedByteType,UnsignedShortType:UnsignedShortType,UnsignedIntType:UnsignedIntType,UnsignedLongType:UnsignedLongType,BigUnsignedIntType:BigUnsignedIntType,
FlexUnsignedIntType:FlexUnsignedIntType,DateType:DateType,DayType:DayType,TimeType:TimeType,FloatType:FloatType,DoubleType:DoubleType,BooleanType:BooleanType,BooleanTupleType:BooleanTupleType,BooleanArrayType:BooleanArrayType,CharType:CharType,StringType:StringType,OctetsType:OctetsType,TupleType:TupleType,StructType:StructType,ArrayType:ArrayType,SetType:SetType,MapType:MapType,EnumType:EnumType,ChoiceType:ChoiceType,NamedChoiceType:NamedChoiceType,RecursiveType:RecursiveType,OptionalType:OptionalType,
PointerType:PointerType,REPEATED_TYPE:REPEATED_TYPE,MILLIS_PER_DAY:MILLIS_PER_DAY,MILLIS_PER_MINUTE:MILLIS_PER_MINUTE}},{"./config":"/config.js","./lib/assert":2,"./lib/bit-math":"/lib/bit-math.js","./lib/buffer-string":"/lib/buffer-string.js","./lib/flex-int":"/lib/flex-int.js","./lib/growable-buffer":"/lib/growable-buffer.js","./lib/strint":"/lib/strint.js","./recursive-registry":"/recursive-registry.js","base64-js":3,"sha256":8,"util":10}]},{},[1]);}()