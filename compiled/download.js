!function(e){var t={};function n(r){if(t[r])return t[r].exports;var u=t[r]={i:r,l:!1,exports:{}};return e[r].call(u.exports,u,u.exports,n),u.l=!0,u.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var u in e)n.d(r,u,function(t){return e[t]}.bind(null,u));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=67)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6);function u(e,t){t instanceof Array||(t=[t]);for(const n of t)if(e instanceof n||void 0!==e&&null!==e&&e.constructor===n)return;throw new TypeError(r.inspect(e)+" is not an instance of "+t.map(({name:e})=>e).join(" or "))}function a(e){if(u(e,Number),!Number.isSafeInteger(e))throw new RangeError(r.inspect(e)+" is not an integer")}function s(e,t,n,r){if(t<e||t>=n){const u=`${t} is not in [${e},${n})`;throw new RangeError(r?`${r} (${u})`:u)}}function o(e){throw new Error(e)}function i(e,t){e||o(t||"Assertion failed")}function l(e,t){u(t,String),i(null!==e&&e.message.startsWith(t),`Message "${e?e.message:"No error thrown"}" does not start with "${t}"`)}t.default=Object.assign(i,{instanceOf:u,integer:a,between:s,byteUnsignedInteger:function(e){a(e),s(0,e,256)},fail:o,throws:function(e,t){let n=!0;try{e(),n=!1}catch(e){t&&l(e,t)}i(n,t?"Was expecting error: "+t:"Should throw an error")},equal:function e(t,n){const u=()=>new RangeError(`Expected ${r.inspect(n)} but got ${r.inspect(t)}`);if(n){let r=!0;switch(n.constructor){case Object:if(!t||t.constructor!==Object)throw u();for(const r in n)if({}.hasOwnProperty.call(n,r))try{e(t[r],n[r])}catch(e){throw u()}break;case Array:if(!t||t.constructor!==Array)throw u();if(t.length!==n.length)throw u();for(let r=0;r<n.length;r++)try{e(t[r],n[r])}catch(e){throw u()}break;case Map:{if(!t||t.constructor!==Map)throw u();if(t.size!==n.size)throw u();const r=n.entries(),a=t.entries();let s;for(;!(s=r.next()).done;)try{e(s.value,a.next().value)}catch(e){throw u()}break}case Set:{if(!t||t.constructor!==Set)throw u();if(t.size!==n.size)throw u();const r=n.values(),a=t.values();let s;for(;!(s=r.next()).done;)try{e(s.value,a.next().value)}catch(e){throw u()}break}case ArrayBuffer:{if(!t||t.constructor!==ArrayBuffer)throw u();if(t.byteLength!==n.byteLength)throw u();const e=new Uint8Array(t),r=new Uint8Array(n);for(let t=0;t<r.length;t++)if(e[t]!==r[t])throw u();break}case Function:if(!t||t.constructor!==Function)throw u();if(t.name!==n.name)throw u();break;default:r=!1}if(r)return}if(void 0!==n&&null!==n&&n.equals instanceof Function){let e;try{e=n.equals(t)}catch(e){throw new Error("equals() is not implemented for "+r.inspect(n))}if(!e)throw u()}else if(n!==t)throw u()},errorMessage:l})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(17),a=n(4),s=n(10),o=n(6),i=n(18),l=n(23),f=n(24),c=n(12),d=n(25);t.NOT_LONG_ENOUGH="Buffer is not long enough",t.makeBaseValue=function(e,t){switch(e.constructor){case i.ArrayType:return new Array(t);case d.TupleType:return new Array(e.length);case l.MapType:return new Map;case f.SetType:return new Set;case c.StructType:return{};default:throw new Error("Invalid type for base value: "+o.inspect(e))}},t.readBooleanByte=function(e,n){let u;r.default(e.byteLength>n,t.NOT_LONG_ENOUGH);const a=new Uint8Array(e)[n];switch(a){case 0:case 255:u=!!a;break;default:throw new Error(`0x${o.hexByte(a)} is an invalid Boolean value`)}return{value:u,length:1}},t.readBooleans=function({buffer:e,offset:n,count:a}){const s=new Array(a),o=u.modEight(a),i=u.dividedByEight(a),l=o?i+1:i;r.default(e.byteLength>=n+l,t.NOT_LONG_ENOUGH);const f=new Uint8Array(e,n);for(let e=0;e<l;e++){const t=f[e];for(let n=0;n<8;n++){const r=u.timesEight(e)|n;if(r===a)break;s[r]=Boolean(t&1<<7-n)}}return{value:s,length:l}},t.readFlexInt=function(e,n){r.default(e.byteLength>n,t.NOT_LONG_ENOUGH);const u=new Uint8Array(e,n),s=a.getByteCount(u[0]);return r.default(e.byteLength>=n+s,t.NOT_LONG_ENOUGH),{value:a.readValueBuffer(u.slice(0,s).buffer),length:s}},t.readLong=function(e,n){r.default(e.byteLength>=n+8,t.NOT_LONG_ENOUGH);const u=new DataView(e,n),a=u.getInt32(0),o=u.getUint32(4);return{value:s.add(s.mul(`${a}`,s.LONG_UPPER_SHIFT),`${o}`),length:8}},t.readNumber=function({func:e,type:n}){const u=n.BYTES_PER_ELEMENT;return(n,a)=>(r.default(n.byteLength>=a+u,t.NOT_LONG_ENOUGH),{value:new DataView(n)[e](a),length:u})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3);t.default=class extends r.default{}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(11),u=n(33),a=n(35),s=n(20),o=n(0),i=n(30),l=n(4),f=n(21),c=n(22);t.default=class{static get _value(){throw new Error("Generic Type has no value byte")}addToBuffer(e){if(this.isBuffer(e),this.cachedTypeLocations){if(!c.get(e)){const t=this.cachedTypeLocations.get(e);if(void 0!==t)return e.add(i.REPEATED_TYPE).addAll(l.makeValueBuffer(e.length-t)),!1}}else this.cachedTypeLocations=new Map;return this.cachedTypeLocations.set(e,e.length),e.add(this.constructor._value),!0}toBuffer(){return this.cachedBuffer||(this.cachedBuffer=this._toBuffer()),this.cachedBuffer}getHash(){return this.cachedHash||(this.cachedHash=this._getHash()),this.cachedHash}getSignature(){return this.cachedSignature||(this.cachedSignature=this._getSignature()),this.cachedSignature}valueBuffer(e){const t=new f.default;return this.writeValue(t,e),t.toBuffer()}readValue(e,t=0){o.default.instanceOf(e,ArrayBuffer),o.default.instanceOf(t,Number);const{value:n,length:r}=this.consumeValue(e,t);if(t+r!==e.byteLength)throw new Error("Did not consume all of buffer");return n}equals(e){return!!e&&e.constructor===this.constructor}isBuffer(e){o.default.instanceOf(e,s.default)}_toBuffer(){const e=new f.default;return this.addToBuffer(e),e.toBuffer()}_getHash(){const e=new Uint8Array(u.default(this.toBuffer()));return r.fromByteArray(e)}_getSignature(){return a.VERSION_STRING+this.getHash()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);function u(e){const t=7*e;return Math.pow(2,t)}const a=(new Map).set(0,0),s=new Map,o=new Map;{let e=1,t=0,n=-256;for(;t<=Number.MAX_SAFE_INTEGER;)t+=u(e),a.set(e,t),s.set(e,255&n),o.set(e-1,e),n>>=1,e++}t.makeValueBuffer=function(e){r.default.integer(e),r.default(e>=0,`${e} is negative`);const t=(()=>{for(const[t,n]of a)if(n>e)return t;throw new Error(`Cannot represent ${e}`)})();let n=e-a.get(t-1);const u=new Uint8Array(t);for(let e=t-1;e>=0;e--)u[e]=255&n,n=Math.floor(n/256);return u[0]|=s.get(t),u.buffer},t.getByteCount=function(e){const t=Math.clz32(~e<<24),n=o.get(t);return r.default(void 0!==n,"Invalid number of bytes"),n},t.readValueBuffer=function(e){r.default.instanceOf(e,ArrayBuffer);const t=e.byteLength;r.default(t>0,"Empty flex int buffer");const n=new Uint8Array(e);let u=n[0]^s.get(t);for(let e=1;e<t;e++)u=256*u+n[e];return a.get(t-1)+u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=(e=>{if(e&&e.constructor===String){const t=Number(e);if(!isNaN(t)||"NaN"===e)return t}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=new Set([String,Number,Boolean,Date]);t.hexByte=(e=>(e<16?"0":"")+e.toString(16)),t.inspect=function(e){return function e(n,u){if(void 0===n)return"undefined";if(null===n||r.has(n.constructor))return JSON.stringify(n);if(n instanceof ArrayBuffer){const e=new Uint8Array(n);let r="[";for(let n=0;n<e.length;n++)n&&(r+=", "),r+="0x"+t.hexByte(e[n]);return r+"]"}if("undefined"!=typeof Buffer&&n instanceof Buffer){let e="<Buffer";for(const r of n)e+=" "+t.hexByte(r);return e+">"}if(n instanceof Function)return"Function "+n.name;if(u.has(n))return"[Circular]";u.add(n);let a=!0;if(n instanceof Set){let t="Set {";for(const r of n)a?a=!1:t+=", ",t+=e(r,u);return u.delete(n),t+"}"}if(n instanceof Map){let t="Map {";for(const[r,s]of n)a?a=!1:t+=", ",t+=e(r,u)+" => "+e(s,u);return u.delete(n),t+"}"}if(n instanceof Array){const t=`[${n.map(t=>e(t,u)).join(", ")}]`;return u.delete(n),t}const{name:s}=n.constructor;let o=`${s&&"Object"!==s?s+" ":""}{`;for(const t in n)({}).hasOwnProperty.call(n,t)&&(a?a=!1:o+=", ",o+=t+": "+e(n[t],u));return u.delete(n),o+"}"}(e,new Set)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(21),a=4096;t.toString=function(e){r.default.instanceOf(e,Uint8Array);const t=[];for(let n=0;n<e.length;){const r=e[n];let u,a=r>239?4:r>223?3:r>191?2:1;if(n+a<=e.length){let t,s,o,i;switch(a){case 1:r<128&&(u=r);break;case 2:128==(192&(t=e[n+1]))&&(i=(31&r)<<6|63&t)>127&&(u=i);break;case 3:t=e[n+1],s=e[n+2],128==(192&t)&&128==(192&s)&&(i=(15&r)<<12|(63&t)<<6|63&s)>2047&&(i<55296||i>57343)&&(u=i);break;case 4:t=e[n+1],s=e[n+2],o=e[n+3],128==(192&t)&&128==(192&s)&&128==(192&o)&&(i=(15&r)<<18|(63&t)<<12|(63&s)<<6|63&o)>65535&&i<1114112&&(u=i)}}void 0===u?(u=65533,a=1):u>65535&&(u-=65536,t.push(u>>>10&1023|55296),u=56320|1023&u),t.push(u),n+=a}let n="";for(let e=0;e<t.length;e+=a)n+=String.fromCharCode(...t.slice(e,e+a));return n},t.fromString=function(e){r.default.instanceOf(e,String);const t=new u.default;for(const n of e){let e=n.charCodeAt(0);e<128?t.add(e):e<2048?t.add(192|e>>6).add(128|63&e):e<55296||e>=57344?t.add(224|e>>12).add(128|e>>6&63).add(128|63&e):(e=65536+((1023&e)<<10|1023&e),t.add(240|e>>18).add(128|e>>12&63).add(128|e>>6&63).add(128|63&e))}return t.toBuffer()},t.toBinaryString=function(e){r.default.instanceOf(e,ArrayBuffer);let t="";const n=new Uint8Array(e);for(let e=0;e<n.length;e+=a)t+=String.fromCharCode(...n.subarray(e,e+a));return t},t.fromBinaryString=function(e){r.default.instanceOf(e,String);const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e[n].charCodeAt(0);return t.buffer}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);t.default=class extends r.default{}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);t.default=class extends r.default{}},function(e,t,n){"use strict";function r(e,t){if(M(e),M(t),!y(e,t))throw new Error("x must be greater or equal to y");for(var n=Math.max(e.length,t.length),r="",u=0,a=0,s=0;s<n;s++){var o=Number(N(e,s))-u;u=0;for(var i=Number(N(t,s));o<i;)o+=10,u++;var l=String(o-i);"0"!==l?(r=l+T(r,a),a=0):a++}return 0===r.length?"0":r}function u(e,t){if(M(e),M(t),c(e,"0")&&c(t,"0"))return"0";for(var n=Math.max(e.length,t.length),r="",u=0,a=0,s=0;s<n;s++){var o=Number(N(e,s))+Number(N(t,s))+u;for(u=0;o>=10;)o-=10,u++;0===o?a++:(r=String(o)+T(r,a),a=0)}return u>0&&(r=String(u)+T(r,a)),r}function a(e,t){if(I(e),I(t),A(e)&&A(t))return u(e,t);if(p(e)&&p(t))return B(u(v(e),v(t)));if(h(v(e),v(t))){var n=e;e=t,t=n}var a=r(v(e),v(t));return A(e)?a:B(a)}function s(e,t){return I(e),I(t),a(e,B(t))}function o(e,t){M(e),U(t);for(var n="",r=V(e),u=0,a=0,s=0;s<r;s++){var o=Number(N(e,s))*t+u;for(u=0;o>=10;)o-=10,u++;0===o?a++:(n=String(o)+T(n,a),a=0)}return u>0&&(n=String(u)+T(n,a)),0===n.length?"0":n}function i(e,t){M(e),M(t);for(var n="0",r=V(t),a=0;a<r;a++){var s=o(e,Number(N(t,a)));n=u(n,s=E(s,a))}return n}function l(e,t){if(I(e),I(t),c(e,"0")||c(t,"0"))return"0";var n=i(v(e),v(t));return w(e,t)?n:B(n)}function f(e,t){if(M(e),M(t),c(e,t))return["1","0"];if(g(t,e))return["0",m(e)];for(var n="0",r=e.length-t.length;;){for(var u=e.slice(0,e.length-r);y(u,t);)u=s(u,t),n=a(n,"1");if(g(t,e=u+e.slice(e.length-r)))return[n=E(n,r),m(e)];if(r--,n=E(n,1),r<0)throw new Error("Illegal state")}}function c(e,t){return m(e)===m(t)}function d(e,t){if(p(e)||p(t))throw new Error("Both operands must be positive: "+e+" "+t);var n=Math.max(e.length,t.length);return O(e,n)<O(t,n)}function h(e,t){return!(!p(e)||!A(t))||(!A(e)||!p(t))&&(p(e)&&p(t)?!c(e,t)&&!d(v(e),v(t)):d(e,t))}function y(e,t){return!h(e,t)}function g(e,t){return!c(e,t)&&y(e,t)}function p(e){return I(e),0===e.indexOf("-")}function A(e){return!p(e)}function v(e){return p(e)?B(e):e}function w(e,t){return A(e)===A(t)}function B(e){return"0"===e?"0":p(e)?e.slice(1):"-"+e}Object.defineProperty(t,"__esModule",{value:!0}),t.subPositive=r,t.add=a,t.sub=s,t.timesDigit=o,t.mulPositive=i,t.mul=l,t.quotientRemainderPositive=f,t.div=function(e,t,n=!1){I(e),I(t);var r=f(v(e),v(t))[0];return w(e,t)||(r=B(r)),!n||c(l(r,t),e)||w(e,t)||(r=s(r,"1")),r},t.eq=c,t.lt=h,t.ge=y,t.gt=g,t.isNegative=p,t.isPositive=A,t.abs=v,t.negate=B;var _=/^(-?)0*([1-9][0-9]*)$/,b=/^0+$/;function m(e){if(b.test(e))return"0";var t=_.exec(e);if(!t)throw new Error("Illegal strint format: "+e);return t[1]+t[2]}function O(e,t){return M(e),S(t),T(e,t-e.length)}function T(e,t){M(e),S(t);for(var n=e,r=0;r<t;r++)n="0"+n;return n}function E(e,t){for(;t>0;)e+="0",t--;return e}function N(e,t){return I(e),U(t),t>=V(e)?"0":e.charAt(e.length-t-1)}function V(e){return p(e)?e.length-1:e.length}function I(e){P(e,"string")}function M(e){I(e),function(e,t,n){if(!t.call(null,e))throw new Error("Condition "+n+" failed for value "+e)}(e,A,"isPositive")}function U(e){P(e,"number")}function S(e){if(P(e,"number"),e<0)throw new Error("Expected a positive number: "+e)}function P(e,t){if(typeof e!==t)throw new Error("Not a "+t+": "+e)}t.normalize=m,t.LONG_UPPER_SHIFT="4294967296",t.BYTE_SHIFT="256"},function(e,t,n){"use strict";t.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){for(var t,n=l(e),r=n[0],s=n[1],o=new a(function(e,t,n){return 3*(t+n)/4-n}(0,r,s)),i=0,f=s>0?r-4:r,c=0;c<f;c+=4)t=u[e.charCodeAt(c)]<<18|u[e.charCodeAt(c+1)]<<12|u[e.charCodeAt(c+2)]<<6|u[e.charCodeAt(c+3)],o[i++]=t>>16&255,o[i++]=t>>8&255,o[i++]=255&t;2===s&&(t=u[e.charCodeAt(c)]<<2|u[e.charCodeAt(c+1)]>>4,o[i++]=255&t);1===s&&(t=u[e.charCodeAt(c)]<<10|u[e.charCodeAt(c+1)]<<4|u[e.charCodeAt(c+2)]>>2,o[i++]=t>>8&255,o[i++]=255&t);return o},t.fromByteArray=function(e){for(var t,n=e.length,u=n%3,a=[],s=0,o=n-u;s<o;s+=16383)a.push(c(e,s,s+16383>o?o:s+16383));1===u?(t=e[n-1],a.push(r[t>>2]+r[t<<4&63]+"==")):2===u&&(t=(e[n-2]<<8)+e[n-1],a.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return a.join("")};for(var r=[],u=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,i=s.length;o<i;++o)r[o]=s[o],u[s.charCodeAt(o)]=o;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function f(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function c(e,t,n){for(var r,u=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),u.push(f(r));return u.join("")}u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(7),a=n(1),s=n(6),o=n(2),i=n(3);t.StructType=class extends o.default{constructor(e){super(),r.default.instanceOf(e,Object);const t=Object.keys(e).length;try{r.default.byteUnsignedInteger(t)}catch(e){r.default.fail(`${t} fields is too many`)}this.fields=new Array(t);let n=0;for(const t in e){if(!{}.hasOwnProperty.call(e,t))continue;const a=u.fromString(t);try{r.default.byteUnsignedInteger(a.byteLength)}catch(e){r.default.fail(`Field name ${t} is too long`)}const o=e[t];try{r.default.instanceOf(o,i.default)}catch(e){r.default.fail(s.inspect(o)+" is not a valid field type")}this.fields[n]={name:t,type:o,nameBuffer:a},n++}this.fields.sort((e,t)=>e.name<t.name?-1:e.name>t.name?1:0)}static get _value(){return 81}addToBuffer(e){if(super.addToBuffer(e)){e.add(this.fields.length);for(const t of this.fields){const{nameBuffer:n}=t;e.add(n.byteLength).addAll(n),t.type.addToBuffer(e)}return!0}return!1}writeValue(e,t){this.isBuffer(e),r.default.instanceOf(t,Object);for(const n of this.fields){const r=t[n.name];try{n.type.writeValue(e,r)}catch(e){throw void 0===r?new Error(`Value for field "${n.name}" missing`):e}}}consumeValue(e,t,n){let r=0;const u=n||a.makeBaseValue(this);for(const n of this.fields){const a=n.type.consumeValue(e,t+r);u[n.name]=a.value,r+=a.length}return{value:u,length:r}}equals(e){if(!super.equals(e))return!1;const t=e;if(this.fields.length!==t.fields.length)return!1;for(let e=0;e<this.fields.length;e++){const n=this.fields[e],r=t.fields[e];if(!n.type.equals(r.type))return!1;if(n.name!==r.name)return!1}return!0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);t.default=class extends r.default{}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(32)),r(n(36)),r(n(37)),r(n(38)),r(n(39)),r(n(40)),r(n(41)),r(n(42)),r(n(43)),r(n(44)),r(n(45)),r(n(46)),r(n(47)),r(n(48)),r(n(49)),r(n(50)),r(n(51)),r(n(52)),r(n(53)),r(n(54)),r(n(55)),r(n(56)),r(n(57)),r(n(25)),r(n(12)),r(n(18)),r(n(24)),r(n(23)),r(n(58)),r(n(59)),r(n(60)),r(n(61)),r(n(62)),r(n(63)),r(n(64))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(14),a=new Map;function s(e){return a.has(e)}t.registerType=function({type:e,name:t}){r.default.instanceOf(e,[u.ArrayType,u.MapType,u.SetType,u.StructType,u.TupleType]),r.default.instanceOf(t,String),r.default(!s(t),`"${t}" is already a registered type`),a.set(t,e)},t.getType=function(e){r.default.instanceOf(e,String);const t=a.get(e);if(!t)throw new Error(`"${e}" is not a registered type`);return t},t.isRegistered=s},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});const u=n(0);t.assert=u.default,u.default("undefined"!=typeof ArrayBuffer,"ArrayBuffer not supported"),u.default("undefined"!=typeof fetch,"fetch() not supported"),u.default("undefined"!=typeof Map,"Map not supported"),u.default("undefined"!=typeof Set,"Set not supported"),u.default("undefined"!=typeof Symbol,"Symbol not supported"),u.default("undefined"!=typeof Uint8Array,"Uint8Array not supported"),u.default("undefined"!=typeof WeakMap,"WeakMap not supported"),r(n(14)),r(n(15))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dividedByEight=function(e){return e>>>3},t.modEight=function(e){return 7&e},t.timesEight=function(e){return e<<3}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(1),a=n(19),s=n(2),o=n(3);t.ArrayType=class extends s.default{constructor(e){super(),r.default.instanceOf(e,o.default),this.type=e}static get _value(){return 82}addToBuffer(e){return!!super.addToBuffer(e)&&(this.type.addToBuffer(e),!0)}writeValue(e,t){this.isBuffer(e),r.default.instanceOf(t,Array),a.default({type:this.type,buffer:e,value:t,length:t.length})}consumeValue(e,t,n){const r=u.readFlexInt(e,t),a=r.value;let{length:s}=r;const o=n||u.makeBaseValue(this,a);for(let n=0;n<a;n++){const r=this.type.consumeValue(e,t+s);s+=r.length,o[n]=r.value}return{value:o,length:s}}equals(e){return super.equals(e)&&this.type.equals(e.type)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4);t.default=(({type:e,buffer:t,value:n,length:u})=>{t.addAll(r.makeValueBuffer(u));for(const r of n)e.writeValue(t,r)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(20),u=n(0),a=10;t.default=class extends r.default{constructor(e=a){super();try{u.default.integer(e),u.default(e>=0)}catch(t){throw new RangeError(`${e} is not a valid buffer length`)}this.buffer=new ArrayBuffer(e),this.size=0,this.pausePoints=[]}get length(){return this.size}grow(e){if(u.default.integer(e),e>this.buffer.byteLength){const t=new ArrayBuffer(e<<1);new Uint8Array(t).set(new Uint8Array(this.buffer).subarray(0,this.size)),this.buffer=t}return this}add(e){return u.default.integer(e),u.default.between(0,e,256,`Not a byte: ${e}`),this.addAll(new Uint8Array([e]).buffer)}addAll(e){u.default.instanceOf(e,ArrayBuffer);const t=this.size,n=this.size+e.byteLength;return this.grow(n),this.size=n,new Uint8Array(this.buffer).set(new Uint8Array(e),t),this}get rawBuffer(){return this.buffer}toBuffer(){let e;return this.pausePoints.length?[e]=this.pausePoints:e=this.size,e===this.buffer.byteLength?this.buffer:this.buffer.slice(0,e)}pause(){return this.pausePoints.push(this.size),this}resume(){if(!this.pausePoints.length)throw new Error("Was not paused");return this.pausePoints.pop(),this}reset(){if(!this.pausePoints.length)throw new Error("Was not paused");const e=this.pausePoints[this.pausePoints.length-1];return this.size=e,this}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=new WeakMap;t.increment=function(e){const t=r.get(e)||0;r.set(e,t+1)},t.decrement=function(e){const t=r.get(e);r.set(e,t-1)},t.get=function(e){return r.get(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(4),a=n(1),s=n(2),o=n(3);t.MapType=class extends s.default{constructor(e,t){super(),r.default.instanceOf(e,o.default),r.default.instanceOf(t,o.default),this.keyType=e,this.valueType=t}static get _value(){return 84}addToBuffer(e){return!!super.addToBuffer(e)&&(this.keyType.addToBuffer(e),this.valueType.addToBuffer(e),!0)}writeValue(e,t){this.isBuffer(e),r.default.instanceOf(t,Map),e.addAll(u.makeValueBuffer(t.size));for(const[n,r]of t)this.keyType.writeValue(e,n),this.valueType.writeValue(e,r)}consumeValue(e,t,n){const r=a.readFlexInt(e,t);let{length:u}=r;const s=n||a.makeBaseValue(this);for(let n=0;n<r.value;n++){const n=this.keyType.consumeValue(e,t+u);u+=n.length;const r=this.valueType.consumeValue(e,t+u);u+=r.length,s.set(n.value,r.value)}return{value:s,length:u}}equals(e){return super.equals(e)&&this.keyType.equals(e.keyType)&&this.valueType.equals(e.valueType)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(1),a=n(19),s=n(2),o=n(3);t.SetType=class extends s.default{constructor(e){super(),r.default.instanceOf(e,o.default),this.type=e}static get _value(){return 83}addToBuffer(e){return!!super.addToBuffer(e)&&(this.type.addToBuffer(e),!0)}writeValue(e,t){this.isBuffer(e),r.default.instanceOf(t,Set),a.default({type:this.type,buffer:e,value:t,length:t.size})}consumeValue(e,t,n){const r=u.readFlexInt(e,t);let{length:a}=r;const s=n||u.makeBaseValue(this);for(let n=0;n<r.value;n++){const n=this.type.consumeValue(e,t+a);a+=n.length,s.add(n.value)}return{value:s,length:a}}equals(e){return super.equals(e)&&this.type.equals(e.type)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(1),a=n(2),s=n(3);t.TupleType=class extends a.default{constructor({type:e,length:t}){super(),r.default.instanceOf(e,s.default),r.default.byteUnsignedInteger(t),this.type=e,this.length=t}static get _value(){return 80}addToBuffer(e){return!!super.addToBuffer(e)&&(this.type.addToBuffer(e),e.add(this.length),!0)}writeValue(e,t){this.isBuffer(e),r.default.instanceOf(t,Array),r.default(t.length===this.length,`Length does not match: expected ${this.length} but got ${t.length}`);for(const n of t)this.type.writeValue(e,n)}consumeValue(e,t,n){let r=0;const a=n||u.makeBaseValue(this);for(let n=0;n<this.length;n++){const u=this.type.consumeValue(e,t+r);r+=u.length,a[n]=u.value}return{value:a,length:r}}equals(e){return super.equals(e)&&this.type.equals(e.type)&&this.length===e.length}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(10);t.default=((e,t)=>{r.default.instanceOf(t,String),r.default(!(u.gt(t,"9223372036854775807")||u.lt(t,"-9223372036854775808")),"Value out of range");const n=u.div(t,u.LONG_UPPER_SHIFT,!0),a=u.sub(t,u.mul(n,u.LONG_UPPER_SHIFT)),s=new ArrayBuffer(8),o=new DataView(s);o.setInt32(0,Number(n)),o.setUint32(4,Number(a)),e.addAll(s)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MILLIS_PER_DAY=864e5;const r=6e4;t.toUTC=function(e){return e.getTime()-e.getTimezoneOffset()*r},t.fromUTC=function(e){const t=new Date(e);return new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);t.default=class extends r.default{}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(17);t.default=((e,t)=>{r.default.instanceOf(t,Array);e:for(let n=0;;n++){let a=0;for(let s=0;s<8;s++){const o=u.timesEight(n)|s;if(o===t.length){s&&e.add(a);break e}const i=t[o];r.default.instanceOf(i,Boolean),i&&(a|=1<<7-s)}e.add(a)}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REPEATED_TYPE=255},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=new Map;t.get=function(e){let t=r.get(e);return t||(t={[e]:class{}}[e],r.set(e,t)),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(1),a=n(5),s=n(8),o=u.readNumber({type:Int8Array,func:"getInt8"});t.ByteType=class extends s.default{static get _value(){return 1}writeValue(e,t){this.isBuffer(e);const n=a.default(t);void 0!==n&&(t=n),r.default.integer(t),r.default.between(-128,t,128,"Value out of range"),e.addAll(new Int8Array([t]).buffer)}consumeValue(e,t){return o(e,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(34),u=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=(e,t)=>e>>>t|e<<32-t;function s(e){const t=e.byteLength,n=t+(64-(t+72&63))+8,r=new ArrayBuffer(n),s=new Uint8Array(r);s.set(new Uint8Array(e)),s[t]=128,new DataView(r).setUint32(n-4,t<<3);const o=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);for(let e=0;e<n;e+=64){const t=new Uint32Array(64),n=new DataView(r,e,64);for(let e=0;e<16;e++)t[e]=n.getUint32(e<<2);for(let e=16;e<64;e++){const n=t[e-15],r=a(n,7)^a(n,18)^n>>>3,u=t[e-2],s=a(u,17)^a(u,19)^u>>>10;t[e]=t[e-16]+r+t[e-7]+s}let[s,i,l,f,c,d,h,y]=o;for(let e=0;e<64;e++){const n=y+(a(c,6)^a(c,11)^a(c,25))+(c&d^~c&h)+u[e]+t[e],r=a(s,2)^a(s,13)^a(s,22),o=s&i^s&l^i&l;y=h,h=d,d=c,c=f+n,f=l,l=i,i=s,s=n+(r+o)}o[0]+=s,o[1]+=i,o[2]+=l,o[3]+=f,o[4]+=c,o[5]+=d,o[6]+=h,o[7]+=y}const i=new ArrayBuffer(32),l=new DataView(i);for(let e=0;e<8;e++)l.setUint32(e<<2,o[e]);return i}t.sha256JS=s,t.sha256Wasm=(()=>{if(!r.default)return;const{exports:e}=r.default,{INPUT_START:t,fitInput:n,sha256:u,memory:a}=e;return e=>{const{byteLength:r}=e;n(r);const{buffer:s}=a;return new Uint8Array(s).set(new Uint8Array(e),t),u(r),s.slice(0,32)}})(),t.default=t.sha256Wasm||s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(11);t.default="undefined"==typeof WebAssembly?void 0:new WebAssembly.Instance(new WebAssembly.Module(r.toByteArray("AGFzbQEAAAABFARgAX8Bf2ACf38AYAJ/fgBgAX8AAwYFAAECAwMFAwEAAQYNAn8AQYACC38AQYAECwcsBAtJTlBVVF9TVEFSVAMBBm1lbW9yeQIACGZpdElucHV0AAMGc2hhMjU2AAQK9wUFIgAgAC0AAEEYdCAALQABQRB0ciAALQACQQh0IAAtAANycgsnACAAIAFBGHY6AAAgACABQRB2OgABIAAgAUEIdjoAAiAAIAE6AAMLFgAgACABQiCIpxABIABBBGogAacQAQswAQF/IwEgAEE/amohASABQRB2QQFBACABQf//A3Ebaj8AayIBQQBKBEAgAUAAGgsL4QQBGX8gAEHIACAAQcgAakE/cWtqIQEjASAAakGAAToAACMBIAFqQQhrIQIgAEEBaiEUA0AjASAUakEAOgAAIBRBAWoiFCACSQ0ACyACIACtQgOGEAJB58yn0AYhA0GF3Z7beyEEQfLmu+MDIQVBuuq/qnohBkH/pLmIBSEHQYzRldh5IQhBq7OP/AEhCUGZmoPfBSEKQQAhEwNAQQAhFANAIBRBAnQhFSAVIwEgEyAVamoQADYBACAUQQFqIhRBEEkNAAsDQCAUQQ9rQQJ0KAEAIRYgFEECa0ECdCgBACEXIBRBAnQgFEEQa0ECdCgBACAWQQd4IBZBEnggFkEDdnNzaiAUQQdrQQJ0KAEAIBdBEXggF0ETeCAXQQp2c3NqajYBACAUQQFqIhRBwABJDQALIAMhCyAEIQwgBSENIAYhDiAHIQ8gCCEQIAkhESAKIRJBACEUA0AgFEECdCEVIBIgD0EGeCAPQQt4IA9BGXhzcyAPIBBxIA9Bf3MgEXFzaiMAIBVqKAEAIBUoAQBqamohGCALQQJ4IAtBDXggC0EWeHNzIAsgDHEgCyANcSAMIA1xc3NqIRkgESESIBAhESAPIRAgDiAYaiEPIA0hDiAMIQ0gCyEMIBggGWohCyAUQQFqIhRBwABJDQALIAMgC2ohAyAEIAxqIQQgBSANaiEFIAYgDmohBiAHIA9qIQcgCCAQaiEIIAkgEWohCSAKIBJqIQogE0HAAGoiEyABSQ0AC0EAIAMQAUEEIAQQAUEIIAUQAUEMIAYQAUEQIAcQAUEUIAgQAUEYIAkQAUEcIAoQAQsLiAIBAEGAAguAApgvikKRRDdxz/vAtaXbtelbwlY58RHxWaSCP5LVXhyrmKoH2AFbgxK+hTEkw30MVXRdvnL+sd6Apwbcm3Txm8HBaZvkhke+78adwQ/MoQwkbyzpLaqEdErcqbBc2oj5dlJRPphtxjGoyCcDsMd/Wb/zC+DGR5Gn1VFjygZnKSkUhQq3JzghGy78bSxNEw04U1RzCmW7Cmp2LsnCgYUscpKh6L+iS2YaqHCLS8KjUWzHGeiS0SQGmdaFNQ70cKBqEBbBpBkIbDceTHdIJ7W8sDSzDBw5SqrYTk/KnFvzby5o7oKPdG9jpXgUeMiECALHjPr/vpDrbFCk96P5vvJ4ccY=")))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(11),u=new ArrayBuffer(2);new DataView(u).setUint16(0,12),t.VERSION_STRING=r.fromByteArray(new Uint8Array(u))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(1),a=n(5),s=n(8),o=u.readNumber({type:Int16Array,func:"getInt16"});t.ShortType=class extends s.default{static get _value(){return 2}writeValue(e,t){this.isBuffer(e);const n=a.default(t);void 0!==n&&(t=n),r.default.integer(t),r.default.between(-32768,t,32768,"Value out of range");const u=new ArrayBuffer(2);new DataView(u).setInt16(0,t),e.addAll(u)}consumeValue(e,t){return o(e,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(1),a=n(5),s=n(8),o=u.readNumber({type:Int32Array,func:"getInt32"});t.IntType=class extends s.default{static get _value(){return 3}writeValue(e,t){this.isBuffer(e);const n=a.default(t);void 0!==n&&(t=n),r.default.integer(t),r.default.between(-2147483648,t,2147483648,"Value out of range");const u=new ArrayBuffer(4);new DataView(u).setInt32(0,t),e.addAll(u)}consumeValue(e,t){return o(e,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),u=n(26),a=n(8);t.LongType=class extends a.default{static get _value(){return 4}writeValue(e,t){this.isBuffer(e),u.default(e,t)}consumeValue(e,t){return r.readLong(e,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(4),a=n(1),s=n(10),o=n(8);t.BigIntType=class extends o.default{static get _value(){return 5}writeValue(e,t){this.isBuffer(e),r.default.instanceOf(t,String),t=s.normalize(t);const n=[];if(!s.eq(t,"0")){for(;s.gt(t,"127")||s.lt(t,"-128");){const e=s.div(t,s.BYTE_SHIFT,!0),r=s.sub(t,s.mul(e,s.BYTE_SHIFT));n.push(Number(r)),t=e}n.push(Number(t))}const a=new Uint8Array(n.length);for(let e=n.length-1,t=0;e>=0;e--,t++)a[t]=n[e];e.addAll(u.makeValueBuffer(n.length)).addAll(a.buffer)}consumeValue(e,t){const n=a.readFlexInt(e,t),u=n.value;let{length:o}=n;r.default(e.byteLength>=t+o+u,a.NOT_LONG_ENOUGH);const i=new Uint8Array(e,t+o);let l;if(u){l=`${new Int8Array(i)[0]}`;for(let e=1;e<u;e++)l=s.add(s.mul(l,s.BYTE_SHIFT),`${i[e]}`)}else l="0";return{value:l,length:o+=u}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(4),a=n(1),s=n(5),o=n(8);function i(e){return 1&e?(e+1)/-2:e/2}const l=i(Number.MAX_SAFE_INTEGER),f=i(Number.MAX_SAFE_INTEGER-1)+1;t.FlexIntType=class extends o.default{static get _value(){return 7}writeValue(e,t){this.isBuffer(e);const n=s.default(t);void 0!==n&&(t=n),r.default.integer(t),r.default.between(l,t,f),e.addAll(u.makeValueBuffer(function(e){return e<0?-2*e-1:2*e}(t)))}consumeValue(e,t){const{value:n,length:r}=a.readFlexInt(e,t);return{value:i(n),length:r}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(1),a=n(5),s=n(9),o=u.readNumber({type:Uint8Array,func:"getUint8"});t.UnsignedByteType=class extends s.default{static get _value(){return 17}writeValue(e,t){this.isBuffer(e);const n=a.default(t);void 0!==n&&(t=n),r.default.integer(t),r.default.between(0,t,256,"Value out of range"),e.add(t)}consumeValue(e,t){return o(e,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(1),a=n(5),s=n(9),o=u.readNumber({type:Uint16Array,func:"getUint16"});t.UnsignedShortType=class extends s.default{static get _value(){return 18}writeValue(e,t){this.isBuffer(e);const n=a.default(t);void 0!==n&&(t=n),r.default.integer(t),r.default.between(0,t,65536,"Value out of range");const u=new ArrayBuffer(2);new DataView(u).setUint16(0,t),e.addAll(u)}consumeValue(e,t){return o(e,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(1),a=n(5),s=n(9),o=u.readNumber({type:Uint32Array,func:"getUint32"});t.UnsignedIntType=class extends s.default{static get _value(){return 19}writeValue(e,t){this.isBuffer(e);const n=a.default(t);void 0!==n&&(t=n),r.default.integer(t),r.default.between(0,t,4294967296,"Value out of range");const u=new ArrayBuffer(4);new DataView(u).setUint32(0,t),e.addAll(u)}consumeValue(e,t){return o(e,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(1),a=n(10),s=n(9),o="18446744073709551615";t.UnsignedLongType=class extends s.default{static get _value(){return 20}writeValue(e,t){this.isBuffer(e),r.default.instanceOf(t,String),r.default(!(a.gt(t,o)||a.lt(t,"0")),"Value out of range");const n=a.div(t,a.LONG_UPPER_SHIFT),u=a.sub(t,a.mul(n,a.LONG_UPPER_SHIFT)),s=new ArrayBuffer(8),i=new DataView(s);i.setUint32(0,Number(n)),i.setUint32(4,Number(u)),e.addAll(s)}consumeValue(e,t){r.default(e.byteLength>=t+8,u.NOT_LONG_ENOUGH);const n=new DataView(e,t),s=n.getUint32(0),o=n.getUint32(4);return{value:a.add(a.mul(`${s}`,a.LONG_UPPER_SHIFT),`${o}`),length:8}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(4),a=n(1),s=n(10),o=n(9);t.BigUnsignedIntType=class extends o.default{static get _value(){return 21}writeValue(e,t){this.isBuffer(e),r.default.instanceOf(t,String),r.default(!s.isNegative(t),"Value out of range");const n=[];if(!s.eq(t,"0")){for(;s.ge(t,s.BYTE_SHIFT);){const[e,r]=s.quotientRemainderPositive(t,s.BYTE_SHIFT);n.push(Number(r)),t=e}n.push(Number(t))}const a=new Uint8Array(n.length);for(let e=n.length-1,t=0;e>=0;e--,t++)a[t]=n[e];e.addAll(u.makeValueBuffer(n.length)).addAll(a.buffer)}consumeValue(e,t){const n=a.readFlexInt(e,t),u=n.value;let{length:o}=n;r.default(e.byteLength>=t+o+u,a.NOT_LONG_ENOUGH);const i=new Uint8Array(e,t+o);let l="0";for(let e=0;e<u;e++)l=s.add(s.mul(l,s.BYTE_SHIFT),`${i[e]}`);return{value:l,length:o+=u}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4),u=n(1),a=n(5),s=n(9);t.FlexUnsignedIntType=class extends s.default{static get _value(){return 23}writeValue(e,t){this.isBuffer(e);const n=a.default(t);void 0!==n&&(t=n),e.addAll(r.makeValueBuffer(t))}consumeValue(e,t){return u.readFlexInt(e,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(1),a=n(26),s=n(13);t.DateType=class extends s.default{static get _value(){return 26}writeValue(e,t){this.isBuffer(e),r.default.instanceOf(t,Date),a.default(e,`${t.getTime()}`)}consumeValue(e,t){const{value:n,length:r}=u.readLong(e,t);return{value:new Date(Number(n)),length:r}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(27),a=n(1),s=n(13);t.DayType=class extends s.default{static get _value(){return 27}writeValue(e,t){this.isBuffer(e),r.default.instanceOf(t,Date);const n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),a=u.toUTC(n)/u.MILLIS_PER_DAY,s=new ArrayBuffer(3),o=new DataView(s);o.setInt16(0,a>>8),o.setUint8(2,a),e.addAll(s)}consumeValue(e,t){r.default(e.byteLength>=t+3,a.NOT_LONG_ENOUGH);const n=new DataView(e,t),s=n.getInt16(0)<<8|n.getUint8(2);return{value:u.fromUTC(s*u.MILLIS_PER_DAY),length:3}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(27),a=n(1),s=n(13);t.TimeType=class extends s.default{static get _value(){return 28}writeValue(e,t){this.isBuffer(e),r.default.instanceOf(t,Date);const n=new ArrayBuffer(4);new DataView(n).setUint32(0,t.getTime()%u.MILLIS_PER_DAY),e.addAll(n)}consumeValue(e,t){return r.default(e.byteLength>=t+4,a.NOT_LONG_ENOUGH),{value:new Date(new DataView(e).getUint32(t)),length:4}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(1),a=n(5),s=n(28),o=u.readNumber({type:Float32Array,func:"getFloat32"});t.FloatType=class extends s.default{static get _value(){return 32}writeValue(e,t){this.isBuffer(e);const n=a.default(t);void 0!==n&&(t=n),r.default.instanceOf(t,Number);const u=new ArrayBuffer(4);new DataView(u).setFloat32(0,t),e.addAll(u)}consumeValue(e,t){return o(e,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(1),a=n(5),s=n(28),o=u.readNumber({type:Float64Array,func:"getFloat64"});t.DoubleType=class extends s.default{static get _value(){return 33}writeValue(e,t){this.isBuffer(e);const n=a.default(t);void 0!==n&&(t=n),r.default.instanceOf(t,Number);const u=new ArrayBuffer(8);new DataView(u).setFloat64(0,t),e.addAll(u)}consumeValue(e,t){return o(e,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(1),a=n(2);t.BooleanType=class extends a.default{static get _value(){return 48}writeValue(e,t){this.isBuffer(e),r.default.instanceOf(t,Boolean),e.add(t?255:0)}consumeValue(e,t){return u.readBooleanByte(e,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(1),a=n(29),s=n(2);t.BooleanTupleType=class extends s.default{static get _value(){return 49}constructor(e){super(),r.default.byteUnsignedInteger(e),this.length=e}addToBuffer(e){return!!super.addToBuffer(e)&&(e.add(this.length),!0)}writeValue(e,t){this.isBuffer(e),r.default.instanceOf(t,Array),r.default(t.length===this.length,`Length does not match: expected ${this.length} but got ${t.length}`),a.default(e,t)}consumeValue(e,t){return u.readBooleans({buffer:e,offset:t,count:this.length})}equals(e){return super.equals(e)&&e.length===this.length}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(4),a=n(1),s=n(29),o=n(2);t.BooleanArrayType=class extends o.default{static get _value(){return 50}writeValue(e,t){this.isBuffer(e),r.default.instanceOf(t,Array),e.addAll(u.makeValueBuffer(t.length)),s.default(e,t)}consumeValue(e,t){const n=a.readFlexInt(e,t);let{length:r}=n;const u=a.readBooleans({buffer:e,offset:t+r,count:n.value}),{value:s}=u;return{value:s,length:r+=u.length}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(7),a=n(1),s=n(2);t.CharType=class extends s.default{static get _value(){return 64}writeValue(e,t){this.isBuffer(e),r.default.instanceOf(t,String),r.default(1===t.length,"String must contain only 1 character"),e.addAll(u.fromString(t))}consumeValue(e,t){r.default(e.byteLength>t,a.NOT_LONG_ENOUGH);const[n]=u.toString(new Uint8Array(e,t).subarray(0,4));return{value:n,length:u.fromString(n).byteLength}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(7),a=n(1),s=n(2);t.StringType=class extends s.default{static get _value(){return 65}writeValue(e,t){this.isBuffer(e),r.default.instanceOf(t,String),e.addAll(u.fromString(t)).add(0)}consumeValue(e,t){const n=new Uint8Array(e,t);let s=0;for(;r.default(n.length>s,a.NOT_LONG_ENOUGH),n[s];s++);return{value:u.toString(n.subarray(0,s)),length:++s}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(4),a=n(1),s=n(2);t.OctetsType=class extends s.default{static get _value(){return 66}writeValue(e,t){this.isBuffer(e),r.default.instanceOf(t,ArrayBuffer),e.addAll(u.makeValueBuffer(t.byteLength)).addAll(t)}consumeValue(e,t){const n=a.readFlexInt(e,t),{length:u}=n,s=u+n.value;return r.default(e.byteLength>=t+s,a.NOT_LONG_ENOUGH),{value:e.slice(t+u,t+s),length:s}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(7),a=n(1),s=n(6),o=n(2),i=n(3);t.EnumType=class extends i.default{constructor({type:e,values:t}){super(),r.default.instanceOf(e,o.default),r.default.instanceOf(t,Array);try{r.default.byteUnsignedInteger(t.length)}catch(e){r.default.fail(`${t.length} values is too many`)}this.type=e,this.values=t}static get _value(){return 85}get valueIndices(){const{type:e,values:t,cachedValueIndices:n}=this;if(n)return n;const a=new Map;for(let n=0;n<t.length;n++){const o=t[n],i=u.toBinaryString(e.valueBuffer(o));a.has(i)&&r.default.fail("Value is repeated: "+s.inspect(o)),a.set(i,n)}return this.cachedValueIndices=a}addToBuffer(e){if(super.addToBuffer(e)){this.type.addToBuffer(e),e.add(this.values.length);for(const t of this.valueIndices.keys())e.addAll(u.fromBinaryString(t));return!0}return!1}writeValue(e,t){this.isBuffer(e);const n=this.type.valueBuffer(t),r=this.valueIndices.get(u.toBinaryString(n));if(void 0===r)throw new Error("Not a valid enum value: "+s.inspect(t));e.add(r)}consumeValue(e,t){r.default(e.byteLength>t,a.NOT_LONG_ENOUGH);const n=new Uint8Array(e)[t],u=this.values[n];if(void 0===u)throw new Error(`Index ${n} is invalid`);return{value:u,length:1}}equals(e){if(!super.equals(e))return!1;const t=e;if(!this.type.equals(t.type))return!1;if(this.values.length!==t.values.length)return!1;const n=t.valueIndices.keys();for(const e of this.valueIndices.keys())if(n.next().value!==e)return!1;return!0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(1),a=n(6),s=n(2),o=n(3);t.ChoiceType=class extends s.default{constructor(e){super(),r.default.instanceOf(e,Array);try{r.default.byteUnsignedInteger(e.length)}catch(t){r.default.fail(`${e.length} types is too many`)}for(const t of e)r.default.instanceOf(t,o.default);this.types=e}static get _value(){return 86}addToBuffer(e){if(super.addToBuffer(e)){e.add(this.types.length);for(const t of this.types)t.addToBuffer(e);return!0}return!1}writeValue(e,t){this.isBuffer(e),e.pause();let n=!1;for(let r=0;r<this.types.length;r++){const u=this.types[r];e.add(r);try{u.writeValue(e,t),n=!0;break}catch(t){e.reset()}}e.resume(),n||r.default.fail("No types matched: "+a.inspect(t))}consumeValue(e,t){let n=1;r.default(e.byteLength>t,u.NOT_LONG_ENOUGH);const a=new Uint8Array(e)[t],{value:s,length:o}=this.types[a].consumeValue(e,t+n);return{value:s,length:n+=o}}equals(e){if(!super.equals(e))return!1;const t=e;if(this.types.length!==t.types.length)return!1;for(let e=0;e<this.types.length;e++)if(!this.types[e].equals(t.types[e]))return!1;return!0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(7),a=n(31),s=n(1),o=n(6),i=n(2),l=n(12);t.NamedChoiceType=class extends i.default{constructor(e){super(),r.default.instanceOf(e,Map);try{r.default.byteUnsignedInteger(e.size)}catch(t){r.default.fail(`${e.size} types is too many`)}this.indexConstructors=new Map,this.constructorTypes=new Array(e.size);const t=new Set;for(const[n,a]of e){r.default.instanceOf(n,Function);const{name:e}=n;r.default(""!==e,"Function does not have a name"),r.default(!t.has(e),`Function name "${e}" is repeated`),t.add(e);const s=u.fromString(e);try{r.default.byteUnsignedInteger(s.byteLength)}catch(t){r.default.fail(`Function name "${e}" is too long`)}r.default.instanceOf(a,l.StructType);const o=this.indexConstructors.size;this.indexConstructors.set(o,n),this.constructorTypes[o]={nameBuffer:s,type:a}}}static get _value(){return 88}addToBuffer(e){if(super.addToBuffer(e)){e.add(this.constructorTypes.length);for(const{nameBuffer:t,type:n}of this.constructorTypes)e.add(t.byteLength).addAll(t),n.addToBuffer(e);return!0}return!1}writeValue(e,t){let n;this.isBuffer(e),r.default.instanceOf(t,Object);for(const[e,r]of this.indexConstructors)if(t instanceof r){n=e;break}if(void 0===n)throw new Error("No types matched: "+o.inspect(t));e.add(n);const{type:u}=this.constructorTypes[n];u.writeValue(e,t)}consumeValue(e,t){let n=1;r.default(e.byteLength>t,s.NOT_LONG_ENOUGH);const u=new Uint8Array(e)[t],o=this.indexConstructors.get(u);if(!o)throw new Error(`Constructor index ${u} is invalid`);const i=a.get(o.name),{value:l,length:f}=this.constructorTypes[u].type.consumeValue(e,t+n,new i);return{value:l,length:n+=f}}equals(e){if(!super.equals(e))return!1;const t=e;if(this.constructorTypes.length!==t.constructorTypes.length)return!1;for(let e=0;e<this.constructorTypes.length;e++){const n=this.constructorTypes[e],u=t.constructorTypes[e];if(!n.type.equals(u.type))return!1;try{r.default.equal(u.nameBuffer,n.nameBuffer)}catch(e){return!1}}return!0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(4),a=n(1),s=n(22),o=n(15),i=n(2),l=new WeakMap,f=new WeakMap,c=new WeakMap;t.RecursiveType=class extends i.default{constructor(e){super(),r.default.instanceOf(e,String),this.name=e}static get _value(){return 87}get type(){return o.getType(this.name)}addToBuffer(e){if(super.addToBuffer(e)){let t=f.get(e);t||(t=new Map,f.set(e,t));let n=t.get(this.name);const r=void 0===n;return r&&(n=t.size,t.set(this.name,n)),e.addAll(u.makeValueBuffer(n)),r&&(s.increment(e),this.type.addToBuffer(e),s.decrement(e)),!0}return!1}writeValue(e,t){this.isBuffer(e);let n=l.get(e);if(n){const r=n.get(t);if(void 0!==r){e.add(0);const t=e.length-r;return void e.addAll(u.makeValueBuffer(t))}}else n=new Map,l.set(e,n);e.add(255),n.set(t,e.length);try{this.type.writeValue(e,t)}catch(e){throw n.delete(t),e}}consumeValue(e,t){const n=a.readBooleanByte(e,t);let r,{length:u}=n;if(n.value){r=a.makeBaseValue(this.type);let n=c.get(e);n||(n=new Map,c.set(e,n)),n.set(t+u,r),u+=this.type.consumeValue(e,t+u,r).length}else{const n=a.readFlexInt(e,t+u),s=t+u-n.value,o=c.get(e).get(s);if(!o)throw new Error(`Cannot find target at ${s}`);r=o,u+=n.length}return{value:r,length:u}}equals(e){return super.equals(e)&&this.name===e.name}setType(e){o.registerType({type:e,name:this.name})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(6),a=n(3);t.SingletonType=class extends a.default{constructor({type:e,value:t}){super(),r.default.instanceOf(e,a.default),this.type=e,this.value=t}static get _value(){return 89}get singletonValueBuffer(){return this.cachedValueBuffer||(this.cachedValueBuffer=this.type.valueBuffer(this.value))}addToBuffer(e){return!!super.addToBuffer(e)&&(this.type.addToBuffer(e),e.addAll(this.singletonValueBuffer),!0)}writeValue(e,t){this.isBuffer(e);try{r.default.equal(this.type.valueBuffer(t),this.singletonValueBuffer)}catch(e){r.default.fail(`Expected ${u.inspect(this.value)} but got ${u.inspect(t)}`)}}consumeValue(){return{value:this.value,length:0}}equals(e){if(!super.equals(e))return!1;const t=e;if(!this.type.equals(t.type))return!1;try{r.default.equal(this.value,t.value)}catch(e){return!1}return!0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(1),a=n(2),s=n(3);t.OptionalType=class extends a.default{constructor(e){super(),r.default.instanceOf(e,s.default),this.type=e}static get _value(){return 96}addToBuffer(e){return!!super.addToBuffer(e)&&(this.type.addToBuffer(e),!0)}writeValue(e,t){switch(this.isBuffer(e),t){case null:case void 0:e.add(0);break;default:e.add(255),this.type.writeValue(e,t)}}consumeValue(e,t){const n=u.readBooleanByte(e,t);let r,{length:a}=n;if(n.value){const n=this.type.consumeValue(e,t+a);({value:r}=n),a+=n.length}else r=null;return{value:r,length:a}}equals(e){return super.equals(e)&&this.type.equals(e.type)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(7),a=n(4),s=n(1),o=n(2),i=n(3),l=new WeakMap,f=new WeakMap;t.PointerType=class extends i.default{constructor(e){super(),r.default.instanceOf(e,o.default),this.type=e}static get _value(){return 112}addToBuffer(e){return!!super.addToBuffer(e)&&(this.type.addToBuffer(e),!0)}writeValue(e,t){this.isBuffer(e);let n=l.get(e);n||(n=new Map,l.set(e,n));const r=this.type.valueBuffer(t),s=u.toBinaryString(r),o=n.get(s);if(n.set(s,e.length),void 0===o)e.add(0).addAll(r);else{const t=e.length-o;e.addAll(a.makeValueBuffer(t))}}consumeValue(e,t){let n=1,r=!0;for(;;){const u=s.readFlexInt(e,t),a=u.value;if(!a)break;r&&(({length:n}=u),r=!1),t-=a}let u=f.get(e);u||(u=new Map,f.set(e,u));let a=u.get(this);a||(a=new Map,u.set(this,a));let o=a.get(t);if(void 0===o){const u=this.type.consumeValue(e,t+n);({value:o}=u),r&&(n+=u.length),a.set(t,o)}return{value:o,length:n}}equals(e){return super.equals(e)&&this.type.equals(e.type)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),u=n(7),a=n(30),s=n(31),o=n(1),i=n(6),l=n(15),f=n(14),c=[];{const e=n(3).default.prototype.addToBuffer,t=f;for(const n in t){const r=t[n];r.prototype.addToBuffer===e&&c.push(r)}}const d=new Map;for(const e of c)d.set(e._value,e);const h=16,y=new WeakMap;function g(e,t){r.default(t>=0,`Offset is negative: ${t}`);const n=new Uint8Array(e);r.default(e.byteLength>t,o.NOT_LONG_ENOUGH);const c=n[t];let p,A=1;const v=d.get(c);if(v)return{value:new v,length:A};switch(c){case f.BooleanTupleType._value:{r.default(e.byteLength>t+A,o.NOT_LONG_ENOUGH);const u=n[t+A];A++,p=new f.BooleanTupleType(u);break}case f.TupleType._value:{const u=g(e,t+A);A+=u.length,r.default(e.byteLength>t+A,o.NOT_LONG_ENOUGH);const a=n[t+A];A++,p=new f.TupleType({type:u.value,length:a});break}case f.StructType._value:{r.default(e.byteLength>t+A,o.NOT_LONG_ENOUGH);const a=n[t+A];A++;const s={};for(let i=0;i<a;i++){r.default(e.byteLength>t+A,o.NOT_LONG_ENOUGH);const a=n[t+A],i=t+ ++A,l=i+a;r.default(e.byteLength>=l,o.NOT_LONG_ENOUGH);const f=u.toString(n.subarray(i,l));A+=a;const c=g(e,l);s[f]=c.value,A+=c.length}p=new f.StructType(s);break}case f.ArrayType._value:{const n=g(e,t+A);A+=n.length,p=new f.ArrayType(n.value);break}case f.SetType._value:{const n=g(e,t+A);A+=n.length,p=new f.SetType(n.value);break}case f.MapType._value:{const n=g(e,t+A),r=g(e,t+(A+=n.length));A+=r.length,p=new f.MapType(n.value,r.value);break}case f.EnumType._value:{const u=g(e,t+A),a=u.value;A+=u.length,r.default(e.byteLength>t+A,o.NOT_LONG_ENOUGH);const s=n[t+A];A++;const i=new Array(s);for(let n=0;n<s;n++){const r=t+A,u=a.consumeValue(e,r);A+=u.length,i[n]=u.value}p=new f.EnumType({type:a,values:i});break}case f.ChoiceType._value:{r.default(e.byteLength>t+A,o.NOT_LONG_ENOUGH);const u=n[t+A];A++;const a=new Array(u);for(let n=0;n<u;n++){const r=g(e,t+A);a[n]=r.value,A+=r.length}p=new f.ChoiceType(a);break}case f.NamedChoiceType._value:{r.default(e.byteLength>t+A,o.NOT_LONG_ENOUGH);const a=n[t+A];A++;const l=new Map;for(let c=0;c<a;c++){r.default(e.byteLength>t+A,o.NOT_LONG_ENOUGH);const a=n[t+A],c=t+ ++A,d=c+a;r.default(e.byteLength>=d,o.NOT_LONG_ENOUGH);const h=u.toString(n.subarray(c,d));A+=a;const y=g(e,d);if(!(y.value instanceof f.StructType))throw new Error("Not a StructType: "+i.inspect(y.value));l.set(s.get(h),y.value),A+=y.length}p=new f.NamedChoiceType(l);break}case f.RecursiveType._value:{const n=o.readFlexInt(e,t+A),r=n.value;A+=n.length;let u,a=y.get(e);if(a?u=a.get(r):(a=new Map,y.set(e,a)),void 0===u){do{u="read-type";for(let e=0;e<h;e++)u+=Math.floor(16*Math.random()).toString(16)}while(l.isRegistered(u));a.set(r,u);const n=g(e,t+A);A+=n.length,l.registerType({type:n.value,name:u})}p=new f.RecursiveType(u);break}case f.SingletonType._value:{const n=g(e,t+A);A+=n.length;const r=n.value,u=r.consumeValue(e,t+A);A+=u.length,p=new f.SingletonType({type:r,value:u.value});break}case f.OptionalType._value:{const n=g(e,t+A);A+=n.length,p=new f.OptionalType(n.value);break}case f.PointerType._value:{const n=g(e,t+A);A+=n.length,p=new f.PointerType(n.value);break}case a.REPEATED_TYPE:{const n=o.readFlexInt(e,t+A);p=g(e,t+A-n.value).value,A+=n.length;break}default:throw new Error(`No such type: 0x${i.hexByte(n[t])}`)}return{value:p,length:A}}t._consumeType=g,t.type=function(e,t=!0){r.default.instanceOf(e,ArrayBuffer);const{value:n,length:u}=g(e,0);return t&&r.default(u===e.byteLength,"Did not consume all of the buffer"),n}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(11),u=n(16),a=n(65),s={};if(localStorage.typeCache){const e=JSON.parse(localStorage.typeCache);for(const t in e)s[t]={sig:e[t].sig,type:a.type(r.toByteArray(e[t].type).buffer)}}t.download=function({name:e,url:t,options:n}){u.assert.instanceOf(e,String),u.assert.instanceOf(t,String),n=n||{},u.assert.instanceOf(n,Object);const o=s[e];if(o){if(n.headers){const{headers:e}=n;e.constructor!==Headers&&(n.headers=new Headers(e))}else n.headers=new Headers;n.headers.set("sig",s[e].sig)}return fetch(t,n).then(t=>{if(!t.ok)throw new Error(`Received status of ${t.status}`);const n=t.headers.get("sig");return o&&o.sig===n?t.arrayBuffer().then(e=>{const t=o.type.readValue(e);return Promise.resolve(t)}):t.arrayBuffer().then(t=>{const u=a._consumeType(t,0),o=u.value,i=o.readValue(t,u.length);return s[e]={sig:n,type:o},function(){const e={};for(const t in s)e[t]={sig:s[t].sig,type:r.fromByteArray(new Uint8Array(s[t].type.toBuffer()))};localStorage.typeCache=JSON.stringify(e)}(),Promise.resolve(i)})})},function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(16)),window.sb=t}]);