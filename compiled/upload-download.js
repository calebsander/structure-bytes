require=function e(t,r,n){function a(o,u){if(!r[o]){if(!t[o]){var s="function"==typeof require&&require;if(!u&&s)return s(o,!0);if(i)return i(o,!0);var f=Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=r[o]={exports:{}};t[o][0].call(l.exports,function(e){var r=t[o][1][e];return a(r?r:e)},l,l.exports,e,t,r,n)}return r[o].exports}for(var i="function"==typeof require&&require,o=0;o<n.length;o++)a(n[o]);return a}({"/client-side/binary-ajax.js":[function(e,t,r){"use strict";!function(e){e.ajaxTransport("+*",function(e){if(window.FormData&&(e.dataType&&("blob"==e.dataType||"arraybuffer"==e.dataType)||e.data&&(window.Blob&&e.data instanceof Blob||window.ArrayBuffer&&e.data instanceof ArrayBuffer))){var t;return{send:function(r,n){var a=e.url||window.location.href,i=e.type||"GET",o=e.dataType||"text",u=e.data||null,s=e.async||!0;t=new XMLHttpRequest,t.addEventListener("load",function(){var e={},r=t.status>=200&&t.status<300||304===t.status;r?e[o]=t.response:e.text=t.statusText,n(t.status,t.statusText,e,t.getAllResponseHeaders())}),t.open(i,a,s),t.responseType=o;for(var f in r)r.hasOwnProperty(f)&&t.setRequestHeader(f,r[f]);t.send(u)},abort:function(){t&&t.abort()}}}})}(jQuery)},{}],"/client-side/common.js":[function(e,t,r){"use strict";var n=e("/lib/assert.js");if(n.instanceOf(window.Map,Function),n.instanceOf(window.Set,Function),n.instanceOf(window.ArrayBuffer,Function),n.instanceOf(window.Uint8Array,Function),n.instanceOf(window.Symbol,Function),e("/client-side/binary-ajax.js"),void 0===window.sb)window.sb=e("/structure-types.js");else if(!(window.sb instanceof Object))throw Error("window.sb is already defined")},{"/client-side/binary-ajax.js":"/client-side/binary-ajax.js","/lib/assert.js":"/lib/assert.js","/structure-types.js":"/structure-types.js"}],"/config.js":[function(e,t,r){(function(r){"use strict";"/"===r&&(r="");var n=e(r+"/lib/assert.js"),a=e("base64-js"),i=8;n.between(0,i,65536);var o=2,u=new ArrayBuffer(o);new DataView(u).setUint16(0,i);var s=a.fromByteArray(new Uint8Array(u));t.exports={VERSION_STRING:s}}).call(this,"/")},{"base64-js":2}],"/lib/assert.js":[function(e,t,r){"use strict";var n=e("/lib/util-inspect.js"),a={instanceOf:function(e,t){t instanceof Array||(t=[t]);var r=!1,a=!0,i=!1,o=void 0;try{for(var u,s=t[Symbol.iterator]();!(a=(u=s.next()).done);a=!0){var f=u.value;if(e instanceof f||void 0!==e&&null!==e&&e.constructor===f){r=!0;break}}}catch(e){i=!0,o=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw o}}if(!r)throw new TypeError(n.inspect(e)+" is not an instance of "+t.map(function(e){return e.name}).join(" or "))},integer:function(e){if(a.instanceOf(e,Number),!Number.isSafeInteger(e))throw new RangeError(n.inspect(e)+" is not an integer")},between:function(e,t,r,a){if(t<e||t>=r){var i=n.inspect(t)+" is not in ["+n.inspect(e)+","+n.inspect(r)+")";throw void 0===a?new RangeError(i):new RangeError(a+" ("+i+")")}},byteUnsignedInteger:function(e){a.integer(e),a.between(0,e,256)},twoByteUnsignedInteger:function(e){a.integer(e),a.between(0,e,65536)},fourByteUnsignedInteger:function(e){a.integer(e),a.between(0,e,4294967296)},fail:function(e){throw Error(e)},assert:function(e,t){e||a.fail(t)},throws:function(e,t){var r=!0;try{e(),r=!1}catch(e){void 0!==t&&a.message(e,t)}a.assert(r,"Should throw an error")},equal:function(e,t){var r=new RangeError("Expected "+n.inspect(t)+" but got "+n.inspect(e));if(t&&t.constructor===Object){for(var i in t)if(t.hasOwnProperty(i))try{a.equal(e[i],t[i])}catch(e){throw r}}else if(t&&t.constructor===Array){if(!e||e.constructor!==Array)throw r;try{a.equal(e.length,t.length)}catch(e){throw r}for(var o=0;o<t.length;o++)try{a.equal(e[o],t[o])}catch(e){throw r}}else if(t&&t.constructor===Map){if(!e||e.constructor!==Map)throw r;try{a.equal(e.size,t.size)}catch(e){throw r}for(var u=t.entries(),s=e.entries(),f=void 0;!(f=u.next()).done;)try{a.equal(f.value,s.next().value)}catch(e){throw r}}else if(t&&t.constructor===Set){if(!e||e.constructor!==Set)throw r;try{a.equal(e.size,t.size)}catch(e){throw r}for(var l=t.values(),c=e.values(),y=void 0;!(y=l.next()).done;)try{a.equal(y.value,c.next().value)}catch(e){throw r}}else if(t&&t.constructor===ArrayBuffer){if(!e||e.constructor!==ArrayBuffer)throw r;try{a.equal(e.byteLength,t.byteLength)}catch(e){throw r}e=new Uint8Array(e),t=new Uint8Array(t);try{for(var h=0;h<t.length;h++)a.equal(e[h],t[h])}catch(e){throw r}}else if(void 0!==t&&null!==t&&t.equals instanceof Function){var v=void 0;try{v=t.equals(e)}catch(e){throw Error("equals() is not implemented for "+n.inspect(t))}if(!v)throw r}else if(t!==e)throw r},message:function(e,t){a.instanceOf(t,String),a.assert(e&&e.message.startsWith(t),'Message "'+(e?e.message:"No error thrown")+'" does not start with "'+t+'"')}};t.exports=a},{"/lib/util-inspect.js":"/lib/util-inspect.js"}],"/lib/bit-math.js":[function(e,t,r){"use strict";t.exports={dividedByEight:function(e){return e>>>3},modEight:function(e){return 7&e}}},{}],"/lib/buffer-string.js":[function(e,t,r){(function(r){"use strict";var n=e(r+"/assert.js"),a=e(r+"/growable-buffer.js"),i=4096;t.exports={toString:function(e){e&&e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),n.instanceOf(e,Uint8Array);for(var t=[],r=0;r<e.length;){var a=e[r],o=void 0,u=a>239?4:a>223?3:a>191?2:1;if(r+u<=e.length){var s=void 0,f=void 0,l=void 0,c=void 0;switch(u){case 1:a<128&&(o=a);break;case 2:s=e[r+1],128===(192&s)&&(c=(31&a)<<6|63&s,c>127&&(o=c));break;case 3:s=e[r+1],f=e[r+2],128===(192&s)&&128===(192&f)&&(c=(15&a)<<12|(63&s)<<6|63&f,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:s=e[r+1],f=e[r+2],l=e[r+3],128===(192&s)&&128===(192&f)&&128===(192&l)&&(c=(15&a)<<18|(63&s)<<12|(63&f)<<6|63&l,c>65535&&c<1114112&&(o=c))}}void 0===o?(o=65533,u=1):o>65535&&(o-=65536,t.push(o>>>10&1023|55296),o=56320|1023&o),t.push(o),r+=u}for(var y="",h=0;h<t.length;h+=i)y+=String.fromCharCode.apply(String,t.slice(h,h+i));return y},fromString:function(e){n.instanceOf(e,String);var t=new a,r=!0,i=!1,o=void 0;try{for(var u,s=e[Symbol.iterator]();!(r=(u=s.next()).done);r=!0){var f=u.value,l=f.charCodeAt(0);l<128?t.add(l):l<2048?(t.add(192|l>>6),t.add(128|63&l)):l<55296||l>=57344?(t.add(224|l>>12),t.add(128|l>>6&63),t.add(128|63&l)):(l=65536+((1023&l)<<10|1023&l),t.add(240|l>>18),t.add(128|l>>12&63),t.add(128|l>>6&63),t.add(128|63&l))}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return t.toBuffer()},toBinaryString:function(e){n.instanceOf(e,ArrayBuffer);var t="",r=new Uint8Array(e),a=!0,i=!1,o=void 0;try{for(var u,s=r[Symbol.iterator]();!(a=(u=s.next()).done);a=!0){var f=u.value;t+=String.fromCharCode(f)}}catch(e){i=!0,o=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw o}}return t},fromBinaryString:function(e){n.instanceOf(e,String);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),a=0;a<e.length;a++)r[a]=e[a].charCodeAt(0);return t}}}).call(this,"/lib")},{}],"/lib/growable-buffer.js":[function(e,t,r){(function(r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=e(r+"/assert.js"),o=10,u=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?o:arguments[0];n(this,e);try{i.integer(t),i.between(0,t,Number.MAX_SAFE_INTEGER+1)}catch(e){throw new RangeError(t+" is not a valid buffer length")}this.buffer=new ArrayBuffer(t),this.size=0}return a(e,[{key:"grow",value:function(e){if(i.integer(e),e>this.buffer.byteLength){var t=new ArrayBuffer(e<<1);new Uint8Array(t).set(new Uint8Array(this.buffer).subarray(0,this.size)),this.buffer=t}return this}},{key:"set",value:function(e,t){i.integer(e),i.integer(t),i.between(0,e,this.size,"Index out of bounds: "+(e+"")),i.between(0,t,256,"Not a byte: "+(t+""));var r=new Uint8Array(this.buffer);return r[e]=t,this}},{key:"setAll",value:function(e,t){i.instanceOf(t,ArrayBuffer),i.integer(e),i.between(0,e,this.size-t.byteLength+1,"Index out of bounds: "+(e+"")),new Uint8Array(this.buffer).set(new Uint8Array(t),e)}},{key:"get",value:function(e){return i.integer(e),i.between(0,e,this.size,"Index out of bounds: "+(e+"")),new Uint8Array(this.buffer)[e]}},{key:"add",value:function(e){var t=this.size,r=t+1;this.grow(r),this.size=r;var n=new Uint8Array(this.buffer);return n[t]=e,this}},{key:"addAll",value:function(e){i.instanceOf(e,ArrayBuffer);var t=this.size,r=this.size+e.byteLength;return this.grow(r),this.size=r,new Uint8Array(this.buffer).set(new Uint8Array(e),t),this}},{key:"toBuffer",value:function(){return this.buffer.slice(0,this.size)}},{key:"length",get:function(){return this.size}},{key:"rawBuffer",get:function(){return this.buffer}}]),e}();t.exports=u}).call(this,"/lib")},{}],"/lib/strint.js":[function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a={};!function(){function e(e,t){return S(e)===S(t)}function t(e,t){for(;t>0;)e+="0",t--;return e}function r(e){f(e,"string")}function i(e){r(e),s(e,S,"isPositive")}function o(e){f(e,"number")}function u(e){if(f(e,"number"),e<0)throw Error("Expected a positive number: "+e)}function s(e,t,r){if(!t.call(null,e))throw Error("Condition "+r+" failed for value "+e)}function f(e,t){if((void 0===e?"undefined":n(e))!==t)throw Error("Not a "+t+": "+e)}var l=a.subPositive=function(e,t){if(i(e),i(t),!O(e,t))throw Error("x must be greater or equal to y");for(var r=Math.max(e.length,t.length),n="",a=0,o=0,u=0;u<r;u++){var s=+P(e,u)-a;a=0;for(var f=+P(t,u);s<f;)s+=10,a++;var l=s-f+"";"0"!==l?(n=l+V(n,o),o=0):o++}return 0===n.length?"0":n},c=function(e,t){if(i(e),i(t),b(e,"0")&&b(t,"0"))return"0";for(var r=Math.max(e.length,t.length),n="",a=0,o=0,u=0;u<r;u++){var s=+P(e,u),f=+P(t,u),l=s+f+a;for(a=0;l>=10;)l-=10,a++;0===l?o++:(n=l+""+V(n,o),o=0)}return a>0&&(n=a+""+V(n,o)),n},y=a.add=function(e,t){if(r(e),r(t),S(e)&&S(t))return c(e,t);if(B(e)&&B(t))return k(c(m(e),m(t)));if(T(m(e),m(t))){var n=e;e=t,t=n}var a=l(m(e),m(t));return S(e)?a:k(a)},h=a.sub=function(e,t){return r(e),r(t),y(e,k(t))},v=a.timesDigit=function(e,t){i(e),o(t);for(var r="",n=I(e),a=0,u=0,s=0;s<n;s++){var f=+P(e,s)*t+a;for(a=0;f>=10;)f-=10,a++;0===f?u++:(r=f+""+V(r,u),u=0)}return a>0&&(r=a+""+V(r,u)),0===r.length?"0":r},g=a.mulPositive=function(e,r){i(e),i(r);for(var n="0",a=I(r),o=0;o<a;o++){var u=v(e,+P(r,o));u=t(u,o),n=c(n,u)}return n},d=a.mul=function(t,n){if(r(t),r(n),b(t,"0")||b(n,"0"))return"0";var a=g(m(t),m(n));return e(t,n)?a:k(a)},p=a.quotientRemainderPositive=function(e,r){if(i(e),i(r),b(e,r))return["1","0"];if(A(r,e))return["0",x(e)];for(var n="0",a=e.length-r.length;;){for(var o=e.slice(0,e.length-a);O(o,r);)o=h(o,r),n=y(n,"1");if(e=o+e.slice(e.length-a),A(r,e))return n=t(n,a),[n,x(e)];if(a--,n=t(n,1),a<0)throw Error("Illegal state")}};a.div=function(t,n){var a=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];r(t),r(n);var i=p(m(t),m(n))[0];return e(t,n)||(i=k(i)),a&&!b(d(i,n),t)&&B(i)&&(i=h(i,"1")),i};var b=a.eq=function(e,t){return x(e)===x(t)},w=function(e,t){if(B(e)||B(t))throw Error("Both operands must be positive: "+e+" "+t);var r=Math.max(e.length,t.length),n=_(e,r),a=_(t,r);return n<a},T=a.lt=function(e,t){return!(!B(e)||!S(t))||(!S(e)||!B(t))&&(B(e)&&B(t)?!b(e,t)&&!w(m(e),m(t)):w(e,t))},O=a.ge=function(e,t){return!T(e,t)},A=a.gt=function(e,t){return!b(e,t)&&O(e,t)},B=a.isNegative=function(e){return r(e),0===e.indexOf("-")},S=a.isPositive=function(e){return!B(e)},m=a.abs=function(e){return B(e)?k(e):e},k=a.negate=function(e){return"0"===e?"0":B(e)?e.slice(1):"-"+e},j=/^(-?)0*([1-9][0-9]*)$/,U=/^0+$/,x=a.normalize=function(e){if(U.test(e))return"0";var t=j.exec(e);if(!t)throw Error("Illegal strint format: "+e);return t[1]+t[2]},_=function(e,t){return i(e),u(t),V(e,t-e.length)},V=function(e,t){i(e),u(t);for(var r=e,n=0;n<t;n++)r="0"+r;return r},P=function(e,t){return r(e),o(t),t>=I(e)?"0":e.charAt(e.length-t-1)},I=function(e){return B(e)?e.length-1:e.length}}(),a.LONG_UPPER_SHIFT="4294967296",a.BYTE_SHIFT="256",t.exports=a},{}],"/lib/util-inspect.js":[function(e,t,r){"use strict";r.inspect=function(e){if(void 0===e)return"undefined";if(null===e||e.constructor===Object||e.constructor===Array||e.constructor===String||e.constructor===Number||e.constructor===Boolean||e.constructor===Date)return JSON.stringify(e);if(e.constructor===Set){for(var t="Set {",n=e.values(),a=n.next();!a.done;)t+=r.inspect(a.value),a=n.next(),a.done||(t+=", ");return t+"}"}if(e.constructor===Map){for(var i="Map {",o=e.entries(),u=o.next();!u.done;)i+=r.inspect(u.value[0]),i+=" => ",i+=r.inspect(u.value[1]),u=o.next(),u.done||(i+=", ");return i+"}"}return e.constructor.name?e.constructor.name+" "+JSON.stringify(e):JSON.stringify(e)}},{}],"/read.js":[function(e,t,r){(function(r){"use strict";function n(e,t){try{return{value:new DataView(e).getUint32(t),length:4}}catch(e){l.fail(d)}}function a(e,t){return e.length<t?"0".repeat(t-e.length)+e:e}function i(e,t){l.assert(t>=0,"Offset is negative: "+(t+"")),l.assert(e.byteLength>t,d);var r=void 0,o=1,u=new Uint8Array(e)[t],f=!0,c=!1,h=void 0;try{for(var g,b=p[Symbol.iterator]();!(f=(g=b.next()).done);f=!0){var w=g.value;if(u===w._value)return{value:new w,length:o}}}catch(e){c=!0,h=e}finally{try{!f&&b.return&&b.return()}finally{if(c)throw h}}switch(u){case v.BooleanTupleType._value:var T=n(e,t+o);r=new v.BooleanTupleType(T.value),o+=T.length;break;case v.TupleType._value:var O=i(e,t+o);o+=O.length;var A=n(e,t+o);o+=A.length,r=new v.TupleType({type:O.value,length:A.value});break;case v.StructType._value:l.assert(e.byteLength>t+o,d);var B=new Uint8Array(e),S=B[t+o];o++;for(var m={},k=0;k<S;k++){l.assert(e.byteLength>t+o,d);var j=B[t+o];o++,l.assert(e.byteLength>=t+o+j,d);var U=y.toString(B.subarray(t+o,t+o+j));o+=j;var x=i(e,t+o);m[U]=x.value,o+=x.length}r=new v.StructType(m);break;case v.ArrayType._value:var _=i(e,t+o);o+=_.length,r=new v.ArrayType(_.value);break;case v.SetType._value:var V=i(e,t+o);o+=V.length,r=new v.SetType(V.value);break;case v.MapType._value:var P=i(e,t+o);o+=P.length;var I=i(e,t+o);o+=I.length,r=new v.MapType(P.value,I.value);break;case v.EnumType._value:var E=i(e,t+o);o+=E.length,l.assert(e.byteLength>t+o,d);var L=new Uint8Array(e)[t+o];o++;for(var D=[],C=0;C<L;C++){var N=t+o,F=s({buffer:e,pointerStart:N,offset:N,type:E.value});o+=F.length,D[C]=F.value}r=new v.EnumType({type:E.value,values:D});break;case v.ChoiceType._value:l.assert(e.byteLength>t+o,d);var H=new Uint8Array(e)[t+o];o++;for(var q=Array(H),R=0;R<H;R++){var M=i(e,t+o);q[R]=M.value,o+=M.length}r=new v.ChoiceType(q);break;case v.OptionalType._value:var z=i(e,t+o);o+=z.length,r=new v.OptionalType(z.value);break;case v.PointerType._value:var G=i(e,t+o);o+=G.length,r=new v.PointerType(G.value);break;case v.REPEATED_TYPE:var Y=o+2;l.assert(e.byteLength>=t+Y,d);var J=new DataView(e).getUint16(t+o),$=i(e,t+o-J);r=$.value,o=Y;break;default:l.fail("No such type: 0x"+a(new Uint8Array(e)[t].toString(16),2))}return{value:r,length:o}}function o(e){var t=arguments.length<=1||void 0===arguments[1]||arguments[1];l.instanceOf(e,ArrayBuffer);var r=i(e,0),n=r.value,a=r.length;return t&&l.assert(a===e.byteLength,"Did not consume all of the buffer"),n}function u(e){var t=e.buffer,r=e.offset,n=e.count,a=Array(n),i=c.modEight(a.length),o=c.dividedByEight(a.length),u=void 0;u=i?o+1:o,l.assert(t.byteLength>=r+u,d);for(var s=new Uint8Array(t),f=0;f<u;f++)for(var y=s[r+f],h=0;h<8;h++){var v=8*f+h;if(v===a.length)break;a[v]=!!(y&1<<c.modEight(~c.modEight(h)))}return{value:a,length:u}}function s(e){var t=e.buffer,r=e.pointerStart,a=e.offset,i=e.type,o=void 0,f=void 0;switch(i.constructor){case v.ByteType:f=1,l.assert(t.byteLength>=a+f,d),o=new Int8Array(t)[a];break;case v.ShortType:f=2,l.assert(t.byteLength>=a+f,d);var c=new DataView(t);o=c.getInt16(a);break;case v.IntType:f=4;var p=new DataView(t);o=p.getInt32(a);break;case v.LongType:f=8,l.assert(t.byteLength>=a+f,d);var b=new DataView(t),w=b.getInt32(a),T=b.getUint32(a+4);o=h.add(h.mul(w+"",h.LONG_UPPER_SHIFT),T+"");break;case v.BigIntType:f=2,l.assert(t.byteLength>=a+f,d);var O=new DataView(t),A=O.getUint16(a);l.assert(t.byteLength>=a+f+A,d),o=A?O.getInt8(a+f)+"":"0";for(var B=1;B<A;B++)B&&(o=h.mul(o,h.BYTE_SHIFT)),o=h.add(o,O.getUint8(a+f+B)+"");f+=A;break;case v.UnsignedByteType:f=1,l.assert(t.byteLength>=a+f,d),o=new Uint8Array(t)[a];break;case v.UnsignedShortType:f=2,l.assert(t.byteLength>=a+f,d),o=new DataView(t).getUint16(a);break;case v.UnsignedIntType:f=4,l.assert(t.byteLength>=a+f,d),o=new DataView(t).getUint32(a);break;case v.UnsignedLongType:case v.DateType:f=8,l.assert(t.byteLength>=a+f,d);var S=new DataView(t),m=S.getUint32(a),k=S.getUint32(a+4);o=h.add(h.mul(m+"",h.LONG_UPPER_SHIFT),k+""),i.constructor===v.DateType&&(o=new Date(+o));break;case v.BigUnsignedIntType:f=2,l.assert(t.byteLength>=a+f,d);var j=new DataView(t),U=j.getUint16(a);l.assert(t.byteLength>=a+f+U,d),o="0";for(var x=0;x<U;x++)x&&(o=h.mul(o,h.BYTE_SHIFT)),o=h.add(o,j.getUint8(a+f+x)+"");f+=U;break;case v.FloatType:f=4,l.assert(t.byteLength>=a+f,d),o=new DataView(t).getFloat32(a);break;case v.DoubleType:f=8,l.assert(t.byteLength>=a+f,d),o=new DataView(t).getFloat64(a);break;case v.BooleanType:f=1,l.assert(t.byteLength>=a+f,d);var _=new Uint8Array(t)[a];l.assert(0===_||255===_,"0x"+_.toString(16)+" is an invalid Boolean value"),o=!!_;break;case v.BooleanArrayType:var V=n(t,a);f=V.length;var P=u({buffer:t,offset:a+f,count:V.value});f+=P.length,o=P.value;break;case v.BooleanTupleType:var I=u({buffer:t,offset:a,count:i.length});o=I.value,f=I.length;break;case v.CharType:l.assert(t.byteLength>a,d),o=y.toString(new Uint8Array(t).subarray(a,a+4))[0],f=y.fromString(o).byteLength;break;case v.StringType:var E=new Uint8Array(t);for(f=0;l.assert(t.byteLength>a+f,d),E[a+f];f++);o=y.toString(new Uint8Array(t).subarray(a,a+f)),f++;break;case v.OctetsType:var L=n(t,a);f=L.length;var D=f+L.value;l.assert(t.byteLength>=a+D,d),o=t.slice(a+f,a+D),f=D;break;case v.TupleType:f=0,o=Array(i.length);for(var C=0;C<i.length;C++){var N=s({buffer:t,pointerStart:r,offset:a+f,type:i.type});f+=N.length,o[C]=N.value}break;case v.StructType:f=0,o={};var F=!0,H=!1,q=void 0;try{for(var R,M=i.fields[Symbol.iterator]();!(F=(R=M.next()).done);F=!0){var z=R.value,G=z.name,Y=z.type,J=s({buffer:t,pointerStart:r,offset:a+f,type:Y});o[G]=J.value,f+=J.length}}catch(e){H=!0,q=e}finally{try{!F&&M.return&&M.return()}finally{if(H)throw q}}break;case v.ArrayType:var $=n(t,a);f=$.length,o=Array($.value);for(var W=0;W<o.length;W++){var X=s({buffer:t,pointerStart:r,offset:a+f,type:i.type});f+=X.length,o[W]=X.value}break;case v.SetType:var Q=n(t,a);f=Q.length,o=new Set;for(var K=0;K<Q.value;K++){var Z=s({buffer:t,pointerStart:r,offset:a+f,type:i.type});f+=Z.length,o.add(Z.value)}break;case v.MapType:var ee=n(t,a);f=ee.length,o=new Map;for(var te=0;te<ee.value;te++){var re=s({buffer:t,pointerStart:r,offset:a+f,type:i.keyType});f+=re.length;var ne=s({buffer:t,pointerStart:r,offset:a+f,type:i.valueType});f+=ne.length,o.set(re.value,ne.value)}break;case v.EnumType:f=1,l.assert(t.byteLength>=a+f,d);var ae=new Uint8Array(t)[a];o=i.values[ae],void 0===o&&l.fail("Index "+(ae+"")+" is invalid");break;case v.ChoiceType:f=1,l.assert(t.byteLength>=a+f,d);var ie=new Uint8Array(t)[a],oe=s({buffer:t,pointerStart:r,offset:a+f,type:i.types[ie]});f+=oe.length,o=oe.value;break;case v.OptionalType:f=1,l.assert(t.byteLength>=a+f,d);var ue=new Uint8Array(t)[a];if(l.assert(0===ue||255===ue,"0x"+ue.toString(16)+" is an invalid Optional byte"),ue){var se=s({buffer:t,pointerStart:r,offset:a+f,type:i.type});f+=se.length,o=se.value}else o=null;break;case v.PointerType:var fe=n(t,a);f=fe.length,o=s({buffer:t,pointerStart:r,offset:r+fe.value,type:i.type}).value;break;default:l.fail("Not a structure type: "+g.inspect(i))}return{value:o,length:f}}function f(e){var t=e.buffer,r=e.type,n=e.offset;l.instanceOf(t,ArrayBuffer),l.instanceOf(r,v.Type),void 0===n&&(n=0),l.instanceOf(n,Number);var a=s({buffer:t,offset:n,type:r,pointerStart:n}),i=a.value;return i}"/"===r&&(r="");var l=e(r+"/lib/assert.js"),c=e(r+"/lib/bit-math.js"),y=e(r+"/lib/buffer-string.js"),h=e(r+"/lib/strint.js"),v=e(r+"/structure-types.js"),g=e("/lib/util-inspect.js"),d="Buffer is not long enough",p=[v.ByteType,v.ShortType,v.IntType,v.LongType,v.BigIntType,v.UnsignedByteType,v.UnsignedShortType,v.UnsignedIntType,v.UnsignedLongType,v.DateType,v.BigUnsignedIntType,v.FloatType,v.DoubleType,v.BooleanType,v.BooleanArrayType,v.CharType,v.StringType,v.OctetsType];t.exports={_consumeType:i,type:o,value:f}}).call(this,"/")},{"/lib/util-inspect.js":"/lib/util-inspect.js"}],"/structure-types.js":[function(e,t,r){(function(r){"use strict";function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){var t=new ArrayBuffer(4);return new DataView(t).setUint32(0,e),t}function u(e,t){if(t&&e.pointers){var r=!0,n=!1,a=void 0;try{for(var i,o=e.pointers[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var u=h(i.value,2),s=u[0],f=u[1],l=e.length;e.addAll(d.fromBinaryString(s));var c=new ArrayBuffer(4);new DataView(c).setUint32(0,l);var y=!0,v=!1,g=void 0;try{for(var p,b=f[Symbol.iterator]();!(y=(p=b.next()).done);y=!0){var w=p.value;e.setAll(w,c)}}catch(e){v=!0,g=e}finally{try{!y&&b.return&&b.return()}finally{if(v)throw g}}}}catch(e){n=!0,a=e}finally{try{!r&&o.return&&o.return()}finally{if(n)throw a}}}}function s(e){if(e&&e.constructor===String){var t=+e;if(!isNaN(t))return t}}function f(e,t){v.instanceOf(e,w),v.instanceOf(t,String),(T.gt(t,q)||T.lt(t,"0"))&&v.fail("Value out of range");var r=T.div(t,T.LONG_UPPER_SHIFT),n=T.sub(t,T.mul(r,T.LONG_UPPER_SHIFT)),a=new ArrayBuffer(8),i=new DataView(a);i.setUint32(0,+r),i.setUint32(4,+n),e.addAll(a)}function l(e,t){v.instanceOf(t,Array);var r=S(t.length),n=B(t.length),a=void 0;a=r?n+1:n;for(var i=new ArrayBuffer(a),o=new Uint8Array(i),u=0;u<t.length;u++){var s=t[u];v.instanceOf(s,Boolean);var f=S(~S(u));s?o[B(u)]|=1<<f:o[B(u)]&=~(1<<f)}e.addAll(i)}var c=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var o=a.get;if(void 0!==o)return o.call(n)},y=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),h=function(){function e(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();"/"===r&&(r="");var v=e(r+"/lib/assert.js"),g=e("base64-js"),d=e(r+"/lib/buffer-string.js"),p=e(r+"/config.js"),b=e("sha256"),w=e(r+"/lib/growable-buffer.js"),T=e(r+"/lib/strint.js"),O=e("/lib/util-inspect.js"),A=e(r+"/lib/bit-math.js"),B=A.dividedByEight,S=A.modEight,m=255,k="cached",j=function(){function e(){i(this,e)}return y(e,[{key:"addToBuffer",value:function(e){if(v.instanceOf(e,w),this.cachedTypeLocations){var t=this.cachedTypeLocations.get(e);if(void 0!==t){e.add(m);var r=new ArrayBuffer(2);try{return new DataView(r).setUint16(0,e.length-t),e.addAll(r),!1}catch(e){}}}else this.cachedTypeLocations=new Map;return this.cachedTypeLocations.set(e,e.length),e.add(this.constructor._value),!0}},{key:"toBuffer",value:function(){return this.cachedBuffer||(this.cachedBuffer=this._toBuffer()),this.cachedBuffer}},{key:"_toBuffer",value:function(){var e=new w;return this.addToBuffer(e),e.toBuffer()}},{key:"getHash",value:function(){return this.cachedHash||(this.cachedHash=this._getHash()),this.cachedHash}},{key:"_getHash",value:function(){return g.fromByteArray(b(this.toBuffer(),{asBytes:!0}))}},{key:"getSignature",value:function(){return this.cachedSignature||(this.cachedSignature=this._getSignature()),this.cachedSignature}},{key:"_getSignature",value:function(){return p.VERSION_STRING+this.getHash()}},{key:"writeValue",value:function(e,t){v.fail("Generic Type has no value representation")}},{key:"valueBuffer",value:function(e){var t=new w;return this.writeValue(t,e),t.toBuffer()}},{key:"equals",value:function(e){try{v.instanceOf(e,this.constructor)}catch(e){return!1}try{v.equal(e.constructor,this.constructor)}catch(e){return!1}for(var t in this)if(this.hasOwnProperty(t)&&!t.startsWith(k))try{v.equal(e[t],this[t])}catch(e){return!1}return!0}}],[{key:"_value",get:function(){v.fail("Generic Type has no value byte")}}]),e}(),U=function(e){function t(){return i(this,t),n(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),t}(j),x=function(e){function t(){return i(this,t),n(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),t}(U),_=function(e){function t(){return i(this,t),n(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),y(t,[{key:"writeValue",value:function(e,t){v.instanceOf(e,w);var r=s(t);void 0!==r&&(t=r),v.integer(t),v.between(-128,t,128,"Value out of range");var n=new ArrayBuffer(1);new DataView(n).setInt8(0,t),e.addAll(n)}}],[{key:"_value",get:function(){return 1}}]),t}(x),V=function(e){function t(){return i(this,t),n(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),y(t,[{key:"writeValue",value:function(e,t){v.instanceOf(e,w);var r=s(t);void 0!==r&&(t=r),v.integer(t),v.between(-32768,t,32768,"Value out of range");var n=new ArrayBuffer(2);new DataView(n).setInt16(0,t),e.addAll(n)}}],[{key:"_value",get:function(){return 2}}]),t}(x),P=function(e){function t(){return i(this,t),n(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),y(t,[{key:"writeValue",value:function(e,t){v.instanceOf(e,w);var r=s(t);void 0!==r&&(t=r),v.integer(t),v.between(-2147483648,t,2147483648,"Value out of range");var n=new ArrayBuffer(4);new DataView(n).setInt32(0,t),e.addAll(n)}}],[{key:"_value",get:function(){return 3}}]),t}(x),I="9223372036854775807",E="-9223372036854775808",L=function(e){function t(){return i(this,t),n(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),y(t,[{key:"writeValue",value:function(e,t){v.instanceOf(e,w),v.instanceOf(t,String),(T.gt(t,I)||T.lt(t,E))&&v.fail("Value out of range");var r=T.div(t,T.LONG_UPPER_SHIFT,!0),n=T.sub(t,T.mul(r,T.LONG_UPPER_SHIFT)),a=new ArrayBuffer(8),i=new DataView(a);i.setInt32(0,+r),i.setUint32(4,+n),e.addAll(a)}}],[{key:"_value",get:function(){return 4}}]),t}(x),D=function(e){function t(){return i(this,t),n(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),y(t,[{key:"writeValue",value:function(e,t){v.instanceOf(e,w),v.instanceOf(t,String),t=T.normalize(t);var r=[];if(!T.eq(t,"0")){for(;T.gt(t,"127")||T.lt(t,"-128");){var n=T.div(t,T.BYTE_SHIFT,!0),a=T.sub(t,T.mul(n,T.BYTE_SHIFT));r.push(+a),t=n}r.push(+t),v.twoByteUnsignedInteger(r.length)}var i=new ArrayBuffer(2+r.length),o=new DataView(i);o.setUint16(0,r.length);for(var u=3,s=r.length-2;s>-1;s--,u++)o.setUint8(u,r[s]);r.length&&o.setInt8(2,r[r.length-1]),e.addAll(i)}}],[{key:"_value",get:function(){return 6}}]),t}(x),C=function(e){function t(){return i(this,t),n(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),t}(U),N=function(e){function t(){return i(this,t),n(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),y(t,[{key:"writeValue",value:function(e,t){v.instanceOf(e,w);var r=s(t);void 0!==r&&(t=r),v.integer(t),v.between(0,t,256,"Value out of range");var n=new ArrayBuffer(1);new Uint8Array(n)[0]=t,e.addAll(n)}}],[{key:"_value",get:function(){return 17}}]),t}(C),F=function(e){function t(){return i(this,t),n(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),y(t,[{key:"writeValue",value:function(e,t){v.instanceOf(e,w);var r=s(t);void 0!==r&&(t=r),v.integer(t),v.between(0,t,65536,"Value out of range");var n=new ArrayBuffer(2);new DataView(n).setUint16(0,t),e.addAll(n)}}],[{key:"_value",get:function(){return 18}}]),t}(C),H=function(e){function t(){return i(this,t),n(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),y(t,[{key:"writeValue",value:function(e,t){v.instanceOf(e,w);var r=s(t);void 0!==r&&(t=r),v.integer(t),v.between(0,t,4294967296,"Value out of range");var n=new ArrayBuffer(4);new DataView(n).setUint32(0,t),e.addAll(n)}}],[{key:"_value",get:function(){return 19}}]),t}(C),q="18446744073709551615",R=function(e){function t(){return i(this,t),n(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),y(t,[{key:"writeValue",value:function(e,t){f(e,t)}}],[{key:"_value",get:function(){return 20}}]),t}(C),M=function(e){function t(){return i(this,t),n(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),y(t,[{key:"writeValue",value:function(e,t){v.instanceOf(t,Date),f(e,t.getTime()+"")}}],[{key:"_value",get:function(){return 21}}]),t}(U),z=function(e){function t(){return i(this,t),n(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),y(t,[{key:"writeValue",value:function(e,t){v.instanceOf(e,w),v.instanceOf(t,String),T.isNegative(t)&&v.fail("Value out of range");var r=[];if(!T.eq(t,"0")){for(;T.ge(t,T.BYTE_SHIFT);){var n=T.quotientRemainderPositive(t,T.BYTE_SHIFT),a=h(n,2),i=a[0],o=a[1];r.push(+o),t=i}r.push(+t),v.twoByteUnsignedInteger(r.length)}var u=new ArrayBuffer(2+r.length),s=new DataView(u);s.setUint16(0,r.length);for(var f=2,l=r.length-1;l>-1;l--,f++)s.setUint8(f,r[l]);e.addAll(u)}}],[{key:"_value",get:function(){return 22}}]),t}(C),G=function(e){function t(){return i(this,t),n(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),t}(U),Y=function(e){function t(){return i(this,t),n(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),y(t,[{key:"writeValue",value:function(e,t){v.instanceOf(e,w);var r=s(t);void 0!==r&&(t=r),v.instanceOf(t,Number);var n=new ArrayBuffer(4);new DataView(n).setFloat32(0,t),e.addAll(n)}}],[{key:"_value",get:function(){return 32}}]),t}(G),J=function(e){function t(){return i(this,t),n(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),y(t,[{key:"writeValue",value:function(e,t){v.instanceOf(e,w);var r=s(t);void 0!==r&&(t=r),v.instanceOf(t,Number);var n=new ArrayBuffer(8);new DataView(n).setFloat64(0,t),e.addAll(n)}}],[{key:"_value",get:function(){return 33}}]),t}(G),$=function(e){function t(){return i(this,t),n(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),y(t,[{key:"writeValue",value:function(e,t){v.instanceOf(e,w),v.instanceOf(t,Boolean),t?e.add(255):e.add(0)}}],[{key:"_value",get:function(){return 48}}]),t}(U),W=function(e){function t(e){i(this,t);var r=n(this,Object.getPrototypeOf(t).call(this));return v.fourByteUnsignedInteger(e),r.length=e,r}return a(t,e),y(t,null,[{key:"_value",get:function(){return 49}}]),y(t,[{key:"addToBuffer",value:function(e){c(Object.getPrototypeOf(t.prototype),"addToBuffer",this).call(this,e)&&e.addAll(o(this.length))}},{key:"writeValue",value:function(e,t){v.instanceOf(e,w),v.instanceOf(t,Array),t.length!==this.length&&v.fail("Length does not match"),l(e,t);
}}]),t}(U),X=function(e){function t(){return i(this,t),n(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),y(t,[{key:"writeValue",value:function(e,t){v.instanceOf(t,Array),v.fourByteUnsignedInteger(t.length),e.addAll(o(t.length)),l(e,t)}}],[{key:"_value",get:function(){return 50}}]),t}(U),Q=function(e){function t(){return i(this,t),n(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),y(t,[{key:"writeValue",value:function(e,t){v.instanceOf(e,w),v.instanceOf(t,String),v.assert(1===t.length,"String must contain only 1 character"),e.addAll(d.fromString(t))}}],[{key:"_value",get:function(){return 64}}]),t}(U),K=function(e){function t(){return i(this,t),n(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),y(t,[{key:"writeValue",value:function(e,t){v.instanceOf(e,w),v.instanceOf(t,String);var r=d.fromString(t);e.addAll(r),e.add(0)}}],[{key:"_value",get:function(){return 65}}]),t}(U),Z=function(e){function t(){return i(this,t),n(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),y(t,[{key:"writeValue",value:function(e,t){v.instanceOf(e,w),v.instanceOf(t,ArrayBuffer),v.fourByteUnsignedInteger(t.byteLength),e.addAll(o(t.byteLength)),e.addAll(t)}}],[{key:"_value",get:function(){return 66}}]),t}(U),ee=function(e){function t(e){var r=e.type,a=e.length;i(this,t);var o=n(this,Object.getPrototypeOf(t).call(this));return v.instanceOf(r,j),v.fourByteUnsignedInteger(a),o.type=r,o.length=a,o}return a(t,e),y(t,null,[{key:"_value",get:function(){return 80}}]),y(t,[{key:"addToBuffer",value:function(e){c(Object.getPrototypeOf(t.prototype),"addToBuffer",this).call(this,e)&&(this.type.addToBuffer(e),e.addAll(o(this.length)))}},{key:"writeValue",value:function(e,t){var r=arguments.length<=2||void 0===arguments[2]||arguments[2];v.instanceOf(e,w),v.instanceOf(t,Array),t.length!==this.length&&v.fail("Length does not match: expected "+(this.length+"")+" but got "+t.length);var n=!0,a=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var f=o.value;this.type.writeValue(e,f,!1)}}catch(e){a=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw i}}u(e,r)}}]),t}(U),te="name",re="type",ne="buffer",ae=function(e){function t(e){i(this,t);var r=n(this,Object.getPrototypeOf(t).call(this));v.instanceOf(e,Object);var a=0;for(var o in e)a++;try{v.byteUnsignedInteger(a)}catch(e){v.fail(a+" fields is too many")}r.fields=Array(a);var u=0;for(var s in e){var f=d.fromString(s);try{v.byteUnsignedInteger(f.byteLength)}catch(e){v.fail("Field name "+s+" is too long")}var l=e[s];try{v.instanceOf(l,j)}catch(e){v.fail(l+" is not a valid field type")}var c={};c[te]=s,c[re]=l,c[ne]=f,r.fields[u]=c,u++}return r.fields.sort(function(e,t){return e[te]<t[te]?-1:e[te]>t[te]?1:void 0}),r}return a(t,e),y(t,null,[{key:"_value",get:function(){return 81}}]),y(t,[{key:"addToBuffer",value:function(e){if(c(Object.getPrototypeOf(t.prototype),"addToBuffer",this).call(this,e)){e.add(this.fields.length);var r=!0,n=!1,a=void 0;try{for(var i,o=this.fields[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var u=i.value,s=u[ne];e.add(s.byteLength),e.addAll(s),u[re].addToBuffer(e)}}catch(e){n=!0,a=e}finally{try{!r&&o.return&&o.return()}finally{if(n)throw a}}}}},{key:"writeValue",value:function(e,t){var r=arguments.length<=2||void 0===arguments[2]||arguments[2];v.instanceOf(e,w),v.instanceOf(t,Object);var n=!0,a=!1,i=void 0;try{for(var o,s=this.fields[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var f=o.value,l=t[f[te]];void 0===l&&v.fail("Value for field "+f[te]+" missing"),f[re].writeValue(e,l,!1)}}catch(e){a=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(a)throw i}}u(e,r)}}]),t}(U),ie=function(e){function t(e){i(this,t);var r=n(this,Object.getPrototypeOf(t).call(this));return v.instanceOf(e,j),r.type=e,r}return a(t,e),y(t,null,[{key:"_value",get:function(){return 82}}]),y(t,[{key:"addToBuffer",value:function(e){c(Object.getPrototypeOf(t.prototype),"addToBuffer",this).call(this,e)&&this.type.addToBuffer(e)}},{key:"_writeValue",value:function(e,t,r){v.instanceOf(e,w),v.fourByteUnsignedInteger(t.length),e.addAll(o(t.length));var n=!0,a=!1,i=void 0;try{for(var s,f=t[Symbol.iterator]();!(n=(s=f.next()).done);n=!0){var l=s.value;this.type.writeValue(e,l,!1)}}catch(e){a=!0,i=e}finally{try{!n&&f.return&&f.return()}finally{if(a)throw i}}u(e,r)}},{key:"writeValue",value:function(e,t){var r=arguments.length<=2||void 0===arguments[2]||arguments[2];v.instanceOf(t,Array),this._writeValue(e,t,r)}}]),t}(U),oe=function(e){function t(e){return i(this,t),n(this,Object.getPrototypeOf(t).call(this,e))}return a(t,e),y(t,null,[{key:"_value",get:function(){return 83}}]),y(t,[{key:"writeValue",value:function(e,t){var r=arguments.length<=2||void 0===arguments[2]||arguments[2];v.instanceOf(t,Set),t.length=t.size,this._writeValue(e,t,r)}}]),t}(ie),ue=function(e){function t(e,r){i(this,t);var a=n(this,Object.getPrototypeOf(t).call(this));return v.instanceOf(e,j),v.instanceOf(r,j),a.keyType=e,a.valueType=r,a}return a(t,e),y(t,null,[{key:"_value",get:function(){return 84}}]),y(t,[{key:"addToBuffer",value:function(e){c(Object.getPrototypeOf(t.prototype),"addToBuffer",this).call(this,e)&&(this.keyType.addToBuffer(e),this.valueType.addToBuffer(e))}},{key:"writeValue",value:function(e,t){var r=arguments.length<=2||void 0===arguments[2]||arguments[2];v.instanceOf(e,w),v.instanceOf(t,Map),v.fourByteUnsignedInteger(t.size),e.addAll(o(t.size));var n=!0,a=!1,i=void 0;try{for(var s,f=t[Symbol.iterator]();!(n=(s=f.next()).done);n=!0){var l=h(s.value,2),c=l[0],y=l[1];this.keyType.writeValue(e,c,!1),this.valueType.writeValue(e,y,!1)}}catch(e){a=!0,i=e}finally{try{!n&&f.return&&f.return()}finally{if(a)throw i}}u(e,r)}}]),t}(U),se=function(e){function t(e){var r=e.type,a=e.values;i(this,t);var o=n(this,Object.getPrototypeOf(t).call(this));v.instanceOf(r,U),v.instanceOf(a,Array);try{v.byteUnsignedInteger(a.length)}catch(e){v.fail(a.length+" values is too many")}for(var u=new Map,s=0;s<a.length;s++){var f=a[s],l=new w;r.writeValue(l,f,!1);var c=d.toBinaryString(l.toBuffer());v.assert(!u.has(c),"Value is repeated: "+O.inspect(f)),u.set(c,s)}return o.type=r,o.values=a,o.valueIndices=u,o}return a(t,e),y(t,null,[{key:"_value",get:function(){return 85}}]),y(t,[{key:"addToBuffer",value:function(e){if(c(Object.getPrototypeOf(t.prototype),"addToBuffer",this).call(this,e)){this.type.addToBuffer(e),e.add(this.valueIndices.size);var r=!0,n=!1,a=void 0;try{for(var i,o=this.valueIndices[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var u=h(i.value,2),s=u[0];u[1];e.addAll(d.fromBinaryString(s))}}catch(e){n=!0,a=e}finally{try{!r&&o.return&&o.return()}finally{if(n)throw a}}}}},{key:"writeValue",value:function(e,t){var r=arguments.length<=2||void 0===arguments[2]||arguments[2];v.instanceOf(e,w);var n=new w;this.type.writeValue(n,t,!1);var a=this.valueIndices.get(d.toBinaryString(n.toBuffer()));v.assert(void 0!==a,"Not a valid enum value: "+O.inspect(t)),e.add(a),u(e,r)}}]),t}(j),fe=function(e){function t(e){i(this,t);var r=n(this,Object.getPrototypeOf(t).call(this));v.instanceOf(e,Array);try{v.byteUnsignedInteger(e.length)}catch(t){v.fail(e.length+" types is too many")}var a=!0,o=!1,u=void 0;try{for(var s,f=e[Symbol.iterator]();!(a=(s=f.next()).done);a=!0){var l=s.value;v.instanceOf(l,j)}}catch(e){o=!0,u=e}finally{try{!a&&f.return&&f.return()}finally{if(o)throw u}}return r.types=e,r}return a(t,e),y(t,null,[{key:"_value",get:function(){return 86}}]),y(t,[{key:"addToBuffer",value:function(e){if(c(Object.getPrototypeOf(t.prototype),"addToBuffer",this).call(this,e)){e.add(this.types.length);var r=!0,n=!1,a=void 0;try{for(var i,o=this.types[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var u=i.value;u.addToBuffer(e)}}catch(e){n=!0,a=e}finally{try{!r&&o.return&&o.return()}finally{if(n)throw a}}}}},{key:"writeValue",value:function(e,t){var r=arguments.length<=2||void 0===arguments[2]||arguments[2];v.instanceOf(e,w);for(var n=!1,a=0;a<this.types.length;a++){var i=this.types[a],o=new w;try{i.writeValue(o,t,!1)}catch(e){continue}e.add(a),e.addAll(o.toBuffer()),n=!0;break}n||v.fail("No types matched: "+O.inspect(t)),u(e,r)}}]),t}(j),le=function(e){function t(e){i(this,t);var r=n(this,Object.getPrototypeOf(t).call(this));return v.instanceOf(e,j),r.type=e,r}return a(t,e),y(t,null,[{key:"_value",get:function(){return 96}}]),y(t,[{key:"addToBuffer",value:function(e){c(Object.getPrototypeOf(t.prototype),"addToBuffer",this).call(this,e)&&this.type.addToBuffer(e)}},{key:"writeValue",value:function(e,t){var r=arguments.length<=2||void 0===arguments[2]||arguments[2];v.instanceOf(e,w),null===t?e.add(0):(e.add(255),this.type.writeValue(e,t,!1)),u(e,r)}}]),t}(U),ce=function(e){function t(e){i(this,t);var r=n(this,Object.getPrototypeOf(t).call(this));return v.instanceOf(e,U),r.type=e,r}return a(t,e),y(t,null,[{key:"_value",get:function(){return 112}}]),y(t,[{key:"addToBuffer",value:function(e){c(Object.getPrototypeOf(t.prototype),"addToBuffer",this).call(this,e)&&this.type.addToBuffer(e)}},{key:"writeValue",value:function(e,t){var r=arguments.length<=2||void 0===arguments[2]||arguments[2];e.pointers||(e.pointers=new Map);var n=new w;this.type.writeValue(n,t,!1);var a=d.toBinaryString(n.toBuffer()),i=e.length,o=e.pointers.get(a);o?o.add(i):e.pointers.set(a,new Set([i])),e.addAll(new ArrayBuffer(4)),u(e,r)}}]),t}(j);t.exports={Type:j,ByteType:_,ShortType:V,IntType:P,LongType:L,BigIntType:D,UnsignedByteType:N,UnsignedShortType:F,UnsignedIntType:H,UnsignedLongType:R,DateType:M,BigUnsignedIntType:z,FloatType:Y,DoubleType:J,BooleanType:$,BooleanTupleType:W,BooleanArrayType:X,CharType:Q,StringType:K,OctetsType:Z,TupleType:ee,StructType:ae,ArrayType:ie,SetType:oe,MapType:ue,EnumType:se,ChoiceType:fe,OptionalType:le,PointerType:ce,REPEATED_TYPE:m}}).call(this,"/")},{"/lib/util-inspect.js":"/lib/util-inspect.js","base64-js":2,sha256:5}],1:[function(e,t,r){"use strict";!function(){e("/client-side/common.js");var t=e("/lib/assert.js");window.sb.upload=function(e,r){var n=e.type,a=e.value;t.instanceOf(n,sb.Type),t.instanceOf(r,Object),"POST"!==r.type&&"POST"!==r.method&&t.fail("Must use POST when uploading"),r.processData=!1,r.data=n.valueBuffer(a),$.ajax(r)}}(),function(){function t(){var e={};for(var t in i)e[t]={sig:i[t].sig,type:n.fromByteArray(new Uint8Array(i[t].type.toBuffer()))};localStorage.typeCache=JSON.stringify(e)}e("/client-side/common.js");var r=e("/lib/assert.js"),n=e("base64-js"),a=e("/read.js"),i={};if(void 0===localStorage.typeCache)t();else{var o=JSON.parse(localStorage.typeCache);for(var u in o)i[u]={sig:o[u].sig,type:a.type(new Uint8Array(n.toByteArray(o[u].type)).buffer)}}window.sb.download=function(e,n){function o(e,t,r){if(s){s instanceof Array||(s=[s]);var n=!0,a=!1,i=void 0;try{for(var o,u=s[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var f=o.value;f(e,t,r)}}catch(e){a=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw i}}}}r.instanceOf(e,String),r.instanceOf(n,Object),n.dataType="arraybuffer";var u=void 0;i[e]?(u=!0,n.headers||(n.headers={}),n.headers.sig=i[e].sig):u=!1;var s=n.success;n.success=function(r,n,s){var f=s.getResponseHeader("sig");if(u&&i[e].sig===f){var l=i[e].type,c=a.value({buffer:r,type:l});o(c,n,s)}else{var y=a._consumeType(r,0),h=a.value({buffer:r,offset:y.length,type:y.value}),v=y.value;i[e]={sig:f,type:v},t(),o(h,n,s)}},$.ajax(n)}}()},{"/client-side/common.js":"/client-side/common.js","/lib/assert.js":"/lib/assert.js","/read.js":"/read.js","base64-js":2}],2:[function(e,t,r){"use strict";function n(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,r=e.length;t<r;++t)s[t]=e[t],f[e.charCodeAt(t)]=t;f["-".charCodeAt(0)]=62,f["_".charCodeAt(0)]=63}function a(e){var t,r,n,a,i,o,u=e.length;if(u%4>0)throw Error("Invalid string. Length must be a multiple of 4");i="="===e[u-2]?2:"="===e[u-1]?1:0,o=new l(3*u/4-i),n=i>0?u-4:u;var s=0;for(t=0,r=0;t<n;t+=4,r+=3)a=f[e.charCodeAt(t)]<<18|f[e.charCodeAt(t+1)]<<12|f[e.charCodeAt(t+2)]<<6|f[e.charCodeAt(t+3)],o[s++]=a>>16&255,o[s++]=a>>8&255,o[s++]=255&a;return 2===i?(a=f[e.charCodeAt(t)]<<2|f[e.charCodeAt(t+1)]>>4,o[s++]=255&a):1===i&&(a=f[e.charCodeAt(t)]<<10|f[e.charCodeAt(t+1)]<<4|f[e.charCodeAt(t+2)]>>2,o[s++]=a>>8&255,o[s++]=255&a),o}function i(e){return s[e>>18&63]+s[e>>12&63]+s[e>>6&63]+s[63&e]}function o(e,t,r){for(var n,a=[],o=t;o<r;o+=3)n=(e[o]<<16)+(e[o+1]<<8)+e[o+2],a.push(i(n));return a.join("")}function u(e){for(var t,r=e.length,n=r%3,a="",i=[],u=16383,f=0,l=r-n;f<l;f+=u)i.push(o(e,f,f+u>l?l:f+u));return 1===n?(t=e[r-1],a+=s[t>>2],a+=s[t<<4&63],a+="=="):2===n&&(t=(e[r-2]<<8)+e[r-1],a+=s[t>>10],a+=s[t>>4&63],a+=s[t<<2&63],a+="="),i.push(a),i.join("")}r.toByteArray=a,r.fromByteArray=u;var s=[],f=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array;n()},{}],3:[function(e,t,r){!function(e){"use strict";function r(e){return e.map(function(e){return n(e.toString(16),2)}).join("")}function n(e,t){return e.length>t?e:Array(t-e.length+1).join("0")+e}var a={bytesToHex:function(e){return r(e)},hexToBytes:function(e){if(e.length%2===1)throw Error("hexToBytes can't have a string with an odd number of characters.");return 0===e.indexOf("0x")&&(e=e.slice(2)),e.match(/../g).map(function(e){return parseInt(e,16)})}};void 0!==t&&t.exports?t.exports=a:e.convertHex=a}(this)},{}],4:[function(e,t,r){!function(e){"use strict";var r={bytesToString:function(e){return e.map(function(e){return String.fromCharCode(e)}).join("")},stringToBytes:function(e){return e.split("").map(function(e){return e.charCodeAt(0)})}};r.UTF8={bytesToString:function(e){return decodeURIComponent(escape(r.bytesToString(e)))},stringToBytes:function(e){return r.stringToBytes(unescape(encodeURIComponent(e)))}},void 0!==t&&t.exports?t.exports=r:e.convertString=r}(this)},{}],5:[function(e,t,r){!function(r){"use strict";function n(e,t){e.constructor===String&&(e=a.convertString.UTF8.stringToBytes(e));var r=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],n=o(e),i=8*e.length;n[i>>5]|=128<<24-i%32,n[(i+64>>9<<4)+15]=i;for(var s=0;s<n.length;s+=16)f(r,n,s);var l=u(r);return t&&t.asBytes?l:t&&t.asString?a.convertString.bytesToString(l):a.bytesToHex(l)}var a={};void 0!==t&&t.exports?(a.bytesToHex=e("convert-hex").bytesToHex,a.convertString=e("convert-string"),t.exports=n):(a.bytesToHex=r.convertHex.bytesToHex,a.convertString=r.convertString,r.sha256=n);var i=[];!function(){function e(e){for(var t=Math.sqrt(e),r=2;r<=t;r++)if(!(e%r))return!1;return!0}function t(e){return 4294967296*(e-(0|e))|0}for(var r=2,n=0;n<64;)e(r)&&(i[n]=t(Math.pow(r,1/3)),n++),r++}();var o=function(e){for(var t=[],r=0,n=0;r<e.length;r++,n+=8)t[n>>>5]|=e[r]<<24-n%32;return t},u=function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t},s=[],f=function(e,t,r){for(var n=e[0],a=e[1],o=e[2],u=e[3],f=e[4],l=e[5],c=e[6],y=e[7],h=0;h<64;h++){if(h<16)s[h]=0|t[r+h];else{var v=s[h-15],g=(v<<25|v>>>7)^(v<<14|v>>>18)^v>>>3,d=s[h-2],p=(d<<15|d>>>17)^(d<<13|d>>>19)^d>>>10;s[h]=g+s[h-7]+p+s[h-16]}var b=f&l^~f&c,w=n&a^n&o^a&o,T=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),O=(f<<26|f>>>6)^(f<<21|f>>>11)^(f<<7|f>>>25),A=y+O+b+i[h]+s[h],B=T+w;y=c,c=l,l=f,f=u+A|0,u=o,o=a,a=n,n=A+B|0}e[0]=e[0]+n|0,e[1]=e[1]+a|0,e[2]=e[2]+o|0,e[3]=e[3]+u|0,e[4]=e[4]+f|0,e[5]=e[5]+l|0,e[6]=e[6]+c|0,e[7]=e[7]+y|0};n.x2=function(e,t){return n(n(e,{asBytes:!0}),t)}}(this)},{"convert-hex":3,"convert-string":4}]},{},[1]);