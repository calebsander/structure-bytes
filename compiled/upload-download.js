(()=>{"use strict";var e={9742:(e,t)=>{t.byteLength=function(e){var t=i(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,s=i(e),u=s[0],o=s[1],l=new a(function(e,t,n){return 3*(t+n)/4-n}(0,u,o)),f=0,c=o>0?u-4:u;for(n=0;n<c;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[f++]=t>>16&255,l[f++]=t>>8&255,l[f++]=255&t;return 2===o&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[f++]=255&t),1===o&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[f++]=t>>8&255,l[f++]=255&t),l},t.fromByteArray=function(e){for(var t,r=e.length,a=r%3,s=[],u=16383,o=0,i=r-a;o<i;o+=u)s.push(l(e,o,o+u>i?i:o+u));return 1===a?(t=e[r-1],s.push(n[t>>2]+n[t<<4&63]+"==")):2===a&&(t=(e[r-2]<<8)+e[r-1],s.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),s.join("")};for(var n=[],r=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,o=s.length;u<o;++u)n[u]=s[u],r[s.charCodeAt(u)]=u;function i(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,r){for(var a,s,u=[],o=t;o<r;o+=3)a=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),u.push(n[(s=a)>>18&63]+n[s>>12&63]+n[s>>6&63]+n[63&s]);return u.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},4485:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};if(Object.defineProperty(t,"__esModule",{value:!0}),"undefined"==typeof ArrayBuffer)throw new Error("ArrayBuffer not supported");if("undefined"==typeof fetch)throw new Error("fetch() not supported");if("undefined"==typeof Map)throw new Error("Map not supported");if("undefined"==typeof Set)throw new Error("Set not supported");if("undefined"==typeof Uint8Array)throw new Error("Uint8Array not supported");if("undefined"==typeof WeakMap)throw new Error("WeakMap not supported");a(n(2847),t),a(n(9088),t)},6024:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.download=t.upload=void 0;const s=n(3975);t.upload=function({type:e,value:t,url:n,options:r}){if(!(e instanceof s.default))throw new Error("Invalid type");if("string"!=typeof n)throw new Error("Invalid URL");if(!(r instanceof Object))throw new Error("Invalid options");if("POST"!==r.method)throw new Error("Must use POST when uploading");return r.body=e.valueBuffer(t),fetch(n,r)},a(n(4485),t);const u=n(9742),o=n(7614),i={};if(localStorage.typeCache){const e=JSON.parse(localStorage.typeCache);for(const t in e)i[t]={sig:e[t].sig,type:o.type(u.toByteArray(e[t].type).buffer)}}t.download=function({name:e,url:t,options:n}){if("string"!=typeof e)throw new Error("Name is not a string");if("string"!=typeof t)throw new Error("URL is not a string");if(!((n=n||{})instanceof Object))throw new Error("Invalid options object");const r=i[e];if(r){if(n.headers){const{headers:e}=n;e.constructor!==Headers&&(n.headers=new Headers(e))}else n.headers=new Headers;n.headers.set("sig",i[e].sig)}return fetch(t,n).then((t=>{if(!t.ok)throw new Error(`Received status of ${t.status}`);const n=t.headers.get("sig");if(!n)throw new Error("Missing type signature");return t.arrayBuffer().then((t=>{if(r&&r.sig===n)return r.type.readValue(t);const a=o._consumeType(t,0),s=a.value,l=s.readValue(t,a.length);return i[e]={sig:n,type:s},function(){const e={};for(const t in i)e[t]={sig:i[t].sig,type:u.fromByteArray(new Uint8Array(i[t].type.toBuffer()))};localStorage.typeCache=JSON.stringify(e)}(),l}))}))},window.sb=t},6783:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION_STRING=void 0;const r=n(9742),a=new ArrayBuffer(2);new DataView(a).setUint16(0,13),t.VERSION_STRING=r.fromByteArray(new Uint8Array(a))},359:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AppendableBuffer=void 0,t.AppendableBuffer=class{}},5682:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.equal=t.nonNegativeInteger=t.between=t.integer=t.instanceOf=void 0;const r=n(3259);function a(e,t){t instanceof Array||(t=[t]);for(const n of t)if(e instanceof n||null!=e&&e.constructor===n)return;throw new TypeError(r.inspect(e)+" is not an instance of "+t.map((({name:e})=>e)).join(" or "))}function s(e){if(a(e,Number),!Number.isSafeInteger(e))throw new RangeError(r.inspect(e)+" is not an integer")}function u(e,t,n,r){if(t<e||t>=n){const a=`${t} is not in [${e},${n})`;throw new RangeError(r?`${r} (${a})`:a)}}t.instanceOf=a,t.integer=s,t.between=u,t.nonNegativeInteger=function(e){s(e),u(0,e,1/0)},t.equal={buffers(e,t){if(e.byteLength!==t.byteLength)return!1;const n=new Uint8Array(e),r=new Uint8Array(t);for(let e=0;e<n.length;e++)if(n[e]!==r[e])return!1;return!0}}},2963:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.timesEight=t.modEight=t.dividedByEight=void 0,t.dividedByEight=e=>e>>>3,t.modEight=e=>7&e,t.timesEight=e=>e<<3},2507:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fromBinaryString=t.toBinaryString=t.fromString=t.toString=void 0;const r=n(5682),a=n(5212),s=4096;t.toString=function(e){r.instanceOf(e,Uint8Array);const t=[];for(let n=0;n<e.length;){const r=e[n];let a,s=r>239?4:r>223?3:r>191?2:1;if(n+s<=e.length){let t,u,o,i;switch(s){case 1:r<128&&(a=r);break;case 2:t=e[n+1],128==(192&t)&&(i=(31&r)<<6|63&t,i>127&&(a=i));break;case 3:t=e[n+1],u=e[n+2],128==(192&t)&&128==(192&u)&&(i=(15&r)<<12|(63&t)<<6|63&u,i>2047&&(i<55296||i>57343)&&(a=i));break;case 4:t=e[n+1],u=e[n+2],o=e[n+3],128==(192&t)&&128==(192&u)&&128==(192&o)&&(i=(15&r)<<18|(63&t)<<12|(63&u)<<6|63&o,i>65535&&i<1114112&&(a=i))}}void 0===a?(a=65533,s=1):a>65535&&(a-=65536,t.push(a>>>10&1023|55296),a=56320|1023&a),t.push(a),n+=s}let n="";for(let e=0;e<t.length;e+=s)n+=String.fromCharCode(...t.slice(e,e+s));return n},t.fromString=function(e){r.instanceOf(e,String);const t=new a.default;for(const n of e){let e=n.charCodeAt(0);e<128?t.add(e):e<2048?t.add(192|e>>6).add(128|63&e):e<55296||e>=57344?t.add(224|e>>12).add(128|e>>6&63).add(128|63&e):(e=65536+((1023&e)<<10|1023&e),t.add(240|e>>18).add(128|e>>12&63).add(128|e>>6&63).add(128|63&e))}return t.toBuffer()},t.toBinaryString=function(e){r.instanceOf(e,ArrayBuffer);let t="";const n=new Uint8Array(e);for(let e=0;e<n.length;e+=s)t+=String.fromCharCode(...n.subarray(e,e+s));return t},t.fromBinaryString=function(e){r.instanceOf(e,String);const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e[n].charCodeAt(0);return t.buffer}},43:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.REPEATED_TYPE=void 0,t.REPEATED_TYPE=255},7505:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fromUTC=t.toUTC=t.MILLIS_PER_DAY=void 0,t.MILLIS_PER_DAY=864e5,t.toUTC=function(e){return e.getTime()-6e4*e.getTimezoneOffset()},t.fromUTC=function(e){const t=new Date(e);return new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())}},8656:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.readValueBuffer=t.getByteCount=t.makeValueBuffer=void 0;const r=n(5682),a=e=>2**(7*e),s=(new Map).set(0,0),u=new Map,o=new Map;{let e=1,t=0,n=-256;for(;t<=Number.MAX_SAFE_INTEGER;)t+=a(e),s.set(e,t),u.set(e,255&n),o.set(e-1,e),n>>=1,e++}t.makeValueBuffer=function(e){if(r.integer(e),e<0)throw new RangeError(`${e} is negative`);const t=(()=>{for(const[t,n]of s)if(n>e)return t;throw new Error(`Cannot represent ${e}`)})();let n=e-s.get(t-1);const a=new Uint8Array(t);for(let e=t-1;e>=0;e--)a[e]=n,n=Math.floor(n/256);return a[0]|=u.get(t),a.buffer},t.getByteCount=function(e){const t=Math.clz32(~e<<24),n=o.get(t);if(!n)throw new Error("Invalid number of bytes");return n},t.readValueBuffer=function(e){r.instanceOf(e,ArrayBuffer);const t=e.byteLength;if(!t)throw new Error("Empty flex int buffer");const n=new Uint8Array(e);let a=n[0]^u.get(t);for(let e=1;e<t;e++)a=256*a+n[e];return s.get(t-1)+a}},5212:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.toArrayBuffer=t.asUint8Array=void 0;const r=n(359),a=n(5682);function s(e){const{buffer:t,byteOffset:n,byteLength:r}=e;return n||r!==t.byteLength?t.slice(n,n+r):t}t.asUint8Array=e=>e instanceof Uint8Array?e:new Uint8Array(e),t.toArrayBuffer=s;class u extends r.AppendableBuffer{constructor(e=10){super();try{a.integer(e),a.between(0,e,1/0)}catch{throw new RangeError(`${e} is not a valid buffer length`)}this.buffer=new ArrayBuffer(e),this.size=0,this.pausePoints=[]}get length(){return this.size}grow(e){if(a.integer(e),e>this.buffer.byteLength){const t=new ArrayBuffer(e<<1);new Uint8Array(t).set(new Uint8Array(this.buffer)),this.buffer=t}return this}add(e){return a.integer(e),a.between(0,e,256,`Not a byte: ${e}`),this.addAll(new Uint8Array([e]).buffer)}addAll(e){a.instanceOf(e,[ArrayBuffer,Uint8Array]);const n=this.size,r=this.size+e.byteLength;return this.grow(r),this.size=r,new Uint8Array(this.buffer).set(t.asUint8Array(e),n),this}toBuffer(){return s(this.toUint8Array())}toUint8Array(){let[e]=this.pausePoints;return void 0===e&&(e=this.size),new Uint8Array(this.buffer,0,e)}pause(){return this.pausePoints.push(this.size),this}resume(){if(void 0===this.pausePoints.pop())throw new Error("Was not paused");return this}reset(){const[e]=this.pausePoints.slice(-1);if(void 0===e)throw new Error("Was not paused");return this.size=e,this}}t.default=u},2556:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.readNumber=t.readLong=t.readFlexInt=t.readBooleans=t.readBooleanByte=t.makeBaseValue=t.NOT_LONG_ENOUGH=void 0;const r=n(2963),a=n(8656),s=n(3259),u=n(7299),o=n(4054),i=n(9661),l=n(2092),f=n(4573);t.NOT_LONG_ENOUGH="Buffer is not long enough",t.makeBaseValue=function(e,t){switch(e.constructor){case u.ArrayType:return new Array(t);case f.TupleType:return new Array(e.length);case o.MapType:return new Map;case i.SetType:return new Set;case l.StructType:return{};default:throw new Error("Invalid type for base value: "+s.inspect(e))}},t.readBooleanByte=function(e,n){if(e.byteLength<=n)throw new Error(t.NOT_LONG_ENOUGH);let r;const a=new Uint8Array(e)[n];switch(a){case 0:case 255:r=!!a;break;default:throw new Error(`0x${s.hexByte(a)} is an invalid Boolean value`)}return{value:r,length:1}},t.readBooleans=function({buffer:e,offset:n,count:a}){const s=new Array(a),u=r.modEight(a),o=r.dividedByEight(a),i=u?o+1:o;if(e.byteLength<n+i)throw new Error(t.NOT_LONG_ENOUGH);const l=new Uint8Array(e,n);for(let e=0;e<i;e++){const t=l[e];for(let n=0;n<8;n++){const u=r.timesEight(e)|n;if(u===a)break;s[u]=Boolean(t&1<<7-n)}}return{value:s,length:i}},t.readFlexInt=function(e,n){if(e.byteLength<=n)throw new Error(t.NOT_LONG_ENOUGH);const r=new Uint8Array(e,n),s=a.getByteCount(r[0]);if(e.byteLength<n+s)throw new Error(t.NOT_LONG_ENOUGH);return{value:a.readValueBuffer(r.slice(0,s).buffer),length:s}},t.readLong=function(e,n){if(e.byteLength<n+8)throw new Error(t.NOT_LONG_ENOUGH);return{value:new DataView(e,n).getBigInt64(0),length:8}},t.readNumber=function({func:e,type:n}){const r=n.BYTES_PER_ELEMENT;return(n,a)=>{if(n.byteLength<a+r)throw new Error(t.NOT_LONG_ENOUGH);return{value:new DataView(n)[e](a),length:r}}}},3527:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.get=t.decrement=t.increment=void 0;const n=new WeakMap;t.increment=function(e){const t=n.get(e)||0;n.set(e,t+1)},t.decrement=function(e){const t=n.get(e);if(!t)throw new Error("Buffer has no recursive nesting");n.set(e,t-1)},t.get=e=>n.get(e)},7715:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.sha256Wasm=t.sha256JS=void 0;const r=n(2963),a=n(8644),s=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),u=(e,t)=>e>>>t|e<<32-t;function o(e){const t=e.length,n=t+(64-(t+72&63))+8,a=new ArrayBuffer(n),o=new Uint8Array(a);o.set(e),o[t]=128,new DataView(a).setUint32(n-4,r.timesEight(t));const i=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);for(let e=0;e<n;e+=64){const t=new Uint32Array(64),n=new DataView(a,e,64);for(let e=0;e<16;e++)t[e]=n.getUint32(e<<2);for(let e=16;e<64;e++){const n=t[e-15],r=u(n,7)^u(n,18)^n>>>3,a=t[e-2],s=u(a,17)^u(a,19)^a>>>10;t[e]=t[e-16]+r+t[e-7]+s}let[r,o,l,f,c,d,h,y]=i;for(let e=0;e<64;e++){const n=y+(u(c,6)^u(c,11)^u(c,25))+(c&d^~c&h)+s[e]+t[e],a=u(r,2)^u(r,13)^u(r,22),i=r&o^r&l^o&l;y=h,h=d,d=c,c=f+n,f=l,l=o,o=r,r=n+(a+i)}i[0]+=r,i[1]+=o,i[2]+=l,i[3]+=f,i[4]+=c,i[5]+=d,i[6]+=h,i[7]+=y}const l=new ArrayBuffer(32),f=new DataView(l);for(let e=0;e<8;e++)f.setUint32(e<<2,i[e]);return l}t.sha256JS=o,t.sha256Wasm=(()=>{if(!a.default)return;const{exports:e}=a.default,{INPUT_START:t,fitInput:n,memory:r,sha256:s}=e,u=t.valueOf();return e=>{const{length:t}=e;n(t);const{buffer:a}=r;return new Uint8Array(a).set(e,u),s(t),a.slice(0,32)}})(),t.default=t.sha256Wasm||o},8644:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(9742);t.default="undefined"==typeof WebAssembly?void 0:new WebAssembly.Instance(new WebAssembly.Module(r.toByteArray("AGFzbQEAAAABFARgAX8Bf2ACf38AYAJ/fgBgAX8AAwYFAAECAwMFAwEAAQYNAn8AQYACC38AQYAECwcsBAtJTlBVVF9TVEFSVAMBBm1lbW9yeQIACGZpdElucHV0AAMGc2hhMjU2AAQK5AUFIgAgAC0AAEEYdCAALQABQRB0ciAALQACQQh0IAAtAANycgsnACAAIAFBGHY6AAAgACABQRB2OgABIAAgAUEIdjoAAiAAIAE6AAMLFgAgACABQiCIpxABIABBBGogAacQAQssAQF/IABBvwRqIQEgAUEQdiABQf//A3FBAEdqPwBrIgFBAEoEQCABQAAaCwvSBAEWfyAAQcgAIABByABqQT9xa2ohASAAIQIgAkGAAToAgAQgAUEIayEOA0AgAkEBaiICIA5JBEAgAkEAOgCABAwBCwsjASAOaiAArUIDhhACQefMp9AGIQ9Bhd2e23shEEHy5rvjAyERQbrqv6p6IRJB/6S5iAUhE0GM0ZXYeSEUQauzj/wBIRVBmZqD3wUhFkEAIQ4DQEEAIQIDQCACQQJ0IQMgAyMBIA4gA2pqEAA2AQAgAkEBaiICQRBJDQALA0AgAkECdCEDIANBPGsoAQAhBCADQQhrKAEAIQUgAyADQcAAaygBACAEQQd4IARBEnggBEEDdnNzaiADQRxrKAEAIAVBEXggBUETeCAFQQp2c3NqajYBACACQQFqIgJBwABJDQALIA8hBiAQIQcgESEIIBIhCSATIQogFCELIBUhDCAWIQ1BACECA0AgAkECdCEDIA0gCkEGeCAKQQt4IApBGXhzcyAKIAtxIApBf3MgDHFzaiMAIANqKAEAIAMoAQBqamohBCAMIQ0gCyEMIAohCyAJIARqIQogCCEJIAYgBCAGQQJ4IAZBDXggBkEWeHNzIAYgB3EgBiAIcSAHIAhxc3NqaiEGIAchCCEHIAJBAWoiAkHAAEkNAAsgDyAGaiEPIBAgB2ohECARIAhqIREgEiAJaiESIBMgCmohEyAUIAtqIRQgFSAMaiEVIBYgDWohFiAOQcAAaiIOIAFJDQALQQAgDxABQQQgEBABQQggERABQQwgEhABQRAgExABQRQgFBABQRggFRABQRwgFhABCwuIAgEAQYACC4ACmC+KQpFEN3HP+8C1pdu16VvCVjnxEfFZpII/ktVeHKuYqgfYAVuDEr6FMSTDfQxVdF2+cv6x3oCnBtybdPGbwcFpm+SGR77vxp3BD8yhDCRvLOktqoR0StypsFzaiPl2UlE+mG3GMajIJwOwx39Zv/ML4MZHkafVUWPKBmcpKRSFCrcnOCEbLvxtLE0TDThTVHMKZbsKanYuycKBhSxykqHov6JLZhqocItLwqNRbMcZ6JLRJAaZ1oU1DvRwoGoQFsGkGQhsNx5Md0gntbywNLMMHDlKqthOT8qcW/NvLmjugo90b2OleBR4yIQIAseM+v++kOtsUKT3o/m+8nhxxg==")))},7705:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=e=>{if(e&&e.constructor===String){const t=Number(e);if(!isNaN(t)||"NaN"===e)return t}}},3259:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.inspect=t.hexByte=void 0;const n=new Set([String,Number,Boolean,Date]);function r(e,a){if(void 0===e||null==e)return`${e}`;const{constructor:s}=e;if(null===e||n.has(s))return JSON.stringify(e);if(s===BigInt)return`${e}n`;if(e instanceof ArrayBuffer||e instanceof Uint8Array)return`<${e.constructor.name} ${[...new Uint8Array(e)].map(t.hexByte).join(" ")}>`;if(e instanceof Function)return"Function "+e.name;if(a.has(e))return"[Circular]";a.add(e);let u=!0;if(e instanceof Set){let t="Set {";for(const n of e)u?u=!1:t+=", ",t+=r(n,a);return a.delete(e),t+"}"}if(e instanceof Map){let t="Map {";for(const[n,s]of e)u?u=!1:t+=", ",t+=r(n,a)+" => "+r(s,a);return a.delete(e),t+"}"}if(e instanceof Array){const t=`[${e.map((e=>r(e,a))).join(", ")}]`;return a.delete(e),t}const{name:o}=s;let i=(o&&"Object"!==o?o+" ":"")+"{";const l=e;for(const t in l)({}).hasOwnProperty.call(e,t)&&(u?u=!1:i+=", ",i+=t+": "+r(l[t],a));return a.delete(e),i+"}"}t.hexByte=e=>(e<16?"0":"")+e.toString(16),t.inspect=e=>r(e,new Set)},647:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.writeLong=t.writeIterable=t.writeBooleans=t.writeBooleanByte=void 0;const r=n(5682),a=n(2963),s=n(8656);t.writeBooleanByte=(e,t)=>e.add(t?255:0),t.writeBooleans=function(e,t){r.instanceOf(t,Array);e:for(let n=0;;n++){let s=0;for(let u=0;u<8;u++){const o=a.timesEight(n)|u;if(o===t.length){u&&e.add(s);break e}const i=t[o];r.instanceOf(i,Boolean),i&&(s|=1<<7-u)}e.add(s)}},t.writeIterable=function({type:e,buffer:t,value:n,length:r}){t.addAll(s.makeValueBuffer(r));for(const r of n)e.writeValue(t,r)},t.writeLong=function(e,t){if(r.instanceOf(t,BigInt),t!==BigInt.asIntN(64,t))throw new RangeError("Value out of range");const n=new ArrayBuffer(8);new DataView(n).setBigInt64(0,t),e.addAll(n)}},7614:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.type=t._consumeType=void 0;const r=n(5682),a=n(43),s=n(2556),u=n(3259),o=n(9088),i=n(2847),l=[];{const e=n(3975).default.prototype.addToBuffer,t=i;for(const n in t){const r=t[n];r.prototype.addToBuffer===e&&l.push(r)}}const f=new Map;for(const e of l)f.set(e._value,e);const c=new WeakMap,d=new i.StringType;function h(e,t){if(t<0)throw new RangeError(`Offset is negative: ${t}`);const n=new Uint8Array(e);if(e.byteLength<=t)throw new Error(s.NOT_LONG_ENOUGH);const r=n[t];let l,y=1;const g=f.get(r);if(g)return{value:new g,length:y};switch(r){case i.BooleanTupleType._value:{const n=s.readFlexInt(e,t+y);y+=n.length,l=new i.BooleanTupleType(n.value);break}case i.TupleType._value:{const n=h(e,t+y);y+=n.length;const r=s.readFlexInt(e,t+y);y+=r.length,l=new i.TupleType({type:n.value,length:r.value});break}case i.StructType._value:{const n=s.readFlexInt(e,t+y);y+=n.length;const r=n.value,a={};for(let n=0;n<r;n++){const n=d.consumeValue(e,t+y);y+=n.length;const r=h(e,t+y);a[n.value]=r.value,y+=r.length}l=new i.StructType(a);break}case i.ArrayType._value:{const n=h(e,t+y);y+=n.length,l=new i.ArrayType(n.value);break}case i.SetType._value:{const n=h(e,t+y);y+=n.length,l=new i.SetType(n.value);break}case i.MapType._value:{const n=h(e,t+y);y+=n.length;const r=h(e,t+y);y+=r.length,l=new i.MapType(n.value,r.value);break}case i.EnumType._value:{const n=h(e,t+y),r=n.value;y+=n.length;const a=s.readFlexInt(e,t+y);y+=a.length;const u=a.value,o=new Array(u);for(let n=0;n<u;n++){const a=t+y,s=r.consumeValue(e,a);y+=s.length,o[n]=s.value}l=new i.EnumType({type:r,values:o});break}case i.ChoiceType._value:{const n=s.readFlexInt(e,t+y);y+=n.length;const r=n.value,a=new Array(r);for(let n=0;n<r;n++){const r=h(e,t+y);a[n]=r.value,y+=r.length}l=new i.ChoiceType(a);break}case i.RecursiveType._value:{const n=s.readFlexInt(e,t+y),r=n.value;y+=n.length;let a,u=c.get(e);if(u?a=u.get(r):(u=new Map,c.set(e,u)),void 0===a){do{a="read-type";for(let e=0;e<16;e++)a+=Math.floor(16*Math.random()).toString(16)}while(o.isRegistered(a));u.set(r,a);const n=h(e,t+y);y+=n.length,o.registerType({type:n.value,name:a})}l=new i.RecursiveType(a);break}case i.SingletonType._value:{const n=h(e,t+y);y+=n.length;const r=n.value,a=r.consumeValue(e,t+y);y+=a.length,l=new i.SingletonType({type:r,value:a.value});break}case i.OptionalType._value:{const n=h(e,t+y);y+=n.length,l=new i.OptionalType(n.value);break}case i.PointerType._value:{const n=h(e,t+y);y+=n.length,l=new i.PointerType(n.value);break}case a.REPEATED_TYPE:{const n=s.readFlexInt(e,t+y);l=h(e,t+y-n.value).value,y+=n.length;break}default:throw new Error(`No such type: 0x${u.hexByte(n[t])}`)}return{value:l,length:y}}t._consumeType=h,t.type=function(e,t=!0){let n,a;r.instanceOf(e,[ArrayBuffer,Uint8Array]),e instanceof ArrayBuffer?(n=e,a=0):(n=e.buffer,a=e.byteOffset);const{value:s,length:u}=h(n,a);if(t&&u!==e.byteLength)throw new Error("Did not consume all of the buffer");return s}},9088:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isRegistered=t.getType=t.registerType=void 0;const r=n(5682),a=n(2847),s=new Map;t.registerType=function({type:e,name:n}){if(r.instanceOf(e,[a.ArrayType,a.MapType,a.SetType,a.StructType,a.TupleType]),r.instanceOf(n,String),t.isRegistered(n))throw new Error(`"${n}" is already a registered type`);s.set(n,e)},t.getType=function(e){r.instanceOf(e,String);const t=s.get(e);if(!t)throw new Error(`"${e}" is not a registered type`);return t},t.isRegistered=e=>s.has(e)},1301:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(3975);class a extends r.default{}t.default=a},3975:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(9742),a=n(7715),s=n(6783),u=n(359),o=n(5682),i=n(43),l=n(8656),f=n(5212),c=n(3527);t.default=class{static get _value(){throw new Error("Generic Type has no value byte")}addToBuffer(e){if(this.isBuffer(e),this.cachedTypeLocations){if(!c.get(e)){const t=this.cachedTypeLocations.get(e);if(void 0!==t)return e.add(i.REPEATED_TYPE).addAll(l.makeValueBuffer(e.length-t)),!1}}else this.cachedTypeLocations=new WeakMap;return this.cachedTypeLocations.set(e,e.length),e.add(this.constructor._value),!0}toBuffer(){return this.cachedBuffer||(this.cachedBuffer=this._toBuffer()),this.cachedBuffer instanceof Uint8Array&&(this.cachedBuffer=f.toArrayBuffer(this.cachedBuffer)),this.cachedBuffer}getHash(){return this.cachedHash||(this.cachedHash=this._getHash()),this.cachedHash}getSignature(){return this.cachedSignature||(this.cachedSignature=this._getSignature()),this.cachedSignature}valueBuffer(e){const t=new f.default;return this.writeValue(t,e),t.toBuffer()}readValue(e,t=0){o.instanceOf(e,[ArrayBuffer,Uint8Array]),o.instanceOf(t,Number);const{buffer:n,byteOffset:r,byteLength:a}=f.asUint8Array(e),{value:s,length:u}=this.consumeValue(n,r+t);if(t+u!==a)throw new Error("Did not consume all of buffer");return s}equals(e){return this.isSameType(e)}isSameType(e){return!!e&&this.constructor===e.constructor}isBuffer(e){o.instanceOf(e,u.AppendableBuffer)}_toBuffer(){const e=new f.default;return this.addToBuffer(e),e.toUint8Array()}_getHash(){return this.cachedBuffer||(this.cachedBuffer=this._toBuffer()),r.fromByteArray(new Uint8Array(a.default(f.asUint8Array(this.cachedBuffer))))}_getSignature(){return s.VERSION_STRING+this.getHash()}}},7299:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayType=void 0;const r=n(5682),a=n(2556),s=n(647),u=n(1301),o=n(3975);class i extends u.default{constructor(e){super(),this.type=e,r.instanceOf(e,o.default)}static get _value(){return 82}addToBuffer(e){return!!super.addToBuffer(e)&&(this.type.addToBuffer(e),!0)}writeValue(e,t){this.isBuffer(e),r.instanceOf(t,Array),s.writeIterable({type:this.type,buffer:e,value:t,length:t.length})}consumeValue(e,t,n){const r=a.readFlexInt(e,t),s=r.value;let{length:u}=r;const o=n||a.makeBaseValue(this,s);for(let n=0;n<s;n++){const r=this.type.consumeValue(e,t+u);u+=r.length,o[n]=r.value}return{value:o,length:u}}equals(e){return this.isSameType(e)&&this.type.equals(e.type)}}t.ArrayType=i},4957:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BigIntType=void 0;const r=n(5682),a=n(8656),s=n(2556),u=n(3445);class o extends u.default{static get _value(){return 5}writeValue(e,t){this.isBuffer(e),r.instanceOf(t,BigInt);const n=[];let s=0n;for(;t!==s;){const e=BigInt.asIntN(8,t);n.push(255&Number(e)),s=e>>8n,t>>=8n}const u=n.length;e.addAll(a.makeValueBuffer(u));for(let t=u-1;t>=0;t--)e.add(n[t])}consumeValue(e,t){const n=s.readFlexInt(e,t),r=n.value;let{length:a}=n;if(e.byteLength<t+a+r)throw new Error(s.NOT_LONG_ENOUGH);let u=0n;for(const n of new Uint8Array(e,t+a,r))u=u<<8n|BigInt(n);return u=BigInt.asIntN(r<<3,u),a+=r,{value:u,length:a}}}t.BigIntType=o},7866:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BigUnsignedIntType=void 0;const r=n(5682),a=n(8656),s=n(2556),u=n(4582);class o extends u.default{static get _value(){return 21}writeValue(e,t){if(this.isBuffer(e),r.instanceOf(t,BigInt),t<0n)throw new RangeError("Value out of range");const n=[];for(;t;)n.push(Number(BigInt.asUintN(8,t))),t>>=8n;const s=n.length;e.addAll(a.makeValueBuffer(s));for(let t=n.length-1;t>=0;t--)e.add(n[t])}consumeValue(e,t){const n=s.readFlexInt(e,t),r=n.value;let{length:a}=n;if(e.byteLength<t+a+r)throw new Error(s.NOT_LONG_ENOUGH);let u=0n;for(const n of new Uint8Array(e,t+a,r))u=u<<8n|BigInt(n);return a+=r,{value:u,length:a}}}t.BigUnsignedIntType=o},3477:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BooleanArrayType=void 0;const r=n(5682),a=n(8656),s=n(2556),u=n(647),o=n(1301);class i extends o.default{static get _value(){return 50}writeValue(e,t){this.isBuffer(e),r.instanceOf(t,Array),e.addAll(a.makeValueBuffer(t.length)),u.writeBooleans(e,t)}consumeValue(e,t){const n=s.readFlexInt(e,t),r=n.value;let{length:a}=n;const u=s.readBooleans({buffer:e,offset:t+a,count:r}),{value:o}=u;return a+=u.length,{value:o,length:a}}}t.BooleanArrayType=i},5529:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BooleanTupleType=void 0;const r=n(5682),a=n(8656),s=n(2556),u=n(647),o=n(1301);class i extends o.default{constructor(e){super(),this.length=e,r.nonNegativeInteger(e)}static get _value(){return 49}addToBuffer(e){return!!super.addToBuffer(e)&&(e.addAll(a.makeValueBuffer(this.length)),!0)}writeValue(e,t){if(this.isBuffer(e),r.instanceOf(t,Array),t.length!==this.length)throw new Error(`Length does not match: expected ${this.length} but got ${t.length}`);u.writeBooleans(e,t)}consumeValue(e,t){return s.readBooleans({buffer:e,offset:t,count:this.length})}equals(e){return this.isSameType(e)&&e.length===this.length}}t.BooleanTupleType=i},2793:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BooleanType=void 0;const r=n(5682),a=n(2556),s=n(647),u=n(1301);class o extends u.default{static get _value(){return 48}writeValue(e,t){this.isBuffer(e),r.instanceOf(t,Boolean),s.writeBooleanByte(e,t)}consumeValue(e,t){return a.readBooleanByte(e,t)}}t.BooleanType=o},569:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ByteType=void 0;const r=n(5682),a=n(2556),s=n(7705),u=n(3445),o=a.readNumber({type:Int8Array,func:"getInt8"});class i extends u.default{static get _value(){return 1}writeValue(e,t){this.isBuffer(e);const n=s.default(t);void 0!==n&&(t=n),r.integer(t),r.between(-128,t,128,"Value out of range"),e.addAll(new Int8Array([t]).buffer)}consumeValue(e,t){return o(e,t)}}t.ByteType=i},5464:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CharType=void 0;const r=n(5682),a=n(2507),s=n(2556),u=n(1301);class o extends u.default{static get _value(){return 64}writeValue(e,t){if(this.isBuffer(e),r.instanceOf(t,String),1!==t.length)throw new Error("String must contain only 1 character");e.addAll(a.fromString(t))}consumeValue(e,t){if(e.byteLength<=t)throw new Error(s.NOT_LONG_ENOUGH);const[n]=a.toString(new Uint8Array(e,t).subarray(0,4));return{value:n,length:a.fromString(n).byteLength}}}t.CharType=o},883:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ChoiceType=void 0;const r=n(5682),a=n(8656),s=n(2556),u=n(3259),o=n(1301),i=n(3975),l=n(9286),f=n(7240);class c extends o.default{constructor(e){super(),this.types=e,r.instanceOf(e,Array);for(const t of e)r.instanceOf(t,i.default)}static get _value(){return 86}addToBuffer(e){if(super.addToBuffer(e)){e.addAll(a.makeValueBuffer(this.types.length));for(const t of this.types)t.addToBuffer(e);return!0}return!1}writeValue(e,t){this.isBuffer(e),e.pause();let n=!1;for(let r=0;r<this.types.length;r++){const s=this.types[r];e.addAll(a.makeValueBuffer(r));try{s.writeValue(e,t),n=!0;break}catch{e.reset(),l.rewindBuffer(e),f.rewindBuffer(e)}}if(e.resume(),!n)throw new Error("No types matched: "+u.inspect(t))}consumeValue(e,t){const n=s.readFlexInt(e,t),r=n.value;let{length:a}=n;const{value:u,length:o}=this.types[r].consumeValue(e,t+a);return a+=o,{value:u,length:a}}equals(e){return this.isSameType(e)&&this.types.length===e.types.length&&this.types.every(((t,n)=>t.equals(e.types[n])))}}t.ChoiceType=c},7887:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(1301);class a extends r.default{}t.default=a},2430:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DateType=void 0;const r=n(5682),a=n(2556),s=n(647),u=n(7887);class o extends u.default{static get _value(){return 26}writeValue(e,t){this.isBuffer(e),r.instanceOf(t,Date),s.writeLong(e,BigInt(t.getTime()))}consumeValue(e,t){const{value:n,length:r}=a.readLong(e,t);return{value:new Date(Number(n)),length:r}}}t.DateType=o},4811:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DayType=void 0;const r=n(5682),a=n(7505),s=n(2556),u=n(7887);class o extends u.default{static get _value(){return 27}writeValue(e,t){this.isBuffer(e),r.instanceOf(t,Date);const n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),s=a.toUTC(n)/a.MILLIS_PER_DAY,u=new ArrayBuffer(3),o=new DataView(u);o.setInt16(0,s>>8),o.setUint8(2,s),e.addAll(u)}consumeValue(e,t){if(e.byteLength<t+3)throw new Error(s.NOT_LONG_ENOUGH);const n=new DataView(e,t),r=n.getInt16(0)<<8|n.getUint8(2);return{value:a.fromUTC(r*a.MILLIS_PER_DAY),length:3}}}t.DayType=o},1937:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DoubleType=void 0;const r=n(5682),a=n(2556),s=n(7705),u=n(2050),o=a.readNumber({type:Float64Array,func:"getFloat64"});class i extends u.default{static get _value(){return 33}writeValue(e,t){this.isBuffer(e);const n=s.default(t);void 0!==n&&(t=n),r.instanceOf(t,Number);const a=new ArrayBuffer(8);new DataView(a).setFloat64(0,t),e.addAll(a)}consumeValue(e,t){return o(e,t)}}t.DoubleType=i},5478:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EnumType=void 0;const r=n(5682),a=n(2507),s=n(8656),u=n(2556),o=n(3259),i=n(1301),l=n(3975);class f extends l.default{constructor({type:e,values:t}){super(),r.instanceOf(e,i.default),r.instanceOf(t,Array),this.type=e,this.values=t}static get _value(){return 85}get valueIndices(){if(!this.cachedValueIndices){const{type:e,values:t}=this,n=new Map;t.forEach(((t,r)=>{const s=a.toBinaryString(e.valueBuffer(t));if(n.has(s))throw new Error("Value is repeated: "+o.inspect(t));n.set(s,r)})),this.cachedValueIndices=n}return this.cachedValueIndices}addToBuffer(e){if(super.addToBuffer(e)){this.type.addToBuffer(e),e.addAll(s.makeValueBuffer(this.values.length));for(const t of this.valueIndices.keys())e.addAll(a.fromBinaryString(t));return!0}return!1}writeValue(e,t){this.isBuffer(e);const n=this.type.valueBuffer(t),r=this.valueIndices.get(a.toBinaryString(n));if(void 0===r)throw new Error("Not a valid enum value: "+o.inspect(t));e.addAll(s.makeValueBuffer(r))}consumeValue(e,t){const{value:n,length:r}=u.readFlexInt(e,t),a=this.values[n];if(void 0===a)throw new Error(`Index ${n} is invalid`);return{value:a,length:r}}equals(e){if(!this.isSameType(e))return!1;if(!this.type.equals(e.type))return!1;if(this.values.length!==e.values.length)return!1;const t=e.valueIndices;for(const[e,n]of this.valueIndices)if(t.get(e)!==n)return!1;return!0}}t.EnumType=f},1685:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FlexIntType=void 0;const r=n(5682),a=n(8656),s=n(2556),u=n(7705),o=n(3445),i=e=>1&e?(e+1)/-2:e/2,l=i(Number.MAX_SAFE_INTEGER),f=i(Number.MAX_SAFE_INTEGER-1)+1;class c extends o.default{static get _value(){return 7}writeValue(e,t){this.isBuffer(e);const n=u.default(t);var s;void 0!==n&&(t=n),r.integer(t),r.between(l,t,f),e.addAll(a.makeValueBuffer((s=t)<0?-2*s-1:2*s))}consumeValue(e,t){const{value:n,length:r}=s.readFlexInt(e,t);return{value:i(n),length:r}}}t.FlexIntType=c},1441:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FlexUnsignedIntType=void 0;const r=n(5682),a=n(8656),s=n(2556),u=n(7705),o=n(4582);class i extends o.default{static get _value(){return 23}writeValue(e,t){this.isBuffer(e);const n=u.default(t);void 0!==n&&(t=n),r.integer(t),e.addAll(a.makeValueBuffer(t))}consumeValue(e,t){return s.readFlexInt(e,t)}}t.FlexUnsignedIntType=i},1299:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FloatType=void 0;const r=n(5682),a=n(2556),s=n(7705),u=n(2050),o=a.readNumber({type:Float32Array,func:"getFloat32"});class i extends u.default{static get _value(){return 32}writeValue(e,t){this.isBuffer(e);const n=s.default(t);void 0!==n&&(t=n),r.instanceOf(t,Number);const a=new ArrayBuffer(4);new DataView(a).setFloat32(0,t),e.addAll(a)}consumeValue(e,t){return o(e,t)}}t.FloatType=i},2050:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(1301);class a extends r.default{}t.default=a},2847:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.PointerType=t.RecursiveType=void 0,a(n(445),t),a(n(569),t),a(n(9833),t),a(n(6741),t),a(n(6511),t),a(n(4957),t),a(n(1685),t),a(n(7853),t),a(n(432),t),a(n(3794),t),a(n(334),t),a(n(7866),t),a(n(1441),t),a(n(2430),t),a(n(4811),t),a(n(122),t),a(n(1299),t),a(n(1937),t),a(n(2793),t),a(n(5529),t),a(n(3477),t),a(n(5464),t),a(n(6010),t),a(n(7776),t),a(n(4573),t),a(n(2092),t),a(n(7299),t),a(n(9661),t),a(n(4054),t),a(n(5478),t),a(n(883),t);var s=n(7240);Object.defineProperty(t,"RecursiveType",{enumerable:!0,get:function(){return s.RecursiveType}}),a(n(7940),t),a(n(1991),t);var u=n(9286);Object.defineProperty(t,"PointerType",{enumerable:!0,get:function(){return u.PointerType}})},6741:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IntType=void 0;const r=n(5682),a=n(2556),s=n(7705),u=n(3445),o=a.readNumber({type:Int32Array,func:"getInt32"});class i extends u.default{static get _value(){return 3}writeValue(e,t){this.isBuffer(e);const n=s.default(t);void 0!==n&&(t=n),r.integer(t),r.between(-2147483648,t,2147483648,"Value out of range");const a=new ArrayBuffer(4);new DataView(a).setInt32(0,t),e.addAll(a)}consumeValue(e,t){return o(e,t)}}t.IntType=i},3445:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(1301);class a extends r.default{}t.default=a},6511:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LongType=void 0;const r=n(2556),a=n(647),s=n(3445);class u extends s.default{static get _value(){return 4}writeValue(e,t){this.isBuffer(e),a.writeLong(e,t)}consumeValue(e,t){return r.readLong(e,t)}}t.LongType=u},4054:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MapType=void 0;const r=n(5682),a=n(8656),s=n(2556),u=n(1301),o=n(3975);class i extends u.default{constructor(e,t){super(),this.keyType=e,this.valueType=t,r.instanceOf(e,o.default),r.instanceOf(t,o.default)}static get _value(){return 84}addToBuffer(e){return!!super.addToBuffer(e)&&(this.keyType.addToBuffer(e),this.valueType.addToBuffer(e),!0)}writeValue(e,t){this.isBuffer(e),r.instanceOf(t,Map),e.addAll(a.makeValueBuffer(t.size));for(const[n,r]of t)this.keyType.writeValue(e,n),this.valueType.writeValue(e,r)}consumeValue(e,t,n){const r=s.readFlexInt(e,t),a=r.value;let{length:u}=r;const o=n||s.makeBaseValue(this);for(let n=0;n<a;n++){const n=this.keyType.consumeValue(e,t+u);u+=n.length;const r=this.valueType.consumeValue(e,t+u);u+=r.length,o.set(n.value,r.value)}return{value:o,length:u}}equals(e){return this.isSameType(e)&&this.keyType.equals(e.keyType)&&this.valueType.equals(e.valueType)}}t.MapType=i},7776:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OctetsType=void 0;const r=n(5682),a=n(8656),s=n(2556),u=n(1301);class o extends u.default{static get _value(){return 66}writeValue(e,t){this.isBuffer(e),r.instanceOf(t,[ArrayBuffer,Uint8Array]),e.addAll(a.makeValueBuffer(t.byteLength)).addAll(t)}consumeValue(e,t){const n=s.readFlexInt(e,t),r=n.value;let{length:a}=n;const u=a;if(a+=r,e.byteLength<t+a)throw new Error(s.NOT_LONG_ENOUGH);return{value:e.slice(t+u,t+a),length:a}}}t.OctetsType=o},1991:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OptionalType=void 0;const r=n(5682),a=n(2556),s=n(647),u=n(1301),o=n(3975);class i extends u.default{constructor(e){super(),this.type=e,r.instanceOf(e,o.default)}static get _value(){return 96}addToBuffer(e){return!!super.addToBuffer(e)&&(this.type.addToBuffer(e),!0)}writeValue(e,t){this.isBuffer(e);const n=null==t;s.writeBooleanByte(e,!n),n||this.type.writeValue(e,t)}consumeValue(e,t){const n=a.readBooleanByte(e,t),r=n.value;let s,{length:u}=n;if(r){const n=this.type.consumeValue(e,t+u);({value:s}=n),u+=n.length}else s=null;return{value:s,length:u}}equals(e){return this.isSameType(e)&&this.type.equals(e.type)}}t.OptionalType=i},9286:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PointerType=t.rewindBuffer=void 0;const r=n(5682),a=n(2507),s=n(8656),u=n(2556),o=n(1301),i=n(3975),l=new WeakMap,f=new WeakMap;t.rewindBuffer=function(e){const t=l.get(e);if(t){const{length:n}=e;for(const[e,r]of t)r>=n&&t.delete(e)}};class c extends i.default{constructor(e){super(),this.type=e,r.instanceOf(e,o.default)}static get _value(){return 112}addToBuffer(e){return!!super.addToBuffer(e)&&(this.type.addToBuffer(e),!0)}writeValue(e,t){this.isBuffer(e);let n=l.get(e);n||l.set(e,n=new Map);const r=this.type.valueBuffer(t),u=a.toBinaryString(r),o=n.get(u),{length:i}=e;n.set(u,i),void 0===o?e.addAll(s.makeValueBuffer(0)).addAll(r):e.addAll(s.makeValueBuffer(i-o))}consumeValue(e,t){let n,r=!0;for(;;){const{value:a,length:s}=u.readFlexInt(e,t);if(void 0===n&&(n=s),!a)break;t-=a,r=!1}let a=f.get(e);a||f.set(e,a=new Map);let s=a.get(this);s||a.set(this,s=new Map);let o=s.get(t);if(void 0===o){const a=this.type.consumeValue(e,t+n);({value:o}=a),r&&(n+=a.length),s.set(t,o)}return{value:o,length:n}}equals(e){return this.isSameType(e)&&this.type.equals(e.type)}}t.PointerType=c},7240:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RecursiveType=t.rewindBuffer=void 0;const r=n(5682),a=n(8656),s=n(2556),u=n(3527),o=n(647),i=n(9088),l=n(3975),f=new WeakMap,c=new WeakMap,d=new WeakMap;t.rewindBuffer=function(e){const t=f.get(e);if(t){const{length:n}=e;for(const[e,r]of t)r>=n&&t.delete(e)}};class h extends l.default{constructor(e){super(),this.name=e,r.instanceOf(e,String)}static get _value(){return 87}get type(){return i.getType(this.name)}addToBuffer(e){if(super.addToBuffer(e)){let t=c.get(e);t||c.set(e,t=new Map);let n=t.get(this.name);const r=void 0===n;return r&&t.set(this.name,n=t.size),e.addAll(a.makeValueBuffer(n)),r&&(u.increment(e),this.type.addToBuffer(e),u.decrement(e)),!0}return!1}writeValue(e,t){this.isBuffer(e);let n=f.get(e);if(n){const r=n.get(t);if(void 0!==r)return void o.writeBooleanByte(e,!1).addAll(a.makeValueBuffer(e.length-r))}else f.set(e,n=new Map);o.writeBooleanByte(e,!0),n.set(t,e.length);try{this.type.writeValue(e,t)}catch(e){throw n.delete(t),e}}consumeValue(e,t){let n=d.get(e);const r=s.readBooleanByte(e,t),a=r.value;let u,{length:o}=r;if(a)u=s.makeBaseValue(this.type),n||d.set(e,n=new Map),n.set(t+o,u),o+=this.type.consumeValue(e,t+o,u).length;else{const r=s.readFlexInt(e,t+o),a=t+o-r.value,i=n&&n.get(a);if(!i)throw new Error(`Cannot find target at ${a}`);u=i,o+=r.length}return{value:u,length:o}}equals(e){return this.isSameType(e)&&this.name===e.name}setType(e){i.registerType({type:e,name:this.name})}}t.RecursiveType=h},9661:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SetType=void 0;const r=n(5682),a=n(2556),s=n(647),u=n(1301),o=n(3975);class i extends u.default{constructor(e){super(),this.type=e,r.instanceOf(e,o.default)}static get _value(){return 83}addToBuffer(e){return!!super.addToBuffer(e)&&(this.type.addToBuffer(e),!0)}writeValue(e,t){this.isBuffer(e),r.instanceOf(t,Set),s.writeIterable({type:this.type,buffer:e,value:t,length:t.size})}consumeValue(e,t,n){const r=a.readFlexInt(e,t),s=r.value;let{length:u}=r;const o=n||a.makeBaseValue(this);for(let n=0;n<s;n++){const n=this.type.consumeValue(e,t+u);u+=n.length,o.add(n.value)}return{value:o,length:u}}equals(e){return this.isSameType(e)&&this.type.equals(e.type)}}t.SetType=i},9833:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ShortType=void 0;const r=n(5682),a=n(2556),s=n(7705),u=n(3445),o=a.readNumber({type:Int16Array,func:"getInt16"});class i extends u.default{static get _value(){return 2}writeValue(e,t){this.isBuffer(e);const n=s.default(t);void 0!==n&&(t=n),r.integer(t),r.between(-32768,t,32768,"Value out of range");const a=new ArrayBuffer(2);new DataView(a).setInt16(0,t),e.addAll(a)}consumeValue(e,t){return o(e,t)}}t.ShortType=i},7940:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SingletonType=void 0;const r=n(5682),a=n(3259),s=n(1301),u=n(3975);class o extends u.default{constructor({type:e,value:t}){super(),r.instanceOf(e,s.default),this.type=e,this.value=t}static get _value(){return 89}get singletonValueBuffer(){return this.cachedValueBuffer||(this.cachedValueBuffer=this.type.valueBuffer(this.value)),this.cachedValueBuffer}addToBuffer(e){return!!super.addToBuffer(e)&&(this.type.addToBuffer(e),e.addAll(this.singletonValueBuffer),!0)}writeValue(e,t){if(this.isBuffer(e),!r.equal.buffers(this.type.valueBuffer(t),this.singletonValueBuffer))throw new Error(`Expected ${a.inspect(this.value)} but got ${a.inspect(t)}`)}consumeValue(){return{value:this.value,length:0}}equals(e){return this.isSameType(e)&&this.type.equals(e.type)&&r.equal.buffers(this.singletonValueBuffer,e.singletonValueBuffer)}}t.SingletonType=o},6010:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StringType=void 0;const r=n(5682),a=n(2507),s=n(2556),u=n(1301);class o extends u.default{static get _value(){return 65}writeValue(e,t){this.isBuffer(e),r.instanceOf(t,String),e.addAll(a.fromString(t)).add(0)}consumeValue(e,t){const n=new Uint8Array(e,t);let r=0;for(;;){if(n.length<=r)throw new Error(s.NOT_LONG_ENOUGH);if(!n[r])break;r++}const u=a.toString(n.subarray(0,r));return r++,{value:u,length:r}}}t.StringType=o},2092:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StructType=void 0;const r=n(5682),a=n(8656),s=n(2556),u=n(3259),o=n(1301),i=n(3975),l=new(n(6010).StringType);class f extends o.default{constructor(e){super(),r.instanceOf(e,Object),this.fields=[];for(const t in e){if(!{}.hasOwnProperty.call(e,t))continue;const n=e[t];try{r.instanceOf(n,i.default)}catch{throw new Error(u.inspect(n)+" is not a valid field type")}this.fields.push({name:t,type:n})}this.fields.sort(((e,t)=>e.name<t.name?-1:e.name>t.name?1:0))}static get _value(){return 81}addToBuffer(e){if(super.addToBuffer(e)){e.addAll(a.makeValueBuffer(this.fields.length));for(const{name:t,type:n}of this.fields)l.writeValue(e,t),n.addToBuffer(e);return!0}return!1}writeValue(e,t){this.isBuffer(e),r.instanceOf(t,Object);for(const{name:n,type:r}of this.fields){const a=t[n];try{r.writeValue(e,a)}catch(e){throw void 0===a?new Error(`Value for field "${n}" missing`):e}}}consumeValue(e,t,n){let r=0;const a=n||s.makeBaseValue(this);for(const{name:n,type:s}of this.fields){const u=s.consumeValue(e,t+r);a[n]=u.value,r+=u.length}return{value:a,length:r}}equals(e){return this.isSameType(e)&&this.fields.length===e.fields.length&&this.fields.every((({name:t,type:n},r)=>{const a=e.fields[r];return t===a.name&&n.equals(a.type)}))}}t.StructType=f},122:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TimeType=void 0;const r=n(5682),a=n(7505),s=n(2556),u=n(7887);class o extends u.default{static get _value(){return 28}writeValue(e,t){this.isBuffer(e),r.instanceOf(t,Date);const n=new ArrayBuffer(4);new DataView(n).setUint32(0,t.getTime()%a.MILLIS_PER_DAY),e.addAll(n)}consumeValue(e,t){if(e.byteLength<t+4)throw new Error(s.NOT_LONG_ENOUGH);return{value:new Date(new DataView(e).getUint32(t)),length:4}}}t.TimeType=o},4573:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TupleType=void 0;const r=n(5682),a=n(8656),s=n(2556),u=n(1301),o=n(3975);class i extends u.default{constructor({type:e,length:t}){super(),r.instanceOf(e,o.default),r.nonNegativeInteger(t),this.type=e,this.length=t}static get _value(){return 80}addToBuffer(e){return!!super.addToBuffer(e)&&(this.type.addToBuffer(e),e.addAll(a.makeValueBuffer(this.length)),!0)}writeValue(e,t){if(this.isBuffer(e),r.instanceOf(t,Array),t.length!==this.length)throw new Error(`Length does not match: expected ${this.length} but got ${t.length}`);for(const n of t)this.type.writeValue(e,n)}consumeValue(e,t,n){let r=0;const a=n||s.makeBaseValue(this);for(let n=0;n<this.length;n++){const s=this.type.consumeValue(e,t+r);r+=s.length,a[n]=s.value}return{value:a,length:r}}equals(e){return this.isSameType(e)&&this.type.equals(e.type)&&this.length===e.length}}t.TupleType=i},445:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},7853:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnsignedByteType=void 0;const r=n(5682),a=n(2556),s=n(7705),u=n(4582),o=a.readNumber({type:Uint8Array,func:"getUint8"});class i extends u.default{static get _value(){return 17}writeValue(e,t){this.isBuffer(e);const n=s.default(t);void 0!==n&&(t=n),r.integer(t),r.between(0,t,256,"Value out of range"),e.add(t)}consumeValue(e,t){return o(e,t)}}t.UnsignedByteType=i},3794:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnsignedIntType=void 0;const r=n(5682),a=n(2556),s=n(7705),u=n(4582),o=a.readNumber({type:Uint32Array,func:"getUint32"});class i extends u.default{static get _value(){return 19}writeValue(e,t){this.isBuffer(e);const n=s.default(t);void 0!==n&&(t=n),r.integer(t),r.between(0,t,4294967296,"Value out of range");const a=new ArrayBuffer(4);new DataView(a).setUint32(0,t),e.addAll(a)}consumeValue(e,t){return o(e,t)}}t.UnsignedIntType=i},334:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnsignedLongType=void 0;const r=n(5682),a=n(2556),s=n(4582);class u extends s.default{static get _value(){return 20}writeValue(e,t){if(this.isBuffer(e),r.instanceOf(t,BigInt),t!==BigInt.asUintN(64,t))throw new RangeError("Value out of range");const n=new ArrayBuffer(8);new DataView(n).setBigInt64(0,t),e.addAll(n)}consumeValue(e,t){if(e.byteLength<t+8)throw new Error(a.NOT_LONG_ENOUGH);return{value:new DataView(e,t).getBigUint64(0),length:8}}}t.UnsignedLongType=u},432:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnsignedShortType=void 0;const r=n(5682),a=n(2556),s=n(7705),u=n(4582),o=a.readNumber({type:Uint16Array,func:"getUint16"});class i extends u.default{static get _value(){return 18}writeValue(e,t){this.isBuffer(e);const n=s.default(t);void 0!==n&&(t=n),r.integer(t),r.between(0,t,65536,"Value out of range");const a=new ArrayBuffer(2);new DataView(a).setUint16(0,t),e.addAll(a)}consumeValue(e,t){return o(e,t)}}t.UnsignedShortType=i},4582:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(1301);class a extends r.default{}t.default=a}},t={};!function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}(6024)})();